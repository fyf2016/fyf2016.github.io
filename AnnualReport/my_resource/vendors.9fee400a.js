(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+JPL":function(e,t,n){e.exports={default:n("+SFK"),__esModule:!0}},"+NU8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]};t.default=function(e){if(!(e instanceof HTMLElement))return window;for(var t,n=e;n&&n!==document.body&&n!==document.documentElement&&n.parentNode;){if(/(scroll|auto)/.test(r(t=n,"overflow")+r(t,"overflow-y")+r(t,"overflow-x")))return n;n=n.parentNode}return window}},"+SFK":function(e,t,n){n("AUvm"),n("wgeU"),n("adOz"),n("dl0q"),e.exports=n("WEpk").Symbol},"+Wds":function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return-1<r.call(this,e,arguments[1])}},"+XMV":function(e,t,n){"use strict";e.exports=n("GOzd")()?String.prototype.contains:n("+Wds")},"+Xmh":function(e,t,n){n("jm62"),e.exports=n("g3g5").Object.getOwnPropertyDescriptors},"+auO":function(e,t,n){var r=n("XKFU"),i=n("lvtm");r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},"+oPb":function(e,t,n){"use strict";n("OGtf")("blink",function(e){return function(){return e(this,"blink","","")}})},"+plK":function(e,t,n){n("ApPD"),e.exports=n("WEpk").Object.getPrototypeOf},"+rLv":function(e,t,n){var r=n("dyZX").document;e.exports=r&&r.documentElement},"/8Fb":function(e,t,n){var r=n("XKFU"),i=n("UExd")(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},"/KAi":function(e,t,n){var r=n("XKFU"),i=n("dyZX").isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},"/SS/":function(e,t,n){var r=n("XKFU");r(r.S,"Object",{setPrototypeOf:n("i5dc").set})},"/e88":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"0/R4":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"0E+W":function(e,t,n){n("elZq")("Array")},"0FX9":function(e,t,n){var u=n("Z92M"),l=n("qmMu"),r=n("QUaw"),i=n("QAZZ");function o(r,i,o,a,t){var e=[].slice.call(arguments,1),n=e.length,s="function"==typeof e[n-1];if(!s&&!u())throw new Error("Callback required as last argument");if(!s){if(n<1)throw new Error("Too few arguments provided");return 1===n?(o=i,i=a=void 0):2!==n||i.getContext||(a=o,o=i,i=void 0),new Promise(function(e,t){try{var n=l.create(o,a);e(r(n,i,a))}catch(e){t(e)}})}if(n<2)throw new Error("Too few arguments provided");2===n?(t=o,o=i,i=a=void 0):3===n&&(i.getContext&&void 0===t?(t=a,a=void 0):(t=a,a=o,o=i,i=void 0));try{var c=l.create(o,a);t(null,r(c,i,a))}catch(e){t(e)}}t.create=l.create,t.toCanvas=o.bind(null,r.render),t.toDataURL=o.bind(null,r.renderToDataURL),t.toString=o.bind(null,function(e,t,n){return i.render(e,n)})},"0LDn":function(e,t,n){"use strict";n("OGtf")("italics",function(e){return function(){return e(this,"i","","")}})},"0YWM":function(e,t,n){var a=n("EemH"),s=n("OP3Y"),c=n("aagx"),r=n("XKFU"),u=n("0/R4"),l=n("y3w9");r(r.S,"Reflect",{get:function e(t,n){var r,i,o=arguments.length<3?t:arguments[2];return l(t)===o?t[n]:(r=a.f(t,n))?c(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:u(i=s(t))?e(i,n,o):void 0}})},"0l/t":function(e,t,n){"use strict";var r=n("XKFU"),i=n("CkkT")(2);r(r.P+r.F*!n("LyE8")([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},"0mN4":function(e,t,n){"use strict";n("OGtf")("fixed",function(e){return function(){return e(this,"tt","","")}})},"0sh+":function(e,t,n){var r=n("quPj"),i=n("vhPU");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},"11IZ":function(e,t,n){var r=n("dyZX").parseFloat,i=n("qncB").trim;e.exports=1/r(n("/e88")+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},"16Al":function(e,t,n){"use strict";var s=n("WbBG");function r(){}e.exports=function(){function e(e,t,n,r,i,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},"17x9":function(e,t,n){e.exports=n("16Al")()},"1M0g":function(e,t,n){"use strict";function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,i,o){return p((a=p(p(t,e),p(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function h(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)}function g(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)}function v(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)}function c(e,t){var n=e,r=t;n[r>>5]|=128<<r%32,n[14+(r+64>>>9<<4)]=r;var i=void 0,o=void 0,a=void 0,s=void 0,c=void 0,u=1732584193,l=-271733879,f=-1732584194,d=271733878;for(i=0;i<n.length;i+=16)l=v(l=v(l=v(l=v(l=g(l=g(l=g(l=g(l=m(l=m(l=m(l=m(l=h(l=h(l=h(l=h(a=l,f=h(s=f,d=h(c=d,u=h(o=u,l,f,d,n[i],7,-680876936),l,f,n[i+1],12,-389564586),u,l,n[i+2],17,606105819),d,u,n[i+3],22,-1044525330),f=h(f,d=h(d,u=h(u,l,f,d,n[i+4],7,-176418897),l,f,n[i+5],12,1200080426),u,l,n[i+6],17,-1473231341),d,u,n[i+7],22,-45705983),f=h(f,d=h(d,u=h(u,l,f,d,n[i+8],7,1770035416),l,f,n[i+9],12,-1958414417),u,l,n[i+10],17,-42063),d,u,n[i+11],22,-1990404162),f=h(f,d=h(d,u=h(u,l,f,d,n[i+12],7,1804603682),l,f,n[i+13],12,-40341101),u,l,n[i+14],17,-1502002290),d,u,n[i+15],22,1236535329),f=m(f,d=m(d,u=m(u,l,f,d,n[i+1],5,-165796510),l,f,n[i+6],9,-1069501632),u,l,n[i+11],14,643717713),d,u,n[i],20,-373897302),f=m(f,d=m(d,u=m(u,l,f,d,n[i+5],5,-701558691),l,f,n[i+10],9,38016083),u,l,n[i+15],14,-660478335),d,u,n[i+4],20,-405537848),f=m(f,d=m(d,u=m(u,l,f,d,n[i+9],5,568446438),l,f,n[i+14],9,-1019803690),u,l,n[i+3],14,-187363961),d,u,n[i+8],20,1163531501),f=m(f,d=m(d,u=m(u,l,f,d,n[i+13],5,-1444681467),l,f,n[i+2],9,-51403784),u,l,n[i+7],14,1735328473),d,u,n[i+12],20,-1926607734),f=g(f,d=g(d,u=g(u,l,f,d,n[i+5],4,-378558),l,f,n[i+8],11,-2022574463),u,l,n[i+11],16,1839030562),d,u,n[i+14],23,-35309556),f=g(f,d=g(d,u=g(u,l,f,d,n[i+1],4,-1530992060),l,f,n[i+4],11,1272893353),u,l,n[i+7],16,-155497632),d,u,n[i+10],23,-1094730640),f=g(f,d=g(d,u=g(u,l,f,d,n[i+13],4,681279174),l,f,n[i],11,-358537222),u,l,n[i+3],16,-722521979),d,u,n[i+6],23,76029189),f=g(f,d=g(d,u=g(u,l,f,d,n[i+9],4,-640364487),l,f,n[i+12],11,-421815835),u,l,n[i+15],16,530742520),d,u,n[i+2],23,-995338651),f=v(f,d=v(d,u=v(u,l,f,d,n[i],6,-198630844),l,f,n[i+7],10,1126891415),u,l,n[i+14],15,-1416354905),d,u,n[i+5],21,-57434055),f=v(f,d=v(d,u=v(u,l,f,d,n[i+12],6,1700485571),l,f,n[i+3],10,-1894986606),u,l,n[i+10],15,-1051523),d,u,n[i+1],21,-2054922799),f=v(f,d=v(d,u=v(u,l,f,d,n[i+8],6,1873313359),l,f,n[i+15],10,-30611744),u,l,n[i+6],15,-1560198380),d,u,n[i+13],21,1309151649),f=v(f,d=v(d,u=v(u,l,f,d,n[i+4],6,-145523070),l,f,n[i+11],10,-1120210379),u,l,n[i+2],15,718787259),d,u,n[i+9],21,-343485551),u=p(u,o),l=p(l,a),f=p(f,s),d=p(d,c);return[u,l,f,d]}function u(e){var t=void 0,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t=void 0,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function r(e){var t="0123456789abcdef",n="",r=void 0,i=void 0;for(i=0;i<e.length;i+=1)r=e.charCodeAt(i),n+=t.charAt(r>>>4&15)+t.charAt(15&r);return n}function i(e){return unescape(encodeURIComponent(e))}function o(e){return u(c(l(t=i(e)),8*t.length));var t}function a(e,t){return function(e,t){var n=void 0,r=l(e),i=[],o=[];for(i[15]=void 0,o[15]=void 0,16<r.length&&(r=c(r,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],o[n]=1549556828^r[n];var a=c(i.concat(l(t)),512+8*t.length);return u(c(o.concat(a),640))}(i(e),i(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return t?n?a(t,e):r(a(t,e)):n?o(e):r(o(e))},e.exports=t.default},"1MBn":function(e,t,n){var s=n("DVgA"),c=n("JiEa"),u=n("UqcF");e.exports=function(e){var t=s(e),n=c.f;if(n)for(var r,i=n(e),o=u.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},"1TsA":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"1sBl":function(e,a,t){var s=t("e/Dd").getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=s(e),r=145===n?26:2*Math.ceil((n-13)/(2*t-2)),i=[n-7],o=1;o<t-1;o++)i[o]=i[o-1]-r;return i.push(6),i.reverse()},a.getPositions=function(e){for(var t=[],n=a.getRowColCoords(e),r=n.length,i=0;i<r;i++)for(var o=0;o<r;o++)0===i&&0===o||0===i&&o===r-1||i===r-1&&0===o||t.push([n[i],n[o]]);return t}},"1sa7":function(e,t){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},"1w3K":function(e,t,n){"use strict";var r=s(n("Si88")),i=s(n("PAGr")),o=s(n("UnXY")),a=s(n("S3Uj"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},"25dN":function(e,t,n){var r=n("XKFU");r(r.S,"Object",{is:n("g6HL")})},"29s/":function(e,t,n){var r=n("WEpk"),i=n("5T2Y"),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("uOPS")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"2GTP":function(e,t,n){var o=n("eaoh");e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},"2Nb0":function(e,t,n){n("FlQf"),n("bBy9"),e.exports=n("zLkG").f("iterator")},"2OiF":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"2Spj":function(e,t,n){var r=n("XKFU");r(r.P,"Function",{bind:n("8MEG")})},"2atp":function(e,t,n){var r=n("XKFU"),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},"2faE":function(e,t,n){var r=n("5K7Z"),i=n("eUtF"),o=n("G8Mo"),a=Object.defineProperty;t.f=n("jmDH")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"3GJH":function(e,t,n){n("lCc8");var r=n("WEpk").Object;e.exports=function(e,t){return r.create(e,t)}},"3Lyj":function(e,t,n){var i=n("KroJ");e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3X7Y":function(e,t,n){var r=n("u/Db");function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var i=this.data.length-t;0<i&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},"3xty":function(e,t,n){var r=n("XKFU"),o=n("2OiF"),a=n("y3w9"),s=(n("dyZX").Reflect||{}).apply,c=Function.apply;r(r.S+r.F*!n("eeVq")(function(){s(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),i=a(n);return s?s(r,t,i):c.call(r,t,i)}})},"4EFF":function(e,t,n){!function(e){"use strict";function t(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:0<e?1:+e}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e];if(void 0!==r){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var r=n.slice(0),i=0,o=r.length;i<o;i++)r[i].call(this,e)}}}});var r,n,i,o,a,s,c,u,l,f,d,p,h,m,g,v,y,b,x,w,_,W=0,q=1,X=2,V=1,Y=2,N=0,_e=1,ne=2,M=0,T=2,K=0,$=1,J=2,Z=3,Q=4,ee=5,te=100,S=101,U=102,k=103,P=104,E=200,C=201,A=202,O=203,I=204,R=205,L=206,D=207,j=208,F=209,B=210,re=0,ie=1,oe=2,ae=3,se=4,ce=5,ue=6,le=7,z=0,H=1,G=2,fe=0,Me=1,de=2,pe=3,he=4,me=301,ge=302,ve=303,ye=304,be=305,xe=306,we=307,Te=1e3,Se=1001,Ue=1002,ke=1003,Pe=1004,Ee=1005,Ce=1006,Ae=1007,Oe=1008,Ie=1009,Re=1010,Le=1011,Ne=1012,De=1013,je=1014,Fe=1015,Ve=1016,Ye=1017,Be=1018,ze=1019,He=1020,Ge=1021,We=1022,qe=1023,Xe=1024,Ke=1025,$e=qe,Je=1026,Ze=1027,Qe=1028,et=33776,tt=33777,nt=33778,rt=33779,it=35840,ot=35841,at=35842,st=35843,ct=36196,ut=37808,lt=37809,ft=37810,dt=37811,pt=37812,ht=37813,mt=37814,gt=37815,vt=37816,yt=37817,bt=37818,xt=37819,wt=37820,_t=37821,Mt=2300,Tt=2301,St=2400,Ut=2401,kt=2402,Pt=0,Et=3e3,Ct=3001,At=3007,Ot=3002,It=3004,Rt=3005,Lt=3006,Nt=3200,Dt=3201,jt=0,Ft=1,Vt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var o=[],e=0;e<256;e++)o[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=o[255&e]+o[e>>8&255]+o[e>>16&255]+o[e>>24&255]+"-"+o[255&t]+o[t>>8&255]+"-"+o[t>>16&15|64]+o[t>>24&255]+"-"+o[63&n|128]+o[n>>8&255]+"-"+o[n>>16&255]+o[n>>24&255]+o[255&r]+o[r>>8&255]+o[r>>16&255]+o[r>>24&255];return i.toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Vt.DEG2RAD},radToDeg:function(e){return e*Vt.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Yt(e,t){this.x=e||0,this.y=t||0}function Bt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function zt(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function Ht(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function Gt(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Yt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Yt.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:(w=new Yt,_=new Yt,function(e,t){return w.set(e,e),_.set(t,t),this.clamp(w,_)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}}),Object.assign(Bt.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,c,u,l,f,d,p,h,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=u,g[10]=l,g[14]=f,g[3]=d,g[7]=p,g[11]=h,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Bt).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:(x=new Ht,function(e){var t=this.elements,n=e.elements,r=1/x.setFromMatrixColumn(e,0).length(),i=1/x.setFromMatrixColumn(e,1).length(),o=1/x.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),u=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var f=o*u,d=o*l,p=a*u,h=a*l;t[0]=s*u,t[4]=-s*l,t[8]=c,t[1]=d+p*c,t[5]=f-h*c,t[9]=-a*s,t[2]=h-f*c,t[6]=p+d*c,t[10]=o*s}else if("YXZ"===e.order){var m=s*u,g=s*l,v=c*u,y=c*l;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*c,t[1]=o*l,t[5]=o*u,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var m=s*u,g=s*l,v=c*u,y=c*l;t[0]=m-y*a,t[4]=-o*l,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*u,t[9]=y-m*a,t[2]=-o*c,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var f=o*u,d=o*l,p=a*u,h=a*l;t[0]=s*u,t[4]=p*c-d,t[8]=f*c+h,t[1]=s*l,t[5]=h*c+f,t[9]=d*c-p,t[2]=-c,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*c,w=a*s,_=a*c;t[0]=s*u,t[4]=_-b*l,t[8]=w*l+x,t[1]=l,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=x*l+w,t[10]=b-_*l}else if("XZY"===e.order){var b=o*s,x=o*c,w=a*s,_=a*c;t[0]=s*u,t[4]=-l,t[8]=c*u,t[1]=b*l+_,t[5]=o*u,t[9]=x*l-w,t[2]=w*l-x,t[6]=a*u,t[10]=_*l+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:(y=new Ht(0,0,0),b=new Ht(1,1,1),function(e){return this.compose(y,e,b)}),lookAt:(m=new Ht,g=new Ht,v=new Ht,function(e,t,n){var r=this.elements;return v.subVectors(e,t),0===v.lengthSq()&&(v.z=1),v.normalize(),m.crossVectors(n,v),0===m.lengthSq()&&(1===Math.abs(n.z)?v.x+=1e-4:v.z+=1e-4,v.normalize(),m.crossVectors(n,v)),m.normalize(),g.crossVectors(v,m),r[0]=m.x,r[4]=g.x,r[8]=v.x,r[1]=m.y,r[5]=g.y,r[9]=v.y,r[2]=m.z,r[6]=g.z,r[10]=v.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],u=n[1],l=n[5],f=n[9],d=n[13],p=n[2],h=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],w=r[0],_=r[4],M=r[8],T=r[12],S=r[1],U=r[5],k=r[9],P=r[13],E=r[2],C=r[6],A=r[10],O=r[14],I=r[3],R=r[7],L=r[11],N=r[15];return i[0]=o*w+a*S+s*E+c*I,i[4]=o*_+a*U+s*C+c*R,i[8]=o*M+a*k+s*A+c*L,i[12]=o*T+a*P+s*O+c*N,i[1]=u*w+l*S+f*E+d*I,i[5]=u*_+l*U+f*C+d*R,i[9]=u*M+l*k+f*A+d*L,i[13]=u*T+l*P+f*O+d*N,i[2]=p*w+h*S+m*E+g*I,i[6]=p*_+h*U+m*C+g*R,i[10]=p*M+h*k+m*A+g*L,i[14]=p*T+h*P+m*O+g*N,i[3]=v*w+y*S+b*E+x*I,i[7]=v*_+y*U+b*C+x*R,i[11]=v*M+y*k+b*A+x*L,i[15]=v*T+y*P+b*O+x*N,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:(h=new Ht,function(e){for(var t=0,n=e.count;t<n;t++)h.x=e.getX(t),h.y=e.getY(t),h.z=e.getZ(t),h.applyMatrix4(this),e.setXYZ(t,h.x,h.y,h.z);return e}),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],u=e[2],l=e[6],f=e[10],d=e[14],p=e[3],h=e[7],m=e[11],g=e[15];return p*(+i*s*l-r*c*l-i*a*f+n*c*f+r*a*d-n*s*d)+h*(+t*s*d-t*c*f+i*o*f-r*o*d+r*c*u-i*s*u)+m*(+t*c*l-t*a*d-i*o*l+n*o*d+i*a*u-n*c*u)+g*(-r*a*u-t*s*l+t*a*f+r*o*l-n*o*f+n*s*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=r[5],l=r[6],f=r[7],d=r[8],p=r[9],h=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],x=p*y*f-v*h*f+v*l*m-u*y*m-p*l*b+u*h*b,w=g*h*f-d*y*f-g*l*m+c*y*m+d*l*b-c*h*b,_=d*v*f-g*p*f+g*u*m-c*v*m-d*u*b+c*p*b,M=g*p*l-d*v*l-g*u*h+c*v*h+d*u*y-c*p*y,T=i*x+o*w+a*_+s*M;if(0===T){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var U=1/T;return n[0]=x*U,n[1]=(v*h*s-p*y*s-v*a*m+o*y*m+p*a*b-o*h*b)*U,n[2]=(u*y*s-v*l*s+v*a*f-o*y*f-u*a*b+o*l*b)*U,n[3]=(p*l*s-u*h*s-p*a*f+o*h*f+u*a*m-o*l*m)*U,n[4]=w*U,n[5]=(d*y*s-g*h*s+g*a*m-i*y*m-d*a*b+i*h*b)*U,n[6]=(g*l*s-c*y*s-g*a*f+i*y*f+c*a*b-i*l*b)*U,n[7]=(c*h*s-d*l*s+d*a*f-i*h*f-c*a*m+i*l*m)*U,n[8]=_*U,n[9]=(g*p*s-d*v*s-g*o*m+i*v*m+d*o*b-i*p*b)*U,n[10]=(c*v*s-g*u*s+g*o*f-i*v*f-c*o*b+i*u*b)*U,n[11]=(d*u*s-c*p*s-d*o*f+i*p*f+c*o*m-i*u*m)*U,n[12]=M*U,n[13]=(d*v*a-g*p*a+g*o*h-i*v*h-d*o*y+i*p*y)*U,n[14]=(g*u*a-c*v*a-g*o*l+i*v*l+c*o*y-i*u*y)*U,n[15]=(c*p*a-d*u*a+d*o*l-i*p*l-c*o*h+i*u*h)*U,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,c=i*o,u=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,u*a+n,u*s-r*o,0,c*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,c=i+i,u=o+o,l=a+a,f=i*c,d=i*u,p=i*l,h=o*u,m=o*l,g=a*l,v=s*c,y=s*u,b=s*l,x=n.x,w=n.y,_=n.z;return r[0]=(1-(h+g))*x,r[1]=(d+b)*x,r[2]=(p-y)*x,r[3]=0,r[4]=(d-b)*w,r[5]=(1-(f+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(p+y)*_,r[9]=(m-v)*_,r[10]=(1-(f+h))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:(d=new Ht,p=new Bt,function(e,t,n){var r=this.elements,i=d.set(r[0],r[1],r[2]).length(),o=d.set(r[4],r[5],r[6]).length(),a=d.set(r[8],r[9],r[10]).length(),s=this.determinant();s<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],p.copy(this);var c=1/i,u=1/o,l=1/a;return p.elements[0]*=c,p.elements[1]*=c,p.elements[2]*=c,p.elements[4]*=u,p.elements[5]*=u,p.elements[6]*=u,p.elements[8]*=l,p.elements[9]*=l,p.elements[10]*=l,t.setFromRotationMatrix(p),n.x=i,n.y=o,n.z=a,this}),makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),l=(n+r)/(n-r),f=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),c=1/(n-r),u=1/(o-i),l=(t+e)*s,f=(n+r)*c,d=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(zt,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],c=n[r+1],u=n[r+2],l=n[r+3],f=i[o+0],d=i[o+1],p=i[o+2],h=i[o+3];if(l!==h||s!==f||c!==d||u!==p){var m=1-a,g=s*f+c*d+u*p+l*h,v=0<=g?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*v);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var w=a*v;if(s=s*m+f*w,c=c*m+d*w,u=u*m+p*w,l=l*m+h*w,m===1-a){var _=1/Math.sqrt(s*s+c*c+u*u+l*l);s*=_,c*=_,u*=_,l*=_}}e[t]=s,e[t+1]=c,e[t+2]=u,e[t+3]=l}}),Object.defineProperties(zt.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(zt.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,c=a(n/2),u=a(r/2),l=a(i/2),f=s(n/2),d=s(r/2),p=s(i/2);return"XYZ"===o?(this._x=f*u*l+c*d*p,this._y=c*d*l-f*u*p,this._z=c*u*p+f*d*l,this._w=c*u*l-f*d*p):"YXZ"===o?(this._x=f*u*l+c*d*p,this._y=c*d*l-f*u*p,this._z=c*u*p-f*d*l,this._w=c*u*l+f*d*p):"ZXY"===o?(this._x=f*u*l-c*d*p,this._y=c*d*l+f*u*p,this._z=c*u*p+f*d*l,this._w=c*u*l-f*d*p):"ZYX"===o?(this._x=f*u*l-c*d*p,this._y=c*d*l+f*u*p,this._z=c*u*p-f*d*l,this._w=c*u*l+f*d*p):"YZX"===o?(this._x=f*u*l+c*d*p,this._y=c*d*l+f*u*p,this._z=c*u*p-f*d*l,this._w=c*u*l-f*d*p):"XZY"===o&&(this._x=f*u*l-c*d*p,this._y=c*d*l-f*u*p,this._z=c*u*p+f*d*l,this._w=c*u*l+f*d*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],c=n[9],u=n[2],l=n[6],f=n[10],d=r+s+f;return this._z=0<d?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(l-c)*t,this._y=(o-u)*t,(a-i)*t):s<r&&f<r?(t=2*Math.sqrt(1+r-s-f),this._w=(l-c)/t,this._x=.25*t,this._y=(i+a)/t,(o+u)/t):f<s?(t=2*Math.sqrt(1+s-r-f),this._w=(o-u)/t,this._x=(i+a)/t,this._y=.25*t,(c+l)/t):(t=2*Math.sqrt(1+f-r-s),this._w=(a-i)/t,this._x=(o+u)/t,this._y=(c+l)/t,.25*t),this.onChangeCallback(),this},setFromUnitVectors:(f=new Ht,function(e,t){return void 0===f&&(f=new Ht),(l=e.dot(t)+1)<1e-6?(l=0,Math.abs(e.x)>Math.abs(e.z)?f.set(-e.y,e.x,0):f.set(0,-e.z,e.y)):f.crossVectors(e,t),this._x=f.x,this._y=f.y,this._z=f.z,this._w=l,this.normalize()}),angleTo:function(e){return 2*Math.acos(Math.abs(Vt.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return this._w=0===e?(this._x=0,this._y=0,this._z=0,1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,u=t._w;return this._x=n*u+o*a+r*c-i*s,this._y=r*u+o*s+i*a-n*c,this._z=i*u+o*c+n*s-r*a,this._w=o*u-n*a-r*s-i*c,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),1<=a)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-t;return this._w=c*o+t*this._w,this._x=c*n+t*this._x,this._y=c*r+t*this._y,this._z=c*i+t*this._z,this.normalize()}var u=Math.sqrt(s),l=Math.atan2(u,a),f=Math.sin((1-t)*l)/u,d=Math.sin(t*l)/u;return this._w=o*f+this._w*d,this._x=n*f+this._x*d,this._y=r*f+this._y*d,this._z=i*f+this._z*d,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Ht.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:(u=new zt,function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(u.setFromEuler(e))}),applyAxisAngle:(c=new zt,function(e,t){return this.applyQuaternion(c.setFromAxisAngle(e,t))}),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*r-a*n,u=s*n+a*t-i*r,l=s*r+i*n-o*t,f=-i*t-o*n-a*r;return this.x=c*s+f*-i+u*-a-l*-o,this.y=u*s+f*-o+l*-i-c*-a,this.z=l*s+f*-a+c*-o-u*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:(s=new Bt,function(e){return this.applyMatrix4(s.getInverse(e.projectionMatrix)).applyMatrix4(e.matrixWorld)}),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:(o=new Ht,a=new Ht,function(e,t){return o.set(e,e,e),a.set(t,t,t),this.clamp(o,a)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:(i=new Ht,function(e){return i.copy(this).projectOnVector(e),this.sub(i)}),reflect:(n=new Ht,function(e){return this.sub(n.copy(e).multiplyScalar(2*this.dot(e)))}),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Vt.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(Gt.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,c){var u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:(r=new Ht,function(e){for(var t=0,n=e.count;t<n;t++)r.x=e.getX(t),r.y=e.getY(t),r.z=e.getZ(t),r.applyMatrix3(this),e.setXYZ(t,r.x,r.y,r.z);return e}),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],u=n[4],l=n[7],f=n[2],d=n[5],p=n[8],h=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],w=r[5],_=r[8];return i[0]=o*h+a*v+s*x,i[3]=o*m+a*y+s*w,i[6]=o*g+a*b+s*_,i[1]=c*h+u*v+l*x,i[4]=c*m+u*y+l*w,i[7]=c*g+u*b+l*_,i[2]=f*h+d*v+p*x,i[5]=f*m+d*y+p*w,i[8]=f*g+d*b+p*_,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-n*i*u+n*a*s+r*i*c-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],l=n[6],f=n[7],d=n[8],p=d*c-u*f,h=u*l-d*s,m=f*s-c*l,g=i*p+o*h+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=p*y,r[1]=(a*f-d*o)*y,r[2]=(u*o-a*c)*y,r[3]=h*y,r[4]=(d*i-a*l)*y,r[5]=(a*s-u*i)*y,r[6]=m*y,r[7]=(o*l-f*i)*y,r[8]=(c*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*o+c*a)+o+e,-r*c,r*s,-r*(-c*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],c=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*c,r[6]=t*a+n*u,r[1]=-n*i+t*s,r[4]=-n*o+t*c,r[7]=-n*a+t*u,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Wt,qt,Xt,Kt,$t,Jt,Zt,Qt,en,tn,nn,rn,on,an,sn,cn,un={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{(t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},ln=0;function fn(e,t,n,r,i,o,a,s,c,u){Object.defineProperty(this,"id",{value:ln++}),this.uuid=Vt.generateUUID(),this.name="",this.image=void 0!==e?e:fn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:fn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Se,this.wrapT=void 0!==r?r:Se,this.magFilter=void 0!==i?i:Ce,this.minFilter=void 0!==o?o:Oe,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:qe,this.type=void 0!==s?s:Ie,this.offset=new Yt(0,0),this.repeat=new Yt(1,1),this.center=new Yt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Gt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:Et,this.version=0,this.onUpdate=null}function dn(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function pn(e,t,n){this.width=e,this.height=t,this.scissor=new dn(0,0,e,t),this.scissorTest=!1,this.viewport=new dn(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=Ce),this.texture=new fn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0===n.generateMipmaps||n.generateMipmaps,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function hn(e,t,n){pn.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function mn(e,t,n,r,i,o,a,s,c,u,l,f){fn.call(this,null,o,a,s,c,u,r,i,l,f),this.image={data:e,width:t,height:n},this.magFilter=void 0!==c?c:ke,this.minFilter=void 0!==u?u:ke,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function gn(e,t){this.min=void 0!==e?e:new Ht(1/0,1/0,1/0),this.max=void 0!==t?t:new Ht(-1/0,-1/0,-1/0)}function vn(e,t){this.center=void 0!==e?e:new Ht,this.radius=void 0!==t?t:0}function yn(e,t){this.normal=void 0!==e?e:new Ht(1,0,0),this.constant=void 0!==t?t:0}function bn(e,t,n,r,i,o){this.planes=[void 0!==e?e:new yn,void 0!==t?t:new yn,void 0!==n?n:new yn,void 0!==r?r:new yn,void 0!==i?i:new yn,void 0!==o?o:new yn]}fn.DEFAULT_IMAGE=void 0,fn.DEFAULT_MAPPING=300,fn.prototype=Object.assign(Object.create(t.prototype),{constructor:fn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Vt.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(un.getDataURL(r[o]))}else i=un.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case Te:e.x=e.x-Math.floor(e.x);break;case Se:e.x=e.x<0?0:1;break;case Ue:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case Te:e.y=e.y-Math.floor(e.y);break;case Se:e.y=e.y<0?0:1;break;case Ue:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(fn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(dn.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return this.z=t<1e-4?(this.x=1,this.y=0):(this.x=e.x/t,this.y=e.y/t,e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=e.elements,a=o[0],s=o[4],c=o[8],u=o[1],l=o[5],f=o[9],d=o[2],p=o[6],h=o[10];if(Math.abs(s-u)<.01&&Math.abs(c-d)<.01&&Math.abs(f-p)<.01){if(Math.abs(s+u)<.1&&Math.abs(c+d)<.1&&Math.abs(f+p)<.1&&Math.abs(a+l+h-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(l+1)/2,v=(h+1)/2,y=(s+u)/4,b=(c+d)/4,x=(f+p)/4;return g<m&&v<m?i=m<.01?(n=0,r=.707106781):(n=Math.sqrt(m),r=y/n,b/n):v<g?i=g<.01?(r=0,n=.707106781):(r=Math.sqrt(g),n=y/r,x/r):v<.01?(r=n=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}var w=Math.sqrt((p-f)*(p-f)+(c-d)*(c-d)+(u-s)*(u-s));return Math.abs(w)<.001&&(w=1),this.x=(p-f)/w,this.y=(c-d)/w,this.z=(u-s)/w,this.w=Math.acos((a+l+h-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return void 0===sn&&(sn=new dn,cn=new dn),sn.set(e,e,e,e),cn.set(t,t,t,t),this.clamp(sn,cn)},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),pn.prototype=Object.assign(Object.create(t.prototype),{constructor:pn,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((hn.prototype=Object.create(pn.prototype)).constructor=hn).prototype.isWebGLRenderTargetCube=!0,((mn.prototype=Object.create(fn.prototype)).constructor=mn).prototype.isDataTexture=!0,Object.assign(gn.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.length;s<c;s+=3){var u=e[s],l=e[s+1],f=e[s+2];u<t&&(t=u),l<n&&(n=l),f<r&&(r=f),i<u&&(i=u),o<l&&(o=l),a<f&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.count;s<c;s++){var u=e.getX(s),l=e.getY(s),f=e.getZ(s);u<t&&(t=u),l<n&&(n=l),f<r&&(r=f),i<u&&(i=u),o<l&&(o=l),a<f&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:(an=new Ht,function(e,t){var n=an.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Ht),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Ht),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var i,o,a,s=new Ht;function t(e){var t=e.geometry;if(void 0!==t)if(t.isGeometry){var n=t.vertices;for(o=0,a=n.length;o<a;o++)s.copy(n[o]),s.applyMatrix4(e.matrixWorld),i.expandByPoint(s)}else if(t.isBufferGeometry){var r=t.attributes.position;if(void 0!==r)for(o=0,a=r.count;o<a;o++)s.fromBufferAttribute(r,o).applyMatrix4(e.matrixWorld),i.expandByPoint(s)}}return function(e){return i=this,e.updateMatrixWorld(!0),e.traverse(t),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Ht),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:(on=new Ht,function(e){return this.clampPoint(e.center,on),on.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,n;return n=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var s=new Ht,c=new Ht,u=new Ht,n=new Ht,r=new Ht,i=new Ht,l=new Ht,o=new Ht,f=new Ht,a=new Ht;function d(e){var t,n;for(t=0,n=e.length-3;t<=n;t+=3){l.fromArray(e,t);var r=f.x*Math.abs(l.x)+f.y*Math.abs(l.y)+f.z*Math.abs(l.z),i=s.dot(l),o=c.dot(l),a=u.dot(l);if(Math.max(-Math.max(i,o,a),Math.min(i,o,a))>r)return!1}return!0}return function(e){if(this.isEmpty())return!1;this.getCenter(o),f.subVectors(this.max,o),s.subVectors(e.a,o),c.subVectors(e.b,o),u.subVectors(e.c,o),n.subVectors(c,s),r.subVectors(u,c),i.subVectors(s,u);var t=[0,-n.z,n.y,0,-r.z,r.y,0,-i.z,i.y,n.z,0,-n.x,r.z,0,-r.x,i.z,0,-i.x,-n.y,n.x,0,-r.y,r.x,0,-i.y,i.x,0];return!!d(t)&&!!d(t=[1,0,0,0,1,0,0,0,1])&&(a.crossVectors(n,r),d(t=[a.x,a.y,a.z]))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Ht),t.copy(e).clamp(this.min,this.max)},distanceToPoint:(rn=new Ht,function(e){var t=rn.copy(e).clamp(this.min,this.max);return t.sub(e).length()}),getBoundingSphere:(nn=new Ht,function(e){return void 0===e&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),e=new vn),this.getCenter(e.center),e.radius=.5*this.getSize(nn).length(),e}),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(tn=[new Ht,new Ht,new Ht,new Ht,new Ht,new Ht,new Ht,new Ht],function(e){return this.isEmpty()||(tn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),tn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),tn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),tn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),tn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),tn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),tn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),tn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(tn)),this}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(vn.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(en=new gn,function(e,t){var n=this.center;void 0!==t?n.copy(t):en.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Ht),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new gn),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(yn.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:(Zt=new Ht,Qt=new Ht,function(e,t,n){var r=Zt.subVectors(n,t).cross(Qt.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Ht),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:(Jt=new Ht,function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Ht);var n=e.delta(Jt),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||1<i?void 0:t.copy(n).multiplyScalar(i).add(e.start)}),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&0<n||n<0&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Ht),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(Kt=new Ht,$t=new Gt,function(e,t){var n=t||$t.getNormalMatrix(e),r=this.coplanarPoint(Kt).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(bn.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],u=n[6],l=n[7],f=n[8],d=n[9],p=n[10],h=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,l-s,h-f,y-m).normalize(),t[1].setComponents(a+r,l+s,h+f,y+m).normalize(),t[2].setComponents(a+i,l+c,h+d,y+g).normalize(),t[3].setComponents(a-i,l-c,h-d,y-g).normalize(),t[4].setComponents(a-o,l-u,h-p,y-v).normalize(),t[5].setComponents(a+o,l+u,h+p,y+v).normalize(),this},intersectsObject:(Xt=new vn,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Xt.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Xt)}),intersectsSprite:(qt=new vn,function(e){return qt.center.set(0,0,0),qt.radius=.7071067811865476,qt.applyMatrix4(e.matrixWorld),this.intersectsSphere(qt)}),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){var o=t[i].distanceToPoint(n);if(o<r)return!1}return!0},intersectsBox:(Wt=new Ht,function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Wt.x=0<r.normal.x?e.max.x:e.min.x,Wt.y=0<r.normal.y?e.max.y:e.min.y,Wt.z=0<r.normal.z?e.max.z:e.min.z,r.distanceToPoint(Wt)<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var xn,wn,_n,Mn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif\n",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif\n",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n}\n",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position, 1.0 );\n\tgl_Position.z = 1.0;\n}\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\tvec4 matcapColor = texture2D( matcap, uv );\n\tmatcapColor = matcapTexelToLinear( matcapColor );\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n"},Tn={merge:function(e){for(var t={},n=0;n<e.length;n++){var r=this.clone(e[n]);for(var i in r)t[i]=r[i]}return t},clone:function(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}},Sn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Un(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(Un.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function o(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(e,t,n){if(e=Vt.euclideanModulo(e,1),t=Vt.clamp(t,0,1),n=Vt.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=o(i,r,e+1/3),this.g=o(i,r,e),this.b=o(i,r,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u=n[1],l=u.length;if(3===l)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(t&&0<t.length){var u=Sn[t];void 0!==u?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=0<t?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function t(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),c=(s+a)/2;if(s===a)n=t=0;else{var u=a-s;switch(n=c<=.5?u/(a+s):u/(2-a-s),a){case r:t=(i-o)/u+(i<o?6:0);break;case i:t=(o-r)/u+2;break;case o:t=(r-i)/u+4}t/=6}return e.h=t,e.s=n,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(_n={},function(e,t,n){return this.getHSL(_n),_n.h+=e,_n.s+=t,_n.l+=n,this.setHSL(_n.h,_n.s,_n.l),this}),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:(xn={h:0,s:0,l:0},wn={h:0,s:0,l:0},function(e,t){this.getHSL(xn),e.getHSL(wn);var n=Vt.lerp(xn.h,wn.h,t),r=Vt.lerp(xn.s,wn.s,t),i=Vt.lerp(xn.l,wn.l,t);return this.setHSL(n,r,i),this}),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var kn,Pn,En={common:{diffuse:{value:new Un(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Gt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Yt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Un(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Un(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Gt}},sprite:{diffuse:{value:new Un(15658734)},opacity:{value:1},center:{value:new Yt(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Gt}}},Cn={basic:{uniforms:Tn.merge([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.fog]),vertexShader:Mn.meshbasic_vert,fragmentShader:Mn.meshbasic_frag},lambert:{uniforms:Tn.merge([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.fog,En.lights,{emissive:{value:new Un(0)}}]),vertexShader:Mn.meshlambert_vert,fragmentShader:Mn.meshlambert_frag},phong:{uniforms:Tn.merge([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.gradientmap,En.fog,En.lights,{emissive:{value:new Un(0)},specular:{value:new Un(1118481)},shininess:{value:30}}]),vertexShader:Mn.meshphong_vert,fragmentShader:Mn.meshphong_frag},standard:{uniforms:Tn.merge([En.common,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.roughnessmap,En.metalnessmap,En.fog,En.lights,{emissive:{value:new Un(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag},matcap:{uniforms:Tn.merge([En.common,En.bumpmap,En.normalmap,En.displacementmap,En.fog,{matcap:{value:null}}]),vertexShader:Mn.meshmatcap_vert,fragmentShader:Mn.meshmatcap_frag},points:{uniforms:Tn.merge([En.points,En.fog]),vertexShader:Mn.points_vert,fragmentShader:Mn.points_frag},dashed:{uniforms:Tn.merge([En.common,En.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mn.linedashed_vert,fragmentShader:Mn.linedashed_frag},depth:{uniforms:Tn.merge([En.common,En.displacementmap]),vertexShader:Mn.depth_vert,fragmentShader:Mn.depth_frag},normal:{uniforms:Tn.merge([En.common,En.bumpmap,En.normalmap,En.displacementmap,{opacity:{value:1}}]),vertexShader:Mn.normal_vert,fragmentShader:Mn.normal_frag},sprite:{uniforms:Tn.merge([En.sprite,En.fog]),vertexShader:Mn.sprite_vert,fragmentShader:Mn.sprite_frag},background:{uniforms:{uvTransform:{value:new Gt},t2D:{value:null}},vertexShader:Mn.background_vert,fragmentShader:Mn.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mn.cube_vert,fragmentShader:Mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mn.equirect_vert,fragmentShader:Mn.equirect_frag},distanceRGBA:{uniforms:Tn.merge([En.common,En.displacementmap,{referencePosition:{value:new Ht},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mn.distanceRGBA_vert,fragmentShader:Mn.distanceRGBA_frag},shadow:{uniforms:Tn.merge([En.lights,En.fog,{color:{value:new Un(0)},opacity:{value:1}}]),vertexShader:Mn.shadow_vert,fragmentShader:Mn.shadow_frag}};function An(){var n=null,r=!1,i=null;function o(e,t){!1!==r&&(i(e,t),n.requestAnimationFrame(o))}return{start:function(){!0!==r&&null!==i&&(n.requestAnimationFrame(o),r=!0)},stop:function(){r=!1},setAnimationLoop:function(e){i=e},setContext:function(e){n=e}}}function On(a){var r=new WeakMap;function i(e,t){var n=e.array,r=e.dynamic?35048:35044,i=a.createBuffer();a.bindBuffer(t,i),a.bufferData(t,n,r),e.onUploadCallback();var o=5126;return n instanceof Float32Array?o=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?o=5123:n instanceof Int16Array?o=5122:n instanceof Uint32Array?o=5125:n instanceof Int32Array?o=5124:n instanceof Int8Array?o=5120:n instanceof Uint8Array&&(o=5121),{buffer:i,type:o,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}function o(e,t,n){var r=t.array,i=t.updateRange;a.bindBuffer(n,e),!1===t.dynamic?a.bufferData(n,r,35044):-1===i.count?a.bufferSubData(n,0,r):0===i.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(a.bufferSubData(n,i.offset*r.BYTES_PER_ELEMENT,r.subarray(i.offset,i.offset+i.count)),i.count=-1)}return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var t=r.get(e);t&&(a.deleteBuffer(t.buffer),r.delete(e))},update:function(e,t){e.isInterleavedBufferAttribute&&(e=e.data);var n=r.get(e);void 0===n?r.set(e,i(e,t)):n.version<e.version&&(o(n.buffer,e,t),n.version=e.version)}}}function In(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new Ht,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Un,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function Rn(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||Rn.DefaultOrder}function Ln(){this.mask=1}Cn.physical={uniforms:Tn.merge([Cn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag},Object.assign(In.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),Rn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Rn.DefaultOrder="XYZ",Object.defineProperties(Rn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(Rn.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Vt.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],c=i[1],u=i[5],l=i[9],f=i[2],d=i[6],p=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,u),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===t?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===t?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:(Pn=new Bt,function(e,t,n){return Pn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Pn,t,n)}),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(kn=new zt,function(e){return kn.setFromEuler(this),this.setFromQuaternion(kn,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Ht(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Ln.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var Nn,Dn,jn,Fn,Vn,Yn,Bn,zn,Hn,Gn,Wn,qn,Xn,Kn,$n,Jn,Zn,Qn,er=0;function tr(){Object.defineProperty(this,"id",{value:er++}),this.uuid=Vt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tr.DefaultUp.clone();var e=new Ht,t=new Rn,n=new zt,r=new Ht(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Bt},normalMatrix:{value:new Gt}}),this.matrix=new Bt,this.matrixWorld=new Bt,this.matrixAutoUpdate=tr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ln,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}tr.DefaultUp=new Ht(0,1,0),tr.DefaultMatrixAutoUpdate=!0,tr.prototype=Object.assign(Object.create(t.prototype),{constructor:tr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(Qn=new zt,function(e,t){return Qn.setFromAxisAngle(e,t),this.quaternion.multiply(Qn),this}),rotateOnWorldAxis:(Zn=new zt,function(e,t){return Zn.setFromAxisAngle(e,t),this.quaternion.premultiply(Zn),this}),rotateX:(Jn=new Ht(1,0,0),function(e){return this.rotateOnAxis(Jn,e)}),rotateY:($n=new Ht(0,1,0),function(e){return this.rotateOnAxis($n,e)}),rotateZ:(Kn=new Ht(0,0,1),function(e){return this.rotateOnAxis(Kn,e)}),translateOnAxis:(Xn=new Ht,function(e,t){return Xn.copy(e).applyQuaternion(this.quaternion),this.position.add(Xn.multiplyScalar(t)),this}),translateX:(qn=new Ht(1,0,0),function(e){return this.translateOnAxis(qn,e)}),translateY:(Wn=new Ht(0,1,0),function(e){return this.translateOnAxis(Wn,e)}),translateZ:(Gn=new Ht(0,0,1),function(e){return this.translateOnAxis(Gn,e)}),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(Hn=new Bt,function(e){return e.applyMatrix4(Hn.getInverse(this.matrixWorld))}),lookAt:(Vn=new zt,Yn=new Bt,Bn=new Ht,zn=new Ht,function(e,t,n){e.isVector3?Bn.copy(e):Bn.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),zn.setFromMatrixPosition(this.matrixWorld),this.isCamera?Yn.lookAt(zn,Bn,this.up):Yn.lookAt(Bn,zn,this.up),this.quaternion.setFromRotationMatrix(Yn),r&&(Yn.extractRotation(r.matrixWorld),Vn.setFromRotationMatrix(Yn),this.quaternion.premultiply(Vn.inverse()))}),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Ht),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(jn=new Ht,Fn=new Ht,function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new zt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(jn,e,Fn),e}),getWorldScale:(Nn=new Ht,Dn=new zt,function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Ht),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Nn,Dn,e),e}),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Ht),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(n){var e=void 0===n||"string"==typeof n,t={};e&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{}},t.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(e,t){return void 0===e[t.uuid]&&(e[t.uuid]=t.toJSON(n)),t.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=i(n.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var u=a[s];i(n.shapes,u)}else i(n.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],s=0,c=this.material.length;s<c;s++)l.push(i(n.materials,this.material[s]));r.material=l}else r.material=i(n.materials,this.material);if(0<this.children.length){r.children=[];for(var s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(n).object)}if(e){var f=m(n.geometries),d=m(n.materials),p=m(n.textures),h=m(n.images),a=m(n.shapes);0<f.length&&(t.geometries=f),0<d.length&&(t.materials=d),0<p.length&&(t.textures=p),0<h.length&&(t.images=h),0<a.length&&(t.shapes=a)}return t.object=r,t;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var nr,rr,ir,or,ar,sr,cr,ur=0;function lr(){Object.defineProperty(this,"id",{value:ur+=2}),this.uuid=Vt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function fr(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function dr(e,t,n){fr.call(this,new Int8Array(e),t,n)}function pr(e,t,n){fr.call(this,new Uint8Array(e),t,n)}function hr(e,t,n){fr.call(this,new Uint8ClampedArray(e),t,n)}function mr(e,t,n){fr.call(this,new Int16Array(e),t,n)}function gr(e,t,n){fr.call(this,new Uint16Array(e),t,n)}function vr(e,t,n){fr.call(this,new Int32Array(e),t,n)}function yr(e,t,n){fr.call(this,new Uint32Array(e),t,n)}function br(e,t,n){fr.call(this,new Float32Array(e),t,n)}function xr(e,t,n){fr.call(this,new Float64Array(e),t,n)}function wr(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function _r(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}lr.prototype=Object.assign(Object.create(t.prototype),{constructor:lr,isGeometry:!0,applyMatrix:function(e){for(var t=(new Gt).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){var i=this.vertices[n];i.applyMatrix4(e)}for(var n=0,r=this.faces.length;n<r;n++){var o=this.faces[n];o.normal.applyMatrix3(t).normalize();for(var a=0,s=o.vertexNormals.length;a<s;a++)o.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:(cr=new Bt,function(e){return cr.makeRotationX(e),this.applyMatrix(cr),this}),rotateY:(sr=new Bt,function(e){return sr.makeRotationY(e),this.applyMatrix(sr),this}),rotateZ:(ar=new Bt,function(e){return ar.makeRotationZ(e),this.applyMatrix(ar),this}),translate:(or=new Bt,function(e,t,n){return or.makeTranslation(e,t,n),this.applyMatrix(or),this}),scale:(ir=new Bt,function(e,t,n){return ir.makeScale(e,t,n),this.applyMatrix(ir),this}),lookAt:(rr=new tr,function(e){rr.lookAt(e),rr.updateMatrix(),this.applyMatrix(rr.matrix)}),fromBufferGeometry:function(e){var s=this,t=null!==e.index?e.index.array:void 0,n=e.attributes,r=n.position.array,c=void 0!==n.normal?n.normal.array:void 0,u=void 0!==n.color?n.color.array:void 0,l=void 0!==n.uv?n.uv.array:void 0,f=void 0!==n.uv2?n.uv2.array:void 0;void 0!==f&&(this.faceVertexUvs[1]=[]);for(var i=0,o=0;i<r.length;i+=3,o+=2)s.vertices.push((new Ht).fromArray(r,i)),void 0!==u&&s.colors.push((new Un).fromArray(u,i));function a(e,t,n,r){var i=void 0===u?[]:[s.colors[e].clone(),s.colors[t].clone(),s.colors[n].clone()],o=void 0===c?[]:[(new Ht).fromArray(c,3*e),(new Ht).fromArray(c,3*t),(new Ht).fromArray(c,3*n)],a=new In(e,t,n,o,i,r);s.faces.push(a),void 0!==l&&s.faceVertexUvs[0].push([(new Yt).fromArray(l,2*e),(new Yt).fromArray(l,2*t),(new Yt).fromArray(l,2*n)]),void 0!==f&&s.faceVertexUvs[1].push([(new Yt).fromArray(f,2*e),(new Yt).fromArray(f,2*t),(new Yt).fromArray(f,2*n)])}var d=e.groups;if(0<d.length)for(var i=0;i<d.length;i++)for(var p=d[i],h=p.start,m=p.count,o=h,g=h+m;o<g;o+=3)void 0!==t?a(t[o],t[o+1],t[o+2],p.materialIndex):a(o,o+1,o+2,p.materialIndex);else if(void 0!==t)for(var i=0;i<t.length;i+=3)a(t[i],t[i+1],t[i+2]);else for(var i=0;i<r.length/3;i+=3)a(i,i+1,i+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:(nr=new Ht,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(nr).negate(),this.translate(nr.x,nr.y,nr.z),this}),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new Bt;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new Ht,t=new Ht,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new Ht;if(e){var s,c,u,l=new Ht,f=new Ht;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],c=this.vertices[o.b],u=this.vertices[o.c],l.subVectors(u,c),f.subVectors(s,c),l.cross(f),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var d=(o=this.faces[r]).vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new lr;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)c=new Ht,u={a:new Ht,b:new Ht,c:new Ht},a.push(c),s.push(u)}var c,u,l=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=l.faceNormals[n],u=l.vertexNormals[n],c.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new gn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new vn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,u=this.faceVertexUvs[0],l=e.faceVertexUvs[0],f=this.colors,d=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new Gt).getNormalMatrix(t));for(var p=0,h=a.length;p<h;p++){var m=a[p],g=m.clone();void 0!==t&&g.applyMatrix4(t),o.push(g)}for(var p=0,h=d.length;p<h;p++)f.push(d[p].clone());for(p=0,h=c.length;p<h;p++){var v,y,b,x=c[p],w=x.vertexNormals,_=x.vertexColors;(v=new In(x.a+i,x.b+i,x.c+i)).normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var M=0,T=w.length;M<T;M++)y=w[M].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),v.vertexNormals.push(y);v.color.copy(x.color);for(var M=0,T=_.length;M<T;M++)b=_[M],v.vertexColors.push(b.clone());v.materialIndex=x.materialIndex+n,s.push(v)}for(p=0,h=l.length;p<h;p++){var S=l[p],U=[];if(void 0!==S){for(var M=0,T=S.length;M<T;M++)U.push(S[M].clone());u.push(U)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,c={},u=[],l=[],f=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],t=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f),void 0===c[t]?(c[t]=n,u.push(this.vertices[n]),l[n]=u.length-1):l[n]=l[c[t]];var d=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){d.push(n);break}}for(n=d.length-1;0<=n;n--){var h=d[n];for(this.faces.splice(h,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(h,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new Ht(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(var n=0;n<t;n++){var s=e[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}for(var a=[],s=[],c={},u=[],l={},f=[],d={},i=0;i<this.faces.length;i++){var p=this.faces[i],h=void 0!==this.faceVertexUvs[0][i],m=0<p.normal.length(),g=0<p.vertexNormals.length,v=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=0<p.vertexColors.length,b=0;if(b=M(b=M(b=M(b=M(b=M(b=M(b=M(b=M(b,0,0),1,!0),2,!1),3,h),4,m),5,g),6,v),7,y),a.push(b),a.push(p.a,p.b,p.c),a.push(p.materialIndex),h){var x=this.faceVertexUvs[0][i];a.push(U(x[0]),U(x[1]),U(x[2]))}if(m&&a.push(T(p.normal)),g){var w=p.vertexNormals;a.push(T(w[0]),T(w[1]),T(w[2]))}if(v&&a.push(S(p.color)),y){var _=p.vertexColors;a.push(S(_[0]),S(_[1]),S(_[2]))}}function M(e,t,n){return n?e|1<<t:e&~(1<<t)}function T(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]||(c[t]=s.length/3,s.push(e.x,e.y,e.z)),c[t]}function S(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==l[t]||(l[t]=u.length,u.push(e.getHex())),l[t]}function U(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]||(d[t]=f.length/2,f.push(e.x,e.y)),d[t]}return e.data={},e.data.vertices=r,e.data.normals=s,0<u.length&&(e.data.colors=u),0<f.length&&(e.data.uvs=[f]),e.data.faces=a,e},clone:function(){return(new lr).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,n=c.length;t<n;t++)this.colors.push(c[t].clone());var u=e.faces;for(t=0,n=u.length;t<n;t++)this.faces.push(u[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var l=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=l.length;r<i;r++){var f=l[r],d=[];for(o=0,a=f.length;o<a;o++){var p=f[o];d.push(p.clone())}this.faceVertexUvs[t].push(d)}}var h=e.morphTargets;for(t=0,n=h.length;t<n;t++){var m={};if(m.name=h[t].name,void 0!==h[t].vertices)for(m.vertices=[],r=0,i=h[t].vertices.length;r<i;r++)m.vertices.push(h[t].vertices[r].clone());if(void 0!==h[t].normals)for(m.normals=[],r=0,i=h[t].normals.length;r<i;r++)m.normals.push(h[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var y=g[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)v.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(v)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var w=e.skinIndices;for(t=0,n=w.length;t<n;t++)this.skinIndices.push(w[t].clone());var _=e.lineDistances;for(t=0,n=_.length;t<n;t++)this.lineDistances.push(_[t]);var M=e.boundingBox;null!==M&&(this.boundingBox=M.clone());var T=e.boundingSphere;return null!==T&&(this.boundingSphere=T.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(fr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(fr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Un),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Yt),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Ht),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new dn),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(dr.prototype=Object.create(fr.prototype)).constructor=dr,(pr.prototype=Object.create(fr.prototype)).constructor=pr,(hr.prototype=Object.create(fr.prototype)).constructor=hr,(mr.prototype=Object.create(fr.prototype)).constructor=mr,(gr.prototype=Object.create(fr.prototype)).constructor=gr,(vr.prototype=Object.create(fr.prototype)).constructor=vr,(yr.prototype=Object.create(fr.prototype)).constructor=yr,(br.prototype=Object.create(fr.prototype)).constructor=br,(xr.prototype=Object.create(fr.prototype)).constructor=xr,Object.assign(wr.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&0<i[0].length,a=i[1]&&0<i[1].length,s=e.morphTargets,c=s.length;if(0<c){t=[];for(var u=0;u<c;u++)t[u]={name:s[u].name,data:[]};this.morphTargets.position=t}var l,f=e.morphNormals,d=f.length;if(0<d){l=[];for(var u=0;u<d;u++)l[u]={name:f[u].name,data:[]};this.morphTargets.normal=l}var p=e.skinIndices,h=e.skinWeights,m=p.length===r.length,g=h.length===r.length;0<r.length&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var u=0;u<n.length;u++){var v=n[u];this.vertices.push(r[v.a],r[v.b],r[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var x=v.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===o){var _=i[0][u];void 0!==_?this.uvs.push(_[0],_[1],_[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new Yt,new Yt,new Yt))}if(!0===a){var _=i[1][u];void 0!==_?this.uvs2.push(_[0],_[1],_[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new Yt,new Yt,new Yt))}for(var M=0;M<c;M++){var T=s[M].vertices;t[M].data.push(T[v.a],T[v.b],T[v.c])}for(var M=0;M<d;M++){var S=f[M].vertexNormals[u];l[M].data.push(S.a,S.b,S.c)}m&&this.skinIndices.push(p[v.a],p[v.b],p[v.c]),g&&this.skinWeights.push(h[v.a],h[v.b],h[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Mr,Tr,Sr,Ur,kr,Pr,Er,Cr,Ar,Or,Ir=1;function Rr(){Object.defineProperty(this,"id",{value:Ir+=2}),this.uuid=Vt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Lr(e,t,n,r,i,o){lr.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Nr(e,t,n,r,i,o)),this.mergeVertices()}function Nr(e,t,n,r,i,o){Rr.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var E=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var C=[],A=[],O=[],I=[],R=0,L=0;function a(e,t,n,r,i,o,a,s,c,u,l){var f,d,p=o/c,h=a/u,m=o/2,g=a/2,v=s/2,y=c+1,b=u+1,x=0,w=0,_=new Ht;for(d=0;d<b;d++){var M=d*h-g;for(f=0;f<y;f++){var T=f*p-m;_[e]=T*r,_[t]=M*i,_[n]=v,A.push(_.x,_.y,_.z),_[e]=0,_[t]=0,_[n]=0<s?1:-1,O.push(_.x,_.y,_.z),I.push(f/c),I.push(1-d/u),x+=1}}for(d=0;d<u;d++)for(f=0;f<c;f++){var S=R+f+y*d,U=R+f+y*(d+1),k=R+(f+1)+y*(d+1),P=R+(f+1)+y*d;C.push(S,U,P),C.push(U,k,P),w+=6}E.addGroup(L,w,l),L+=w,R+=x}a("z","y","x",-1,-1,n,t,e,o,i,0),a("z","y","x",1,-1,n,t,-e,o,i,1),a("x","z","y",1,1,e,n,t,r,o,2),a("x","z","y",1,-1,e,n,-t,r,o,3),a("x","y","z",1,-1,e,t,n,r,i,4),a("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(C),this.addAttribute("position",new br(A,3)),this.addAttribute("normal",new br(O,3)),this.addAttribute("uv",new br(I,2))}function Dr(e,t,n,r){lr.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new jr(e,t,n,r)),this.mergeVertices()}function jr(e,t,n,r){Rr.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,c=Math.floor(n)||1,u=Math.floor(r)||1,l=c+1,f=u+1,d=e/c,p=t/u,h=[],m=[],g=[],v=[];for(o=0;o<f;o++){var y=o*p-s;for(i=0;i<l;i++){var b=i*d-a;m.push(b,-y,0),g.push(0,0,1),v.push(i/c),v.push(1-o/u)}}for(o=0;o<u;o++)for(i=0;i<c;i++){var x=i+l*o,w=i+l*(o+1),_=i+1+l*(o+1),M=i+1+l*o;h.push(x,w,M),h.push(w,_,M)}this.setIndex(h),this.addAttribute("position",new br(m,3)),this.addAttribute("normal",new br(g,3)),this.addAttribute("uv",new br(v,2))}Rr.prototype=Object.assign(Object.create(t.prototype),{constructor:Rr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<_r(e)?yr:gr)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?("index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t)):this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new fr(t,arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Gt).getNormalMatrix(e);r.applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:(Or=new Bt,function(e){return Or.makeRotationX(e),this.applyMatrix(Or),this}),rotateY:(Ar=new Bt,function(e){return Ar.makeRotationY(e),this.applyMatrix(Ar),this}),rotateZ:(Cr=new Bt,function(e){return Cr.makeRotationZ(e),this.applyMatrix(Cr),this}),translate:(Er=new Bt,function(e,t,n){return Er.makeTranslation(e,t,n),this.applyMatrix(Er),this}),scale:(Pr=new Bt,function(e,t,n){return Pr.makeScale(e,t,n),this.applyMatrix(Pr),this}),lookAt:(kr=new tr,function(e){kr.lookAt(e),kr.updateMatrix(),this.applyMatrix(kr.matrix)}),center:(Ur=new Ht,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ur).negate(),this.translate(Ur.x,Ur.y,Ur.z),this}),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new br(3*t.vertices.length,3),r=new br(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new br(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new br(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new wr).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new fr(t,3).copyVector3sArray(e.vertices)),0<e.normals.length){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new fr(n,3).copyVector3sArray(e.normals))}if(0<e.colors.length){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new fr(r,3).copyColorsArray(e.colors))}if(0<e.uvs.length){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new fr(i,2).copyVector2sArray(e.uvs))}if(0<e.uvs2.length){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new fr(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],c=e.morphTargets[a],u=0,l=c.length;u<l;u++){var f=c[u],d=new br(3*f.data.length,3);d.name=f.name,s.push(d.copyVector3sArray(f.data))}this.morphAttributes[a]=s}if(0<e.skinIndices.length){var p=new br(4*e.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(0<e.skinWeights.length){var h=new br(4*e.skinWeights.length,4);this.addAttribute("skinWeight",h.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new gn);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:(Tr=new gn,Sr=new Ht,function(){null===this.boundingSphere&&(this.boundingSphere=new vn);var e=this.attributes.position;if(e){var t=this.boundingSphere.center;Tr.setFromBufferAttribute(e),Tr.getCenter(t);for(var n=0,r=0,i=e.count;r<i;r++)Sr.x=e.getX(r),Sr.y=e.getY(r),Sr.z=e.getZ(r),n=Math.max(n,t.distanceToSquared(Sr));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new fr(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,c,u=t.normal.array,l=new Ht,f=new Ht,d=new Ht,p=new Ht,h=new Ht;if(e)for(var m=e.array,i=0,o=e.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],c=3*m[i+2],l.fromArray(n,a),f.fromArray(n,s),d.fromArray(n,c),p.subVectors(d,f),h.subVectors(l,f),p.cross(h),u[a]+=p.x,u[a+1]+=p.y,u[a+2]+=p.z,u[s]+=p.x,u[s+1]+=p.y,u[s+2]+=p.z,u[c]+=p.x,u[c+1]+=p.y,u[c+2]+=p.z;else for(var i=0,o=n.length;i<o;i+=9)l.fromArray(n,i),f.fromArray(n,i+3),d.fromArray(n,i+6),p.subVectors(d,f),h.subVectors(l,f),p.cross(h),u[i]=p.x,u[i+1]=p.y,u[i+2]=p.z,u[i+3]=p.x,u[i+4]=p.y,u[i+5]=p.z,u[i+6]=p.x,u[i+7]=p.y,u[i+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r],o=i.array,a=e.attributes[r],s=a.array,c=a.itemSize,u=0,l=c*t;u<s.length;u++,l++)o[l]=s[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:(Mr=new Ht,function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Mr.x=e.getX(t),Mr.y=e.getY(t),Mr.z=e.getZ(t),Mr.normalize(),e.setXYZ(t,Mr.x,Mr.y,Mr.z)}),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Rr,t=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(t.length*a),c=0,u=0,l=0,f=t.length;l<f;l++){c=t[l]*a;for(var d=0;d<a;d++)s[u++]=o[c++]}e.addAttribute(r,new fr(s,a))}for(var p=this.groups,l=0,f=p.length;l<f;l++){var h=p[l];e.addGroup(h.start,h.count,h.materialIndex)}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;0<s.length&&(e.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(e.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),e},clone:function(){return(new Rr).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var c=[],u=s[t];for(n=0,r=u.length;n<r;n++)c.push(u[n].clone());this.morphAttributes[t]=c}var l=e.groups;for(n=0,r=l.length;n<r;n++){var f=l[n];this.addGroup(f.start,f.count,f.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Lr.prototype=Object.create(lr.prototype)).constructor=Lr,(Nr.prototype=Object.create(Rr.prototype)).constructor=Nr,(Dr.prototype=Object.create(lr.prototype)).constructor=Dr,(jr.prototype=Object.create(Rr.prototype)).constructor=jr;var Fr,Vr,Yr,Br,zr,Hr,Gr,Wr,qr,Xr,Kr,$r,Jr,Zr,Qr,ei,ti,ni,ri,ii,oi,ai,si,ci,ui,li=0;function fi(){Object.defineProperty(this,"id",{value:li++}),this.uuid=Vt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=$,this.side=N,this.flatShading=!1,this.vertexColors=M,this.opacity=1,this.transparent=!1,this.blendSrc=I,this.blendDst=R,this.blendEquation=te,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ae,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function di(e){fi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function pi(e,t){this.origin=void 0!==e?e:new Ht,this.direction=void 0!==t?t:new Ht}function hi(e,t,n){this.a=void 0!==e?e:new Ht,this.b=void 0!==t?t:new Ht,this.c=void 0!==n?n:new Ht}function mi(e){fi.call(this),this.type="MeshBasicMaterial",this.color=new Un(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function gi(e,t){tr.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Rr,this.material=void 0!==t?t:new mi({color:16777215*Math.random()}),this.drawMode=Pt,this.updateMorphTargets()}function vi(o,n,a,r){var s,c,u=new Un(0),l=0;function f(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,r)}return{getClearColor:function(){return u},setClearColor:function(e,t){u.set(e),f(u,l=void 0!==t?t:1)},getClearAlpha:function(){return l},setClearAlpha:function(e){f(u,l=e)},render:function(e,t,n,r){var i=t.background;null===i?f(u,l):i&&i.isColor&&(f(i,1),r=!0),(o.autoClear||r)&&o.clear(o.autoClearColor,o.autoClearDepth,o.autoClearStencil),i&&(i.isCubeTexture||i.isWebGLRenderTargetCube)?(void 0===c&&((c=new gi(new Nr(1,1,1),new di({type:"BackgroundCubeMaterial",uniforms:Tn.clone(Cn.cube.uniforms),vertexShader:Cn.cube.vertexShader,fragmentShader:Cn.cube.fragmentShader,side:_e,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),c.geometry.removeAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},a.update(c)),c.material.uniforms.tCube.value=i.isWebGLRenderTargetCube?i.texture:i,c.material.uniforms.tFlip.value=i.isWebGLRenderTargetCube?1:-1,e.push(c,c.geometry,c.material,0,null)):i&&i.isTexture&&(void 0===s&&((s=new gi(new jr(2,2),new di({type:"BackgroundMaterial",uniforms:Tn.clone(Cn.background.uniforms),vertexShader:Cn.background.vertexShader,fragmentShader:Cn.background.fragmentShader,side:N,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.update(s)),!0===(s.material.uniforms.t2D.value=i).matrixAutoUpdate&&i.updateMatrix(),s.material.uniforms.uvTransform.value.copy(i.matrix),e.push(s,s.geometry,s.material,0,null))}}}function yi(i,o,a,s){var c;this.setMode=function(e){c=e},this.render=function(e,t){i.drawArrays(c,e,t),a.update(t,c)},this.renderInstances=function(e,t,n){var r;if(s.isWebGL2)r=i;else if(null===(r=o.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");r[s.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](c,t,n,e.maxInstancedCount),a.update(n,c,e.maxInstancedCount)}}function bi(t,n,e){var r;function i(e){if("highp"===e){if(0<t.getShaderPrecisionFormat(35633,36338).precision&&0<t.getShaderPrecisionFormat(35632,36338).precision)return"highp";e="mediump"}return"mediump"===e&&0<t.getShaderPrecisionFormat(35633,36337).precision&&0<t.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,a=void 0!==e.precision?e.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===e.logarithmicDepthBuffer,u=t.getParameter(34930),l=t.getParameter(35660),f=t.getParameter(3379),d=t.getParameter(34076),p=t.getParameter(34921),h=t.getParameter(36347),m=t.getParameter(36348),g=t.getParameter(36349),v=0<l,y=o||!!n.get("OES_texture_float"),b=v&&y;return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var e=n.get("EXT_texture_filter_anisotropic");return r=null!==e?t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:l,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:h,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:b}}function xi(){var l=this,f=null,d=0,p=!1,h=!1,m=new yn,g=new Gt,v={value:null,needsUpdate:!1};function y(){v.value!==f&&(v.value=f,v.needsUpdate=0<d),l.numPlanes=d,l.numIntersection=0}function b(e,t,n,r){var i=null!==e?e.length:0,o=null;if(0!==i){if(o=v.value,!0!==r||null===o){var a=n+4*i,s=t.matrixWorldInverse;g.getNormalMatrix(s),(null===o||o.length<a)&&(o=new Float32Array(a));for(var c=0,u=n;c!==i;++c,u+=4)m.copy(e[c]).applyMatrix4(s,g),m.normal.toArray(o,u),o[u+3]=m.constant}v.value=o,v.needsUpdate=!0}return l.numPlanes=i,o}this.uniform=v,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,n){var r=0!==e.length||t||0!==d||p;return p=t,f=b(e,n,0),d=e.length,r},this.beginShadows=function(){h=!0,b(null)},this.endShadows=function(){h=!1,y()},this.setState=function(e,t,n,r,i,o){if(!p||null===e||0===e.length||h&&!n)h?b(null):y();else{var a=h?0:d,s=4*a,c=i.clippingState||null;v.value=c,c=b(e,r,s,o);for(var u=0;u!==s;++u)c[u]=f[u];i.clippingState=c,this.numIntersection=t?this.numPlanes:0,this.numPlanes+=a}}}function wi(n){var r={};return{get:function(e){if(void 0!==r[e])return r[e];var t;switch(e){case"WEBGL_depth_texture":t=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":t=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":t=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":t=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:t=n.getExtension(e)}return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),r[e]=t}}}function _i(e,f,o){var a={},d={};function s(e){var t=e.target,n=a[t.id];for(var r in null!==n.index&&f.remove(n.index),n.attributes)f.remove(n.attributes[r]);t.removeEventListener("dispose",s),delete a[t.id];var i=d[n.id];i&&(f.remove(i),delete d[n.id]),o.memory.geometries--}return{get:function(e,t){var n=a[t.id];return n||(t.addEventListener("dispose",s),t.isBufferGeometry?n=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Rr).setFromObject(e)),n=t._bufferGeometry),a[t.id]=n,o.memory.geometries++,n)},update:function(e){var t=e.index,n=e.attributes;for(var r in null!==t&&f.update(t,34963),n)f.update(n[r],34962);var i=e.morphAttributes;for(var r in i)for(var o=i[r],a=0,s=o.length;a<s;a++)f.update(o[a],34962)},getWireframeAttribute:function(e){var t=d[e.id];if(t)return t;var n=[],r=e.index,i=e.attributes;if(null!==r)for(var o=r.array,a=0,s=o.length;a<s;a+=3){var c=o[a+0],u=o[a+1],l=o[a+2];n.push(c,u,u,l,l,c)}else for(var o=i.position.array,a=0,s=o.length/3-1;a<s;a+=3){var c=a+0,u=a+1,l=a+2;n.push(c,u,u,l,l,c)}return t=new(65535<_r(n)?yr:gr)(n,1),f.update(t,34963),d[e.id]=t}}}function Mi(i,o,a,s){var c,u,l;this.setMode=function(e){c=e},this.setIndex=function(e){u=e.type,l=e.bytesPerElement},this.render=function(e,t){i.drawElements(c,t,u,e*l),a.update(t,c)},this.renderInstances=function(e,t,n){if(s.isWebGL2)r=i;else{var r=o.get("ANGLE_instanced_arrays");if(null===r)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}r[s.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](c,n,u,t*l,e.maxInstancedCount),a.update(n,c,e.maxInstancedCount)}}function Ti(e){var r={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:r,programs:null,autoReset:!0,reset:function(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0},update:function(e,t,n){switch(n=n||1,r.calls++,t){case 4:r.triangles+=n*(e/3);break;case 5:case 6:r.triangles+=n*(e-2);break;case 1:r.lines+=n*(e/2);break;case 3:r.lines+=n*(e-1);break;case 2:r.lines+=n*e;break;case 0:r.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t)}}}}function Si(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ui(p){var h={},m=new Float32Array(8);return{update:function(e,t,n,r){var i=e.morphTargetInfluences,o=i.length,a=h[t.id];if(void 0===a){a=[];for(var s=0;s<o;s++)a[s]=[s,0];h[t.id]=a}for(var c=n.morphTargets&&t.morphAttributes.position,u=n.morphNormals&&t.morphAttributes.normal,s=0;s<o;s++){var l=a[s];0!==l[1]&&(c&&t.removeAttribute("morphTarget"+s),u&&t.removeAttribute("morphNormal"+s))}for(var s=0;s<o;s++){var l=a[s];l[0]=s,l[1]=i[s]}a.sort(Si);for(var s=0;s<8;s++){var l=a[s];if(l){var f=l[0],d=l[1];if(d){c&&t.addAttribute("morphTarget"+s,c[f]),u&&t.addAttribute("morphNormal"+s,u[f]),m[s]=d;continue}}m[s]=0}r.getUniforms().setValue(p,"morphTargetInfluences",m)}}}function ki(i,o){var a={};return{update:function(e){var t=o.render.frame,n=e.geometry,r=i.get(e,n);return a[r.id]!==t&&(n.isGeometry&&r.updateFromObject(e),i.update(r),a[r.id]=t),r},dispose:function(){a={}}}}function Pi(e,t,n,r,i,o,a,s,c,u){fn.call(this,e=void 0!==e?e:[],t=void 0!==t?t:me,n,r,i,o,a,s,c,u),this.flipY=!1}function Ei(e,t,n,r){fn.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=ke,this.minFilter=ke,this.generateMipmaps=!1,this.flipY=!1}fi.prototype=Object.assign(Object.create(t.prototype),{constructor:fi,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==$&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==N&&(n.side=this.side),this.vertexColors!==M&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);0<i.length&&(n.textures=i),0<o.length&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((di.prototype=Object.create(fi.prototype)).constructor=di).prototype.isShaderMaterial=!0,di.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Tn.clone(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},di.prototype.toJSON=function(e){var t=fi.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n],i=r.value;i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}return 0<Object.keys(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(pi.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Ht),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:(ui=new Ht,function(e){return this.origin.copy(this.at(e,ui)),this}),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Ht),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:(ci=new Ht,function(e){var t=ci.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ci.copy(this.direction).multiplyScalar(t).add(this.origin),ci.distanceToSquared(e))}),distanceSqToSegment:(oi=new Ht,ai=new Ht,si=new Ht,function(e,t,n,r){oi.copy(e).add(t).multiplyScalar(.5),ai.copy(t).sub(e).normalize(),si.copy(this.origin).sub(oi);var i,o,a,s,c=.5*e.distanceTo(t),u=-this.direction.dot(ai),l=si.dot(this.direction),f=-si.dot(ai),d=si.lengthSq(),p=Math.abs(1-u*u);if(0<p)if(o=u*l-f,s=c*p,0<=(i=u*f-l))if(-s<=o)if(o<=s){var h=1/p;a=(i*=h)*(i+u*(o*=h)+2*l)+o*(u*i+o+2*f)+d}else o=c,i=Math.max(0,-(u*o+l)),a=-i*i+o*(o+2*f)+d;else o=-c,i=Math.max(0,-(u*o+l)),a=-i*i+o*(o+2*f)+d;else a=o<=-s?(i=Math.max(0,-(-u*c+l)),o=0<i?-c:Math.min(Math.max(-c,-f),c),-i*i+o*(o+2*f)+d):o<=s?(i=0,(o=Math.min(Math.max(-c,-f),c))*(o+2*f)+d):(i=Math.max(0,-(u*c+l)),o=0<i?c:Math.min(Math.max(-c,-f),c),-i*i+o*(o+2*f)+d);else o=0<u?-c:c,i=Math.max(0,-(u*o+l)),a=-i*i+o*(o+2*f)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(ai).multiplyScalar(o).add(oi),a}),intersectSphere:(ii=new Ht,function(e,t){ii.subVectors(e.center,this.origin);var n=ii.dot(this.direction),r=ii.dot(ii)-n*n,i=e.radius*e.radius;if(i<r)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)}),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=n?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var n=e.normal.dot(this.direction);return n*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,c=1/this.direction.x,u=1/this.direction.y,l=1/this.direction.z,f=this.origin;return r=0<=c?(n=(e.min.x-f.x)*c,(e.max.x-f.x)*c):(n=(e.max.x-f.x)*c,(e.min.x-f.x)*c),(o=0<=u?(i=(e.min.y-f.y)*u,(e.max.y-f.y)*u):(i=(e.max.y-f.y)*u,(e.min.y-f.y)*u))<n||r<i?null:((n<i||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),(s=0<=l?(a=(e.min.z-f.z)*l,(e.max.z-f.z)*l):(a=(e.max.z-f.z)*l,(e.min.z-f.z)*l))<n||r<a?null:((n<a||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(0<=n?n:r,t)))},intersectsBox:(ri=new Ht,function(e){return null!==this.intersectBox(e,ri)}),intersectTriangle:(Qr=new Ht,ei=new Ht,ti=new Ht,ni=new Ht,function(e,t,n,r,i){ei.subVectors(t,e),ti.subVectors(n,e),ni.crossVectors(ei,ti);var o,a=this.direction.dot(ni);if(0<a){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Qr.subVectors(this.origin,e);var s=o*this.direction.dot(ti.crossVectors(Qr,ti));if(s<0)return null;var c=o*this.direction.dot(ei.cross(Qr));if(c<0)return null;if(a<s+c)return null;var u=-o*Qr.dot(ni);return u<0?null:this.at(u/a,i)}),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(hi,{getNormal:(Zr=new Ht,function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new Ht),r.subVectors(n,t),Zr.subVectors(e,t),r.cross(Zr);var i=r.lengthSq();return 0<i?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}),getBarycoord:(Kr=new Ht,$r=new Ht,Jr=new Ht,function(e,t,n,r,i){Kr.subVectors(r,t),$r.subVectors(n,t),Jr.subVectors(e,t);var o=Kr.dot(Kr),a=Kr.dot($r),s=Kr.dot(Jr),c=$r.dot($r),u=$r.dot(Jr),l=o*c-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new Ht),0===l)return i.set(-2,-1,-1);var f=1/l,d=(c*s-a*u)*f,p=(o*u-a*s)*f;return i.set(1-d-p,p,d)}),containsPoint:(Xr=new Ht,function(e,t,n,r){return hi.getBarycoord(e,t,n,r,Xr),0<=Xr.x&&0<=Xr.y&&Xr.x+Xr.y<=1}),getUV:(qr=new Ht,function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,qr),s.set(0,0),s.addScaledVector(i,qr.x),s.addScaledVector(o,qr.y),s.addScaledVector(a,qr.z),s})}),Object.assign(hi.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:(Gr=new Ht,Wr=new Ht,function(){return Gr.subVectors(this.c,this.b),Wr.subVectors(this.a,this.b),.5*Gr.cross(Wr).length()}),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Ht),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return hi.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Ht),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return hi.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return hi.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return hi.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(Fr=new Ht,Vr=new Ht,Yr=new Ht,Br=new Ht,zr=new Ht,Hr=new Ht,function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Ht);var n,r,i=this.a,o=this.b,a=this.c;Fr.subVectors(o,i),Vr.subVectors(a,i),Br.subVectors(e,i);var s=Fr.dot(Br),c=Vr.dot(Br);if(s<=0&&c<=0)return t.copy(i);zr.subVectors(e,o);var u=Fr.dot(zr),l=Vr.dot(zr);if(0<=u&&l<=u)return t.copy(o);var f=s*l-u*c;if(f<=0&&0<=s&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(Fr,n);Hr.subVectors(e,a);var d=Fr.dot(Hr),p=Vr.dot(Hr);if(0<=p&&d<=p)return t.copy(a);var h=d*c-s*p;if(h<=0&&0<=c&&p<=0)return r=c/(c-p),t.copy(i).addScaledVector(Vr,r);var m=u*p-d*l;if(m<=0&&0<=l-u&&0<=d-p)return Yr.subVectors(a,o),r=(l-u)/(l-u+(d-p)),t.copy(o).addScaledVector(Yr,r);var g=1/(m+h+f);return n=h*g,r=f*g,t.copy(i).addScaledVector(Fr,n).addScaledVector(Vr,r)}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),((mi.prototype=Object.create(fi.prototype)).constructor=mi).prototype.isMeshBasicMaterial=!0,mi.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},gi.prototype=Object.assign(Object.create(tr.prototype),{constructor:gi,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return tr.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(0<o.length){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;if(void 0!==s&&0<s.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)n=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){var Y=new Bt,B=new pi,z=new vn,H=new Ht,G=new Ht,W=new Ht,q=new Ht,X=new Ht,K=new Ht,$=new Yt,J=new Yt,Z=new Yt,Q=new Ht,u=new Ht;function ee(e,t,n,r,i,o,a,s){if(null===(t.side===_e?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==ne,s)))return null;u.copy(s),u.applyMatrix4(e.matrixWorld);var c=n.ray.origin.distanceTo(u);return c<n.near||c>n.far?null:{distance:c,point:u.clone(),object:e}}function te(e,t,n,r,i,o,a,s,c){H.fromBufferAttribute(i,a),G.fromBufferAttribute(i,s),W.fromBufferAttribute(i,c);var u=ee(e,t,n,r,H,G,W,Q);if(u){o&&($.fromBufferAttribute(o,a),J.fromBufferAttribute(o,s),Z.fromBufferAttribute(o,c),u.uv=hi.getUV(Q,H,G,W,$,J,Z,new Yt));var l=new In(a,s,c);hi.getNormal(H,G,W,l.normal),u.face=l}return u}return function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),z.copy(r.boundingSphere),z.applyMatrix4(o),!1!==e.ray.intersectsSphere(z)&&(Y.getInverse(o),B.copy(e.ray).applyMatrix4(Y),null===r.boundingBox||!1!==B.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a,s,c,u,l,f,d,p,h,m,g,v=r.index,y=r.attributes.position,b=r.attributes.uv,x=r.groups,w=r.drawRange;if(null!==v)if(Array.isArray(i))for(u=0,f=x.length;u<f;u++)for(p=x[u],h=i[p.materialIndex],m=Math.max(p.start,w.start),g=Math.min(p.start+p.count,w.start+w.count),l=m,d=g;l<d;l+=3)a=v.getX(l),s=v.getX(l+1),c=v.getX(l+2),(n=te(this,h,e,B,y,b,a,s,c))&&(n.faceIndex=Math.floor(l/3),t.push(n));else for(m=Math.max(0,w.start),g=Math.min(v.count,w.start+w.count),u=m,f=g;u<f;u+=3)a=v.getX(u),s=v.getX(u+1),c=v.getX(u+2),(n=te(this,i,e,B,y,b,a,s,c))&&(n.faceIndex=Math.floor(u/3),t.push(n));else if(void 0!==y)if(Array.isArray(i))for(u=0,f=x.length;u<f;u++)for(p=x[u],h=i[p.materialIndex],m=Math.max(p.start,w.start),g=Math.min(p.start+p.count,w.start+w.count),l=m,d=g;l<d;l+=3)(n=te(this,h,e,B,y,b,a=l,s=l+1,c=l+2))&&(n.faceIndex=Math.floor(l/3),t.push(n));else for(m=Math.max(0,w.start),g=Math.min(y.count,w.start+w.count),u=m,f=g;u<f;u+=3)(n=te(this,i,e,B,y,b,a=u,s=u+1,c=u+2))&&(n.faceIndex=Math.floor(u/3),t.push(n))}else if(r.isGeometry){var _,M,T,S,U=Array.isArray(i),k=r.vertices,P=r.faces,E=r.faceVertexUvs[0];0<E.length&&(S=E);for(var C=0,A=P.length;C<A;C++){var O=P[C],I=U?i[O.materialIndex]:i;if(void 0!==I){if(_=k[O.a],M=k[O.b],T=k[O.c],!0===I.morphTargets){var R=r.morphTargets,L=this.morphTargetInfluences;H.set(0,0,0),G.set(0,0,0),W.set(0,0,0);for(var N=0,D=R.length;N<D;N++){var j=L[N];if(0!==j){var F=R[N].vertices;H.addScaledVector(q.subVectors(F[O.a],_),j),G.addScaledVector(X.subVectors(F[O.b],M),j),W.addScaledVector(K.subVectors(F[O.c],T),j)}}H.add(_),G.add(M),W.add(T),_=H,M=G,T=W}if(n=ee(this,I,e,B,_,M,T,Q)){if(S&&S[C]){var V=S[C];$.copy(V[0]),J.copy(V[1]),Z.copy(V[2]),n.uv=hi.getUV(Q,_,M,T,$,J,Z,new Yt)}n.face=O,n.faceIndex=C,t.push(n)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),((Pi.prototype=Object.create(fn.prototype)).constructor=Pi).prototype.isCubeTexture=!0,Object.defineProperty(Pi.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),((Ei.prototype=Object.create(fn.prototype)).constructor=Ei).prototype.isDataTexture3D=!0;var Ci=new fn,Ai=new Ei,Oi=new Pi;function Ii(){this.seq=[],this.map={}}var Ri=[],Li=[],Ni=new Float32Array(16),Di=new Float32Array(9),ji=new Float32Array(4);function Fi(e,t,n){var r=e[0];if(r<=0||0<r)return e;var i=t*n,o=Ri[i];if(void 0===o&&(o=new Float32Array(i),Ri[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Vi(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Yi(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Bi(e,t){var n=Li[t];void 0===n&&(n=new Int32Array(t),Li[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function zi(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Hi(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Gi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Vi(n,t))return;e.uniform2fv(this.addr,t),Yi(n,t)}}function Wi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Vi(n,t))return;e.uniform3fv(this.addr,t),Yi(n,t)}}function qi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Vi(n,t))return;e.uniform4fv(this.addr,t),Yi(n,t)}}function Xi(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Vi(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Yi(n,t)}else{if(Vi(n,r))return;ji.set(r),e.uniformMatrix2fv(this.addr,!1,ji),Yi(n,r)}}function Ki(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Vi(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Yi(n,t)}else{if(Vi(n,r))return;Di.set(r),e.uniformMatrix3fv(this.addr,!1,Di),Yi(n,r)}}function $i(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Vi(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Yi(n,t)}else{if(Vi(n,r))return;Ni.set(r),e.uniformMatrix4fv(this.addr,!1,Ni),Yi(n,r)}}function Ji(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Ci,i)}function Zi(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Ai,i)}function Qi(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Oi,i)}function eo(e,t){var n=this.cache;Vi(n,t)||(e.uniform2iv(this.addr,t),Yi(n,t))}function to(e,t){var n=this.cache;Vi(n,t)||(e.uniform3iv(this.addr,t),Yi(n,t))}function no(e,t){var n=this.cache;Vi(n,t)||(e.uniform4iv(this.addr,t),Yi(n,t))}function ro(e,t){var n=this.cache;Vi(n,t)||(e.uniform1fv(this.addr,t),Yi(n,t))}function io(e,t){var n=this.cache;Vi(n,t)||(e.uniform1iv(this.addr,t),Yi(n,t))}function oo(e,t){var n=this.cache,r=Fi(t,this.size,2);Vi(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function ao(e,t){var n=this.cache,r=Fi(t,this.size,3);Vi(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function so(e,t){var n=this.cache,r=Fi(t,this.size,4);Vi(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function co(e,t){var n=this.cache,r=Fi(t,this.size,4);Vi(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function uo(e,t){var n=this.cache,r=Fi(t,this.size,9);Vi(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function lo(e,t){var n=this.cache,r=Fi(t,this.size,16);Vi(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function fo(e,t,n){var r=this.cache,i=t.length,o=Bi(n,i);!1===Vi(r,o)&&(e.uniform1iv(this.addr,o),Yi(r,o));for(var a=0;a!==i;++a)n.setTexture2D(t[a]||Ci,o[a])}function po(e,t,n){var r=this.cache,i=t.length,o=Bi(n,i);!1===Vi(r,o)&&(e.uniform1iv(this.addr,o),Yi(r,o));for(var a=0;a!==i;++a)n.setTextureCube(t[a]||Oi,o[a])}function ho(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return zi;case 35664:return Gi;case 35665:return Wi;case 35666:return qi;case 35674:return Xi;case 35675:return Ki;case 35676:return $i;case 35678:case 36198:return Ji;case 35679:return Zi;case 35680:return Qi;case 5124:case 35670:return Hi;case 35667:case 35671:return eo;case 35668:case 35672:return to;case 35669:case 35673:return no}}(t.type)}function mo(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return ro;case 35664:return oo;case 35665:return ao;case 35666:return so;case 35674:return co;case 35675:return uo;case 35676:return lo;case 35678:return fo;case 35680:return po;case 5124:case 35670:return io;case 35667:case 35671:return eo;case 35668:case 35672:return to;case 35669:case 35673:return no}}(t.type)}function go(e){this.id=e,Ii.call(this)}mo.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Yi(t,e)},go.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var vo=/([\w\d_]+)(\])?(\[|\.)?/g;function yo(e,t){e.seq.push(t),e.map[t.id]=t}function bo(e,t,n){var r=e.name,i=r.length;for(vo.lastIndex=0;;){var o=vo.exec(r),a=vo.lastIndex,s=o[1],c="]"===o[2],u=o[3];if(c&&(s|=0),void 0===u||"["===u&&a+2===i){yo(n,void 0===u?new ho(s,e,t):new mo(s,e,t));break}var l=n.map,f=l[s];void 0===f&&(f=new go(s),yo(n,f)),n=f}}function xo(e,t,n){Ii.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,35718),i=0;i<r;++i){var o=e.getActiveUniform(t,i),a=e.getUniformLocation(t,o.name);bo(o,a,this)}}function wo(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}xo.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},xo.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},xo.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},xo.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var _o=0;function Mo(e){switch(e){case Et:return["Linear","( value )"];case Ct:return["sRGB","( value )"];case Ot:return["RGBE","( value )"];case It:return["RGBM","( value, 7.0 )"];case Rt:return["RGBM","( value, 16.0 )"];case Lt:return["RGBD","( value, 256.0 )"];case At:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function To(e,t){var n=Mo(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function So(e){return""!==e}function Uo(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function ko(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function Po(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){var n=Mn[t];if(void 0!==n)return Po(n);throw new Error("Can not resolve #include <"+t+">")})}function Eo(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i})}function Co(e,t,n,r,i,o,a){var s=e.context,c=r.defines,u=i.vertexShader,l=i.fragmentShader,f="SHADOWMAP_TYPE_BASIC";o.shadowMapType===V?f="SHADOWMAP_TYPE_PCF":o.shadowMapType===Y&&(f="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",h="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case me:case ge:d="ENVMAP_TYPE_CUBE";break;case xe:case we:d="ENVMAP_TYPE_CUBE_UV";break;case ve:case ye:d="ENVMAP_TYPE_EQUIREC";break;case be:d="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case ge:case ye:p="ENVMAP_MODE_REFRACTION"}switch(r.combine){case z:h="ENVMAP_BLENDING_MULTIPLY";break;case H:h="ENVMAP_BLENDING_MIX";break;case G:h="ENVMAP_BLENDING_ADD"}}var m,g,v,y,b,x,w,_,M=0<e.gammaFactor?e.gammaFactor:1,T=a.isWebGL2?"":(m=r.extensions,g=o,v=t,[(m=m||{}).derivatives||g.envMapCubeUV||g.bumpMap||g.normalMap&&!g.objectSpaceNormalMap||g.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(m.fragDepth||g.logarithmicDepthBuffer)&&v.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",m.drawBuffers&&v.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(m.shaderTextureLOD||g.envMap)&&v.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(So).join("\n")),S=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(c),U=s.createProgram();if(r.isRawShaderMaterial?(0<(y=[S].filter(So).join("\n")).length&&(y+="\n"),0<(b=[T,S].filter(So).join("\n")).length&&(b+="\n")):(y=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,S,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+M,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+f:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(So).join("\n"),b=[T,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,S,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+M,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.envMap?"#define "+p:"",o.envMap?"#define "+h:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+f:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==fe?"#define TONE_MAPPING":"",o.toneMapping!==fe?Mn.tonemapping_pars_fragment:"",o.toneMapping!==fe?function(e,t){var n;switch(t){case Me:n="Linear";break;case de:n="Reinhard";break;case pe:n="Uncharted2";break;case he:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Mn.encodings_pars_fragment:"",o.mapEncoding?To("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?To("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?To("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?To("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?(x="linearToOutputTexel",w=o.outputEncoding,_=Mo(w),"vec4 "+x+"( vec4 value ) { return LinearTo"+_[0]+_[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(So).join("\n")),u=ko(u=Uo(u=Po(u),o),o),l=ko(l=Uo(l=Po(l),o),o),u=Eo(u),l=Eo(l),a.isWebGL2&&!r.isRawShaderMaterial){var k=!1,P=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==u.match(P)&&null!==l.match(P)&&(k=!0,u=u.replace(P,""),l=l.replace(P,"")),y=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,b=["#version 300 es\n","#define varying in",k?"":"out highp vec4 pc_fragColor;",k?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b}var E=y+u,C=b+l,A=wo(s,35633,E),O=wo(s,35632,C);s.attachShader(U,A),s.attachShader(U,O),void 0!==r.index0AttributeName?s.bindAttribLocation(U,0,r.index0AttributeName):!0===o.morphTargets&&s.bindAttribLocation(U,0,"position"),s.linkProgram(U);var I,R,L=s.getProgramInfoLog(U).trim(),N=s.getShaderInfoLog(A).trim(),D=s.getShaderInfoLog(O).trim(),j=!0,F=!0;return!1===s.getProgramParameter(U,35714)?(j=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(U,35715),"gl.getProgramInfoLog",L,N,D)):""!==L?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",L):""!==N&&""!==D||(F=!1),F&&(this.diagnostics={runnable:j,material:r,programLog:L,vertexShader:{log:N,prefix:y},fragmentShader:{log:D,prefix:b}}),s.deleteShader(A),s.deleteShader(O),this.getUniforms=function(){return void 0===I&&(I=new xo(s,U,e)),I},this.getAttributes=function(){return void 0===R&&(R=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),a=o.name;n[a]=e.getAttribLocation(t,a)}return n}(s,U)),R},this.destroy=function(){s.deleteProgram(U),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=_o++,this.code=n,this.usedTimes=1,this.program=U,this.vertexShader=A,this.fragmentShader=O,this}function Ao(d,c,p){var u=[],h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function m(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=Et,n===Et&&t&&(n=At),n}this.getParameters=function(e,t,n,r,i,o,a){var s=h[e.type],c=a.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(p.floatVertexTextures)return 1024;var n=p.maxVertexUniforms,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(a):0,u=p.precision;null!==e.precision&&(u=p.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",u,"instead.");var l=d.getRenderTarget(),f={shaderID:s,precision:u,supportsVertexTextures:p.vertexTextures,outputEncoding:m(l?l.texture:null,d.gammaOutput),map:!!e.map,mapEncoding:m(e.map,d.gammaInput),matcap:!!e.matcap,matcapEncoding:m(e.matcap,d.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:m(e.envMap,d.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===xe||e.envMap.mapping===we),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:m(e.emissiveMap,d.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===Ft,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!r,useFog:e.fog,fogExp:r&&r.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:p.logarithmicDepthBuffer,skinning:e.skinning&&0<c,maxBones:c,useVertexTexture:p.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:d.maxMorphTargets,maxMorphNormals:d.maxMorphNormals,numDirLights:t.directional.length,numPointLights:t.point.length,numSpotLights:t.spot.length,numRectAreaLights:t.rectArea.length,numHemiLights:t.hemi.length,numClippingPlanes:i,numClipIntersection:o,dithering:e.dithering,shadowMapEnabled:d.shadowMap.enabled&&a.receiveShadow&&0<n.length,shadowMapType:d.shadowMap.type,toneMapping:d.toneMapping,physicallyCorrectLights:d.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===ne,flipSided:e.side===_e,depthPacking:void 0!==e.depthPacking&&e.depthPacking};return f},this.getProgramCode=function(e,t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)n.push(r),n.push(e.defines[r]);for(var i=0;i<o.length;i++)n.push(t[o[i]]);return n.push(e.onBeforeCompile.toString()),n.push(d.gammaOutput),n.push(d.gammaFactor),n.join()},this.acquireProgram=function(e,t,n,r){for(var i,o=0,a=u.length;o<a;o++){var s=u[o];if(s.code===r){++(i=s).usedTimes;break}}return void 0===i&&(i=new Co(d,c,r,e,t,n,p),u.push(i)),i},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},this.programs=u}function Oo(){var r=new WeakMap;return{get:function(e){var t=r.get(e);return void 0===t&&(t={},r.set(e,t)),t},remove:function(e){r.delete(e)},update:function(e,t,n){r.get(e)[t]=n},dispose:function(){r=new WeakMap}}}function Io(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ro(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Lo(){var a=[],s=0,c=[],u=[];return{opaque:c,transparent:u,init:function(){s=0,c.length=0,u.length=0},push:function(e,t,n,r,i){var o=a[s];void 0===o?(o={id:e.id,object:e,geometry:t,material:n,program:n.program,renderOrder:e.renderOrder,z:r,group:i},a[s]=o):(o.id=e.id,o.object=e,o.geometry=t,o.material=n,o.program=n.program,o.renderOrder=e.renderOrder,o.z=r,o.group=i),(!0===n.transparent?u:c).push(o),s++},sort:function(){1<c.length&&c.sort(Io),1<u.length&&u.sort(Ro)}}}function No(){var i={};return{get:function(e,t){var n=e.id+","+t.id,r=i[n];return void 0===r&&(r=new Lo,i[n]=r),r},dispose:function(){i={}}}}function Do(){var n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":t={direction:new Ht,color:new Un,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Yt};break;case"SpotLight":t={position:new Ht,direction:new Ht,color:new Un,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Yt};break;case"PointLight":t={position:new Ht,color:new Un,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Yt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":t={direction:new Ht,skyColor:new Un,groundColor:new Un};break;case"RectAreaLight":t={color:new Un,position:new Ht,halfWidth:new Ht,halfHeight:new Ht}}return n[e.id]=t}}}var jo=0;function Fo(){var w=new Do,_={id:jo++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},M=new Ht,T=new Bt,S=new Bt;return{setup:function(e,t,n){for(var r=0,i=0,o=0,a=0,s=0,c=0,u=0,l=0,f=n.matrixWorldInverse,d=0,p=e.length;d<p;d++){var h=e[d],m=h.color,g=h.intensity,v=h.distance,y=h.shadow&&h.shadow.map?h.shadow.map.texture:null;if(h.isAmbientLight)r+=m.r*g,i+=m.g*g,o+=m.b*g;else if(h.isDirectionalLight){var b=w.get(h);if(b.color.copy(h.color).multiplyScalar(h.intensity),b.direction.setFromMatrixPosition(h.matrixWorld),M.setFromMatrixPosition(h.target.matrixWorld),b.direction.sub(M),b.direction.transformDirection(f),b.shadow=h.castShadow,h.castShadow){var x=h.shadow;b.shadowBias=x.bias,b.shadowRadius=x.radius,b.shadowMapSize=x.mapSize}_.directionalShadowMap[a]=y,_.directionalShadowMatrix[a]=h.shadow.matrix,_.directional[a]=b,a++}else if(h.isSpotLight){var b=w.get(h);if(b.position.setFromMatrixPosition(h.matrixWorld),b.position.applyMatrix4(f),b.color.copy(m).multiplyScalar(g),b.distance=v,b.direction.setFromMatrixPosition(h.matrixWorld),M.setFromMatrixPosition(h.target.matrixWorld),b.direction.sub(M),b.direction.transformDirection(f),b.coneCos=Math.cos(h.angle),b.penumbraCos=Math.cos(h.angle*(1-h.penumbra)),b.decay=h.decay,b.shadow=h.castShadow,h.castShadow){var x=h.shadow;b.shadowBias=x.bias,b.shadowRadius=x.radius,b.shadowMapSize=x.mapSize}_.spotShadowMap[c]=y,_.spotShadowMatrix[c]=h.shadow.matrix,_.spot[c]=b,c++}else if(h.isRectAreaLight){var b=w.get(h);b.color.copy(m).multiplyScalar(g),b.position.setFromMatrixPosition(h.matrixWorld),b.position.applyMatrix4(f),S.identity(),T.copy(h.matrixWorld),T.premultiply(f),S.extractRotation(T),b.halfWidth.set(.5*h.width,0,0),b.halfHeight.set(0,.5*h.height,0),b.halfWidth.applyMatrix4(S),b.halfHeight.applyMatrix4(S),_.rectArea[u]=b,u++}else if(h.isPointLight){var b=w.get(h);if(b.position.setFromMatrixPosition(h.matrixWorld),b.position.applyMatrix4(f),b.color.copy(h.color).multiplyScalar(h.intensity),b.distance=h.distance,b.decay=h.decay,b.shadow=h.castShadow,h.castShadow){var x=h.shadow;b.shadowBias=x.bias,b.shadowRadius=x.radius,b.shadowMapSize=x.mapSize,b.shadowCameraNear=x.camera.near,b.shadowCameraFar=x.camera.far}_.pointShadowMap[s]=y,_.pointShadowMatrix[s]=h.shadow.matrix,_.point[s]=b,s++}else if(h.isHemisphereLight){var b=w.get(h);b.direction.setFromMatrixPosition(h.matrixWorld),b.direction.transformDirection(f),b.direction.normalize(),b.skyColor.copy(h.color).multiplyScalar(g),b.groundColor.copy(h.groundColor).multiplyScalar(g),_.hemi[l]=b,l++}}_.ambient[0]=r,_.ambient[1]=i,_.ambient[2]=o,_.directional.length=a,_.spot.length=c,_.rectArea.length=u,_.point.length=s,_.hemi.length=l,_.hash.stateID=_.id,_.hash.directionalLength=a,_.hash.pointLength=s,_.hash.spotLength=c,_.hash.rectAreaLength=u,_.hash.hemiLength=l,_.hash.shadowsLength=t.length},state:_}}function Vo(){var t=new Fo,n=[],r=[],e={lightsArray:n,shadowsArray:r,lights:t};return{init:function(){n.length=0,r.length=0},state:e,setupLights:function(e){t.setup(n,r,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function Yo(){var r={};return{get:function(e,t){var n;return void 0===r[e.id]?(n=new Vo,r[e.id]={},r[e.id][t.id]=n):void 0===r[e.id][t.id]?(n=new Vo,r[e.id][t.id]=n):n=r[e.id][t.id],n},dispose:function(){r={}}}}function Bo(e){fi.call(this),this.type="MeshDepthMaterial",this.depthPacking=Nt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function zo(e){fi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ht,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Ho(y,g,e){for(var b=new bn,x=new Bt,w=new Yt,_=new Yt(e,e),M=new Ht,T=new Ht,v=1,S=2,t=1+(v|S),U=new Array(t),k=new Array(t),P={},E={0:_e,1:N,2:ne},C=[new Ht(1,0,0),new Ht(-1,0,0),new Ht(0,0,1),new Ht(0,0,-1),new Ht(0,1,0),new Ht(0,-1,0)],A=[new Ht(0,1,0),new Ht(0,1,0),new Ht(0,1,0),new Ht(0,1,0),new Ht(0,0,1),new Ht(0,0,-1)],O=[new dn,new dn,new dn,new dn,new dn,new dn],n=0;n!==t;++n){var r=0!=(n&v),i=0!=(n&S),o=new Bo({depthPacking:Dt,morphTargets:r,skinning:i});U[n]=o;var a=new zo({morphTargets:r,skinning:i});k[n]=a}var I=this;function R(e,t,n,r,i,o){var a=e.geometry,s=null,c=U,u=e.customDepthMaterial;if(n&&(c=k,u=e.customDistanceMaterial),u)s=u;else{var l=!1;t.morphTargets&&(a&&a.isBufferGeometry?l=a.morphAttributes&&a.morphAttributes.position&&0<a.morphAttributes.position.length:a&&a.isGeometry&&(l=a.morphTargets&&0<a.morphTargets.length)),e.isSkinnedMesh&&!1===t.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var f=e.isSkinnedMesh&&t.skinning,d=0;l&&(d|=v),f&&(d|=S),s=c[d]}if(y.localClippingEnabled&&!0===t.clipShadows&&0!==t.clippingPlanes.length){var p=s.uuid,h=t.uuid,m=P[p];void 0===m&&(m={},P[p]=m);var g=m[h];void 0===g&&(g=s.clone(),m[h]=g),s=g}return s.visible=t.visible,s.wireframe=t.wireframe,s.side=null!=t.shadowSide?t.shadowSide:E[t.side],s.clipShadows=t.clipShadows,s.clippingPlanes=t.clippingPlanes,s.clipIntersection=t.clipIntersection,s.wireframeLinewidth=t.wireframeLinewidth,s.linewidth=t.linewidth,n&&s.isMeshDistanceMaterial&&(s.referencePosition.copy(r),s.nearDistance=i,s.farDistance=o),s}function L(e,t,n,r){if(!1!==e.visible){var i=e.layers.test(t.layers);if(i&&(e.isMesh||e.isLine||e.isPoints)&&e.castShadow&&(!e.frustumCulled||b.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld);var o=g.update(e),a=e.material;if(Array.isArray(a))for(var s=o.groups,c=0,u=s.length;c<u;c++){var l=s[c],f=a[l.materialIndex];if(f&&f.visible){var d=R(e,f,r,T,n.near,n.far);y.renderBufferDirect(n,null,o,d,e,l)}}else if(a.visible){var d=R(e,a,r,T,n.near,n.far);y.renderBufferDirect(n,null,o,d,e,null)}}for(var p=e.children,h=0,m=p.length;h<m;h++)L(p[h],t,n,r)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=V,this.render=function(e,t,n){if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)&&0!==e.length){y.context;var r,i=y.state;i.disable(3042),i.buffers.color.setClear(1,1,1,1),i.buffers.depth.setTest(!0),i.setScissorTest(!1);for(var o=0,a=e.length;o<a;o++){var s=e[o],c=s.shadow,u=s&&s.isPointLight;if(void 0!==c){var l=c.camera;if(w.copy(c.mapSize),w.min(_),u){var f=w.x,d=w.y;O[0].set(2*f,d,f,d),O[1].set(0,d,f,d),O[2].set(3*f,d,f,d),O[3].set(f,d,f,d),O[4].set(3*f,0,f,d),O[5].set(f,0,f,d),w.x*=4,w.y*=2}if(null===c.map){var p={minFilter:ke,magFilter:ke,format:qe};c.map=new pn(w.x,w.y,p),c.map.texture.name=s.name+".shadowMap",l.updateProjectionMatrix()}c.isSpotLightShadow&&c.update(s);var h=c.map,m=c.matrix;T.setFromMatrixPosition(s.matrixWorld),l.position.copy(T),u?(r=6,m.makeTranslation(-T.x,-T.y,-T.z)):(r=1,M.setFromMatrixPosition(s.target.matrixWorld),l.lookAt(M),l.updateMatrixWorld(),m.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m.multiply(l.projectionMatrix),m.multiply(l.matrixWorldInverse)),y.setRenderTarget(h),y.clear();for(var g=0;g<r;g++){if(u){M.copy(l.position),M.add(C[g]),l.up.copy(A[g]),l.lookAt(M),l.updateMatrixWorld();var v=O[g];i.viewport(v)}x.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),b.setFromMatrix(x),L(t,n,l,u)}}else console.warn("THREE.WebGLShadowMap:",s,"has no shadow.")}I.needsUpdate=!1}}}function Go(l,r,c,i){var o=new function(){var t=!1,o=new dn,n=null,a=new dn(0,0,0,0);return{setMask:function(e){n===e||t||(l.colorMask(e,e,e,e),n=e)},setLocked:function(e){t=e},setClear:function(e,t,n,r,i){!0===i&&(e*=r,t*=r,n*=r),o.set(e,t,n,r),!1===a.equals(o)&&(l.clearColor(e,t,n,r),a.copy(o))},reset:function(){t=!1,n=null,a.set(-1,0,0,0)}}},a=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?F(2929):V(2929)},setMask:function(e){n===e||t||(l.depthMask(e),n=e)},setFunc:function(e){if(r!==e){if(e)switch(e){case re:l.depthFunc(512);break;case ie:l.depthFunc(519);break;case oe:l.depthFunc(513);break;case ae:l.depthFunc(515);break;case se:l.depthFunc(514);break;case ce:l.depthFunc(518);break;case ue:l.depthFunc(516);break;case le:l.depthFunc(517);break;default:l.depthFunc(515)}else l.depthFunc(515);r=e}},setLocked:function(e){t=e},setClear:function(e){i!==e&&(l.clearDepth(e),i=e)},reset:function(){t=!1,i=r=n=null}}},t=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,u=null;return{setTest:function(e){e?F(2960):V(2960)},setMask:function(e){n===e||t||(l.stencilMask(e),n=e)},setFunc:function(e,t,n){r===e&&i===t&&o===n||(l.stencilFunc(e,t,n),r=e,i=t,o=n)},setOp:function(e,t,n){a===e&&s===t&&c===n||(l.stencilOp(e,t,n),a=e,s=t,c=n)},setLocked:function(e){t=e},setClear:function(e){u!==e&&(l.clearStencil(e),u=e)},reset:function(){t=!1,u=c=s=a=o=i=r=n=null}}},e=l.getParameter(34921),s=new Uint8Array(e),u=new Uint8Array(e),f=new Uint8Array(e),n={},d=null,p=null,h=null,m=null,g=null,v=null,y=null,b=null,x=null,w=null,_=!1,M=null,T=null,S=null,U=null,k=null,P=l.getParameter(35661),E=!1,C=0,A=l.getParameter(7938);-1!==A.indexOf("WebGL")?(C=parseFloat(/^WebGL\ ([0-9])/.exec(A)[1]),E=1<=C):-1!==A.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(A)[1]),E=2<=C);var O=null,I={},R=new dn,L=new dn;function N(e,t,n){var r=new Uint8Array(4),i=l.createTexture();l.bindTexture(e,i),l.texParameteri(e,10241,9728),l.texParameteri(e,10240,9728);for(var o=0;o<n;o++)l.texImage2D(t+o,0,6408,1,1,0,6408,5121,r);return i}var D={};function j(e,t){if(s[e]=1,0===u[e]&&(l.enableVertexAttribArray(e),u[e]=1),f[e]!==t){var n=i.isWebGL2?l:r.get("ANGLE_instanced_arrays");n[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](e,t),f[e]=t}}function F(e){!0!==n[e]&&(l.enable(e),n[e]=!0)}function V(e){!1!==n[e]&&(l.disable(e),n[e]=!1)}function Y(e,t,n,r,i,o,a,s){if(e!==K){if(h||(F(3042),h=!0),e===ee)i=i||t,o=o||n,a=a||r,t===g&&i===b||(l.blendEquationSeparate(c.convert(t),c.convert(i)),g=t,b=i),n===v&&r===y&&o===x&&a===w||(l.blendFuncSeparate(c.convert(n),c.convert(r),c.convert(o),c.convert(a)),v=n,y=r,x=o,w=a),m=e,_=null;else if(e!==m||s!==_){if(g===te&&b===te||(l.blendEquation(32774),b=g=te),s)switch(e){case $:l.blendFuncSeparate(1,771,1,771);break;case J:l.blendFunc(1,1);break;case Z:l.blendFuncSeparate(0,0,769,771);break;case Q:l.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case $:l.blendFuncSeparate(770,771,1,771);break;case J:l.blendFunc(770,1);break;case Z:l.blendFunc(0,769);break;case Q:l.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}w=x=y=v=null,m=e,_=s}}else h&&(V(3042),h=!1)}function B(e){M!==e&&(e?l.frontFace(2304):l.frontFace(2305),M=e)}function z(e){e!==W?(F(2884),e!==T&&(e===q?l.cullFace(1029):e===X?l.cullFace(1028):l.cullFace(1032))):V(2884),T=e}function H(e,t,n){e?(F(32823),U===t&&k===n||(l.polygonOffset(t,n),U=t,k=n)):V(32823)}function G(e){void 0===e&&(e=33984+P-1),O!==e&&(l.activeTexture(e),O=e)}return D[3553]=N(3553,3553,1),D[34067]=N(34067,34069,6),o.setClear(0,0,0,1),a.setClear(1),t.setClear(0),F(2929),a.setFunc(ae),B(!1),z(q),F(2884),Y(K),{buffers:{color:o,depth:a,stencil:t},initAttributes:function(){for(var e=0,t=s.length;e<t;e++)s[e]=0},enableAttribute:function(e){j(e,0)},enableAttributeAndDivisor:j,disableUnusedAttributes:function(){for(var e=0,t=u.length;e!==t;++e)u[e]!==s[e]&&(l.disableVertexAttribArray(e),u[e]=0)},enable:F,disable:V,getCompressedTextureFormats:function(){if(null===d&&(d=[],r.get("WEBGL_compressed_texture_pvrtc")||r.get("WEBGL_compressed_texture_s3tc")||r.get("WEBGL_compressed_texture_etc1")||r.get("WEBGL_compressed_texture_astc")))for(var e=l.getParameter(34467),t=0;t<e.length;t++)d.push(e[t]);return d},useProgram:function(e){return p!==e&&(l.useProgram(e),p=e,!0)},setBlending:Y,setMaterial:function(e,t){e.side===ne?V(2884):F(2884);var n=e.side===_e;t&&(n=!n),B(n),e.blending===$&&!1===e.transparent?Y(K):Y(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),o.setMask(e.colorWrite),H(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:B,setCullFace:z,setLineWidth:function(e){e!==S&&(E&&l.lineWidth(e),S=e)},setPolygonOffset:H,setScissorTest:function(e){e?F(3089):V(3089)},activeTexture:G,bindTexture:function(e,t){null===O&&G();var n=I[O];void 0===n&&(n={type:void 0,texture:void 0},I[O]=n),n.type===e&&n.texture===t||(l.bindTexture(e,t||D[e]),n.type=e,n.texture=t)},compressedTexImage2D:function(){try{l.compressedTexImage2D.apply(l,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{l.texImage2D.apply(l,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{l.texImage3D.apply(l,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===R.equals(e)&&(l.scissor(e.x,e.y,e.z,e.w),R.copy(e))},viewport:function(e){!1===L.equals(e)&&(l.viewport(e.x,e.y,e.z,e.w),L.copy(e))},reset:function(){for(var e=0;e<u.length;e++)1===u[e]&&(l.disableVertexAttribArray(e),u[e]=0);n={},I={},T=M=m=p=O=d=null,o.reset(),a.reset(),t.reset()}}}function Wo(g,i,v,y,b,x,w){var h,s={};function _(e,t){if(e.width>t||e.height>t){if("data"in e)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+e.width+"x"+e.height+").");var n=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n);var i=r.getContext("2d");return i.drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height),r}return e}function M(e){return Vt.isPowerOfTwo(e.width)&&Vt.isPowerOfTwo(e.height)}function T(e,t){return e.generateMipmaps&&t&&e.minFilter!==ke&&e.minFilter!==Ce}function S(e,t,n,r){g.generateMipmap(e);var i=y.get(t);i.__maxMipLevel=Math.log(Math.max(n,r))*Math.LOG2E}function U(e,t){if(!b.isWebGL2)return e;if(6403===e){if(5126===t)return 33326;if(5131===t)return 33325;if(5121===t)return 33321}if(6407===e){if(5126===t)return 34837;if(5131===t)return 34843;if(5121===t)return 32849}if(6408===e){if(5126===t)return 34836;if(5131===t)return 34842;if(5121===t)return 32856}return e}function o(e){return e===ke||e===Pe||e===Ee?9728:9729}function k(e){var t=e.target;t.removeEventListener("dispose",k),function(e){var t=y.get(e);if(e.image&&t.__image__webglTextureCube)g.deleteTexture(t.__image__webglTextureCube);else{if(void 0===t.__webglInit)return;g.deleteTexture(t.__webglTexture)}y.remove(e)}(t),t.isVideoTexture&&delete s[t.id],w.memory.textures--}function a(e){var t=e.target;t.removeEventListener("dispose",a),function(e){var t=y.get(e),n=y.get(e.texture);if(e){if(void 0!==n.__webglTexture&&g.deleteTexture(n.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var r=0;r<6;r++)g.deleteFramebuffer(t.__webglFramebuffer[r]),t.__webglDepthbuffer&&g.deleteRenderbuffer(t.__webglDepthbuffer[r]);else g.deleteFramebuffer(t.__webglFramebuffer),t.__webglDepthbuffer&&g.deleteRenderbuffer(t.__webglDepthbuffer);y.remove(e.texture),y.remove(e)}}(t),w.memory.textures--}function c(e,t){var n,r,i,o=y.get(e);if(e.isVideoTexture&&(r=(n=e).id,i=w.render.frame,s[r]!==i&&(s[r]=i,n.update())),0<e.version&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void u(o,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}v.activeTexture(33984+t),v.bindTexture(3553,o.__webglTexture)}function P(e,t,n){var r;if(n?(g.texParameteri(e,10242,x.convert(t.wrapS)),g.texParameteri(e,10243,x.convert(t.wrapT)),g.texParameteri(e,10240,x.convert(t.magFilter)),g.texParameteri(e,10241,x.convert(t.minFilter))):(g.texParameteri(e,10242,33071),g.texParameteri(e,10243,33071),t.wrapS===Se&&t.wrapT===Se||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),g.texParameteri(e,10240,o(t.magFilter)),g.texParameteri(e,10241,o(t.minFilter)),t.minFilter!==ke&&t.minFilter!==Ce&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),r=i.get("EXT_texture_filter_anisotropic")){if(t.type===Fe&&null===i.get("OES_texture_float_linear"))return;if(t.type===Ve&&null===(b.isWebGL2||i.get("OES_texture_half_float_linear")))return;(1<t.anisotropy||y.get(t).__currentAnisotropy)&&(g.texParameterf(e,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,b.getMaxAnisotropy())),y.get(t).__currentAnisotropy=t.anisotropy)}}function u(e,t,n){var r;r=t.isDataTexture3D?32879:3553,void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",k),e.__webglTexture=g.createTexture(),w.memory.textures++),v.activeTexture(33984+n),v.bindTexture(r,e.__webglTexture),g.pixelStorei(37440,t.flipY),g.pixelStorei(37441,t.premultiplyAlpha),g.pixelStorei(3317,t.unpackAlignment);var i,o=_(t.image,b.maxTextureSize);i=t,b.isWebGL2||i.wrapS===Se&&i.wrapT===Se&&(i.minFilter===ke||i.minFilter===Ce)||!1!==M(o)||(o=function(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){void 0===h&&(h=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),h.width=Vt.floorPowerOfTwo(e.width),h.height=Vt.floorPowerOfTwo(e.height);var t=h.getContext("2d");return t.drawImage(e,0,0,h.width,h.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+h.width+"x"+h.height),h}return e}(o));var a=M(o),s=x.convert(t.format),c=x.convert(t.type),u=U(s,c);P(r,t,a);var l,f=t.mipmaps;if(t.isDepthTexture){if(u=6402,t.type===Fe){if(!b.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");u=36012}else b.isWebGL2&&(u=33189);t.format===Je&&6402===u&&t.type!==Ne&&t.type!==je&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),t.type=Ne,c=x.convert(t.type)),t.format===Ze&&(u=34041,t.type!==He&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),t.type=He,c=x.convert(t.type))),v.texImage2D(3553,0,u,o.width,o.height,0,s,c,null)}else if(t.isDataTexture)if(0<f.length&&a){for(var d=0,p=f.length;d<p;d++)l=f[d],v.texImage2D(3553,d,u,l.width,l.height,0,s,c,l.data);t.generateMipmaps=!1,e.__maxMipLevel=f.length-1}else v.texImage2D(3553,0,u,o.width,o.height,0,s,c,o.data),e.__maxMipLevel=0;else if(t.isCompressedTexture){for(var d=0,p=f.length;d<p;d++)l=f[d],t.format!==qe&&t.format!==We?-1<v.getCompressedTextureFormats().indexOf(s)?v.compressedTexImage2D(3553,d,u,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):v.texImage2D(3553,d,u,l.width,l.height,0,s,c,l.data);e.__maxMipLevel=f.length-1}else if(t.isDataTexture3D)v.texImage3D(32879,0,u,o.width,o.height,o.depth,0,s,c,o.data),e.__maxMipLevel=0;else if(0<f.length&&a){for(var d=0,p=f.length;d<p;d++)l=f[d],v.texImage2D(3553,d,u,s,c,l);t.generateMipmaps=!1,e.__maxMipLevel=f.length-1}else v.texImage2D(3553,0,u,s,c,o),e.__maxMipLevel=0;T(t,a)&&S(3553,t,o.width,o.height),e.__version=t.version,t.onUpdate&&t.onUpdate(t)}function l(e,t,n,r){var i=x.convert(t.texture.format),o=x.convert(t.texture.type),a=U(i,o);v.texImage2D(r,0,a,t.width,t.height,0,i,o,null),g.bindFramebuffer(36160,e),g.framebufferTexture2D(36160,n,r,y.get(t.texture).__webglTexture,0),g.bindFramebuffer(36160,null)}function f(e,t){g.bindRenderbuffer(36161,e),t.depthBuffer&&!t.stencilBuffer?(g.renderbufferStorage(36161,33189,t.width,t.height),g.framebufferRenderbuffer(36160,36096,36161,e)):t.depthBuffer&&t.stencilBuffer?(g.renderbufferStorage(36161,34041,t.width,t.height),g.framebufferRenderbuffer(36160,33306,36161,e)):g.renderbufferStorage(36161,32854,t.width,t.height),g.bindRenderbuffer(36161,null)}function d(e){var t=y.get(e),n=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,t){if(t&&t.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(g.bindFramebuffer(36160,e),!t.depthTexture||!t.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");y.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),c(t.depthTexture,0);var n=y.get(t.depthTexture).__webglTexture;if(t.depthTexture.format===Je)g.framebufferTexture2D(36160,36096,3553,n,0);else{if(t.depthTexture.format!==Ze)throw new Error("Unknown depthTexture format");g.framebufferTexture2D(36160,33306,3553,n,0)}}(t.__webglFramebuffer,e)}else if(n){t.__webglDepthbuffer=[];for(var r=0;r<6;r++)g.bindFramebuffer(36160,t.__webglFramebuffer[r]),t.__webglDepthbuffer[r]=g.createRenderbuffer(),f(t.__webglDepthbuffer[r],e)}else g.bindFramebuffer(36160,t.__webglFramebuffer),t.__webglDepthbuffer=g.createRenderbuffer(),f(t.__webglDepthbuffer,e);g.bindFramebuffer(36160,null)}this.setTexture2D=c,this.setTexture3D=function(e,t){var n=y.get(e);0<e.version&&n.__version!==e.version?u(n,e,t):(v.activeTexture(33984+t),v.bindTexture(32879,n.__webglTexture))},this.setTextureCube=function(e,t){var n=y.get(e);if(6===e.image.length)if(0<e.version&&n.__version!==e.version){n.__image__webglTextureCube||(e.addEventListener("dispose",k),n.__image__webglTextureCube=g.createTexture(),w.memory.textures++),v.activeTexture(33984+t),v.bindTexture(34067,n.__image__webglTextureCube),g.pixelStorei(37440,e.flipY);for(var r=e&&e.isCompressedTexture,i=e.image[0]&&e.image[0].isDataTexture,o=[],a=0;a<6;a++)o[a]=r||i?i?e.image[a].image:e.image[a]:_(e.image[a],b.maxCubemapSize);var s=o[0],c=M(s),u=x.convert(e.format),l=x.convert(e.type),f=U(u,l);P(34067,e,c);for(var a=0;a<6;a++)if(r)for(var d,p=o[a].mipmaps,h=0,m=p.length;h<m;h++)d=p[h],e.format!==qe&&e.format!==We?-1<v.getCompressedTextureFormats().indexOf(u)?v.compressedTexImage2D(34069+a,h,f,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):v.texImage2D(34069+a,h,f,d.width,d.height,0,u,l,d.data);else i?v.texImage2D(34069+a,0,f,o[a].width,o[a].height,0,u,l,o[a].data):v.texImage2D(34069+a,0,f,u,l,o[a]);n.__maxMipLevel=r?p.length-1:0,T(e,c)&&S(34067,e,s.width,s.height),n.__version=e.version,e.onUpdate&&e.onUpdate(e)}else v.activeTexture(33984+t),v.bindTexture(34067,n.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){v.activeTexture(33984+t),v.bindTexture(34067,y.get(e).__webglTexture)},this.setupRenderTarget=function(e){var t=y.get(e),n=y.get(e.texture);e.addEventListener("dispose",a),n.__webglTexture=g.createTexture(),w.memory.textures++;var r=!0===e.isWebGLRenderTargetCube,i=M(e);if(r){t.__webglFramebuffer=[];for(var o=0;o<6;o++)t.__webglFramebuffer[o]=g.createFramebuffer()}else t.__webglFramebuffer=g.createFramebuffer();if(r){v.bindTexture(34067,n.__webglTexture),P(34067,e.texture,i);for(var o=0;o<6;o++)l(t.__webglFramebuffer[o],e,36064,34069+o);T(e.texture,i)&&S(34067,e.texture,e.width,e.height),v.bindTexture(34067,null)}else v.bindTexture(3553,n.__webglTexture),P(3553,e.texture,i),l(t.__webglFramebuffer,e,36064,3553),T(e.texture,i)&&S(3553,e.texture,e.width,e.height),v.bindTexture(3553,null);e.depthBuffer&&d(e)},this.updateRenderTargetMipmap=function(e){var t=e.texture,n=M(e);if(T(t,n)){var r=e.isWebGLRenderTargetCube?34067:3553,i=y.get(t).__webglTexture;v.bindTexture(r,i),S(r,t,e.width,e.height),v.bindTexture(r,null)}}}function qo(e,n,r){return{convert:function(e){var t;if(e===Te)return 10497;if(e===Se)return 33071;if(e===Ue)return 33648;if(e===ke)return 9728;if(e===Pe)return 9984;if(e===Ee)return 9986;if(e===Ce)return 9729;if(e===Ae)return 9985;if(e===Oe)return 9987;if(e===Ie)return 5121;if(e===Ye)return 32819;if(e===Be)return 32820;if(e===ze)return 33635;if(e===Re)return 5120;if(e===Le)return 5122;if(e===Ne)return 5123;if(e===De)return 5124;if(e===je)return 5125;if(e===Fe)return 5126;if(e===Ve){if(r.isWebGL2)return 5131;if(null!==(t=n.get("OES_texture_half_float")))return t.HALF_FLOAT_OES}if(e===Ge)return 6406;if(e===We)return 6407;if(e===qe)return 6408;if(e===Xe)return 6409;if(e===Ke)return 6410;if(e===Je)return 6402;if(e===Ze)return 34041;if(e===Qe)return 6403;if(e===te)return 32774;if(e===S)return 32778;if(e===U)return 32779;if(e===E)return 0;if(e===C)return 1;if(e===A)return 768;if(e===O)return 769;if(e===I)return 770;if(e===R)return 771;if(e===L)return 772;if(e===D)return 773;if(e===j)return 774;if(e===F)return 775;if(e===B)return 776;if((e===et||e===tt||e===nt||e===rt)&&null!==(t=n.get("WEBGL_compressed_texture_s3tc"))){if(e===et)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===tt)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===nt)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===rt)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===it||e===ot||e===at||e===st)&&null!==(t=n.get("WEBGL_compressed_texture_pvrtc"))){if(e===it)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===ot)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===at)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===st)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===ct&&null!==(t=n.get("WEBGL_compressed_texture_etc1")))return t.COMPRESSED_RGB_ETC1_WEBGL;if((e===ut||e===lt||e===ft||e===dt||e===pt||e===ht||e===mt||e===gt||e===vt||e===yt||e===bt||e===xt||e===wt||e===_t)&&null!==(t=n.get("WEBGL_compressed_texture_astc")))return e;if(e===k||e===P){if(r.isWebGL2){if(e===k)return 32775;if(e===P)return 32776}if(null!==(t=n.get("EXT_blend_minmax"))){if(e===k)return t.MIN_EXT;if(e===P)return t.MAX_EXT}}if(e===He){if(r.isWebGL2)return 34042;if(null!==(t=n.get("WEBGL_depth_texture")))return t.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Xo(){tr.call(this),this.type="Group"}function Ko(){tr.call(this),this.type="Camera",this.matrixWorldInverse=new Bt,this.projectionMatrix=new Bt,this.projectionMatrixInverse=new Bt}function $o(e,t,n,r){Ko.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Jo(e){$o.call(this),this.cameras=e||[]}((Bo.prototype=Object.create(fi.prototype)).constructor=Bo).prototype.isMeshDepthMaterial=!0,Bo.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},((zo.prototype=Object.create(fi.prototype)).constructor=zo).prototype.isMeshDistanceMaterial=!0,zo.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Xo.prototype=Object.assign(Object.create(tr.prototype),{constructor:Xo,isGroup:!0}),Ko.prototype=Object.assign(Object.create(tr.prototype),{constructor:Ko,isCamera:!0,copy:function(e,t){return tr.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Ht),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){tr.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),$o.prototype=Object.assign(Object.create(Ko.prototype),{constructor:$o,isPerspectiveCamera:!0,copy:function(e,t){return Ko.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Vt.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Vt.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Vt.RAD2DEG*Math.atan(Math.tan(.5*Vt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Vt.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var c=this.filmOffset;0!==c&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=tr.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Jo.prototype=Object.assign(Object.create($o.prototype),{constructor:Jo,isArrayCamera:!0});var Zo,Qo,ea,ta,na,ra,ia,oa,aa,sa,ca,ua,la,fa,da,pa,ha=new Ht,ma=new Ht;function ga(e,t,n){ha.setFromMatrixPosition(t.matrixWorld),ma.setFromMatrixPosition(n.matrixWorld);var r=ha.distanceTo(ma),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],u=(i[9]-1)/i[5],l=(i[8]-1)/i[0],f=(o[8]+1)/o[0],d=a*l,p=a*f,h=r/(-l+f),m=h*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=a+h,v=s+h,y=d-m,b=p+(r-m),x=c*s/v*g,w=u*s/v*g;e.projectionMatrix.makePerspective(y,b,x,w,g,v)}function va(r){var i=this,c=null,u=null,l=null,f=[],d=new Bt,p=new Bt,o=1,h="stage";"undefined"!=typeof window&&"VRFrameData"in window&&(u=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",e,!1));var m=new Bt,g=new zt,v=new Ht,y=new $o;y.bounds=new dn(0,0,.5,1),y.layers.enable(1);var b=new $o;b.bounds=new dn(.5,0,.5,1),b.layers.enable(2);var a,s,x=new Jo([y,b]);function w(){return null!==c&&!0===c.isPresenting}function e(){if(w()){var e=c.getEyeParameters("left"),t=e.renderWidth*o,n=e.renderHeight*o;s=r.getPixelRatio(),a=r.getSize(),r.setDrawingBufferSize(2*t,n,1),T.start()}else i.enabled&&r.setDrawingBufferSize(a.width,a.height,s),T.stop()}x.layers.enable(1),x.layers.enable(2);var _=[];function M(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var o=t[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(r===e)return o;r++}}}this.enabled=!1,this.getController=function(e){var t=f[e];return void 0===t&&((t=new Xo).matrixAutoUpdate=!1,t.visible=!1,f[e]=t),t},this.getDevice=function(){return c},this.setDevice=function(e){void 0!==e&&(c=e),T.setContext(e)},this.setFramebufferScaleFactor=function(e){o=e},this.setFrameOfReferenceType=function(e){h=e},this.setPoseTarget=function(e){void 0!==e&&(l=e)},this.getCamera=function(e){var t="stage"===h?1.6:0;if(null===c)return e.position.set(0,t,0),e;if(c.depthNear=e.near,c.depthFar=e.far,c.getFrameData(u),"stage"===h){var n=c.stageParameters;n?d.fromArray(n.sittingToStandingTransform):d.makeTranslation(0,t,0)}var r=u.pose,i=null!==l?l:e;if(i.matrix.copy(d),i.matrix.decompose(i.position,i.quaternion,i.scale),null!==r.orientation&&(g.fromArray(r.orientation),i.quaternion.multiply(g)),null!==r.position&&(g.setFromRotationMatrix(d),v.fromArray(r.position),v.applyQuaternion(g),i.position.add(v)),i.updateMatrixWorld(),!1===c.isPresenting)return e;y.near=e.near,b.near=e.near,y.far=e.far,b.far=e.far,y.matrixWorldInverse.fromArray(u.leftViewMatrix),b.matrixWorldInverse.fromArray(u.rightViewMatrix),p.getInverse(d),"stage"===h&&(y.matrixWorldInverse.multiply(p),b.matrixWorldInverse.multiply(p));var o=i.parent;null!==o&&(m.getInverse(o.matrixWorld),y.matrixWorldInverse.multiply(m),b.matrixWorldInverse.multiply(m)),y.matrixWorld.getInverse(y.matrixWorldInverse),b.matrixWorld.getInverse(b.matrixWorldInverse),y.projectionMatrix.fromArray(u.leftProjectionMatrix),b.projectionMatrix.fromArray(u.rightProjectionMatrix),ga(x,y,b);var a=c.getLayers();if(a.length){var s=a[0];null!==s.leftBounds&&4===s.leftBounds.length&&y.bounds.fromArray(s.leftBounds),null!==s.rightBounds&&4===s.rightBounds.length&&b.bounds.fromArray(s.rightBounds)}return function(){for(var e=0;e<f.length;e++){var t=f[e],n=M(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(d),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;_[e]!==n.buttons[i].pressed&&(_[e]=n.buttons[i].pressed,!0===_[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),x},this.getStandingMatrix=function(){return d},this.isPresenting=w;var T=new An;this.setAnimationLoop=function(e){T.setAnimationLoop(e)},this.submitFrame=function(){w()&&c.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",e)}}function ya(t){var n=t.context,r=null,d=null,i=1,p=null,o="stage",h=null,m=[],g=[];function a(){return null!==d&&null!==p}var s=new $o;s.layers.enable(1),s.viewport=new dn;var c=new $o;c.layers.enable(2),c.viewport=new dn;var v=new Jo([s,c]);function u(e){var t=m[g.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function l(){t.setFramebuffer(null),b.stop()}function f(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}v.layers.enable(1),v.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=m[e];return void 0===t&&((t=new Xo).matrixAutoUpdate=!1,t.visible=!1,m[e]=t),t},this.getDevice=function(){return r},this.setDevice=function(e){void 0!==e&&(r=e),e instanceof XRDevice&&n.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){i=e},this.setFrameOfReferenceType=function(e){o=e},this.setSession=function(e){null!==(d=e)&&(d.addEventListener("select",u),d.addEventListener("selectstart",u),d.addEventListener("selectend",u),d.addEventListener("end",l),d.baseLayer=new XRWebGLLayer(d,n,{framebufferScaleFactor:i}),d.requestFrameOfReference(o).then(function(e){p=e,t.setFramebuffer(d.baseLayer.framebuffer),b.setContext(d),b.start()}),g=d.getInputSources(),d.addEventListener("inputsourceschange",function(){g=d.getInputSources(),console.log(g);for(var e=0;e<m.length;e++){var t=m[e];t.userData.inputSource=g[e]}}))},this.getCamera=function(e){if(a()){var t=e.parent,n=v.cameras;f(v,t);for(var r=0;r<n.length;r++)f(n[r],t);e.matrixWorld.copy(v.matrixWorld);for(var i=e.children,r=0,o=i.length;r<o;r++)i[r].updateMatrixWorld(!0);return ga(v,s,c),v}return e},this.isPresenting=a;var y=null,b=new An;b.setAnimationLoop(function(e,t){if(null!==(h=t.getDevicePose(p)))for(var n=d.baseLayer,r=t.views,i=0;i<r.length;i++){var o=r[i],a=n.getViewport(o),s=h.getViewMatrix(o),c=v.cameras[i];c.matrix.fromArray(s).getInverse(c.matrix),c.projectionMatrix.fromArray(o.projectionMatrix),c.viewport.set(a.x,a.y,a.width,a.height),0===i&&v.matrix.copy(c.matrix)}for(var i=0;i<m.length;i++){var u=m[i],l=g[i];if(l){var f=t.getInputPose(l,p);if(null!==f){"targetRay"in f?u.matrix.elements=f.targetRay.transformMatrix:"pointerMatrix"in f&&(u.matrix.elements=f.pointerMatrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.visible=!0;continue}}u.visible=!1}y&&y(e)}),this.setAnimationLoop=function(e){y=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function ba(e){console.log("THREE.WebGLRenderer","98");var r=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",p=null,q=null;this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Me,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var X,M,K,$,l,J,f,T,S,h,y,d,m,g,U,k,P,v,Z=this,b=!1,x=null,w=null,_=null,Q=-1,E={geometry:null,program:null,wireframe:!1},ee=null,C=null,A=new dn,O=new dn,I=null,te=0,R=r.width,ne=r.height,re=1,L=new dn(0,0,R,ne),N=new dn(0,0,R,ne),D=!1,j=new bn,ie=new xi,oe=!1,ae=!1,F=new Bt,se=new Ht;function V(){return null===w?re:1}try{var Y={alpha:n,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:u};if(r.addEventListener("webglcontextlost",G,!1),r.addEventListener("webglcontextrestored",W,!1),null===(X=t||r.getContext("webgl",Y)||r.getContext("experimental-webgl",Y)))throw null!==r.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===X.getShaderPrecisionFormat&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("THREE.WebGLRenderer: "+e.message)}function B(){M=new wi(X),(K=new bi(X,M,e)).isWebGL2||(M.get("WEBGL_depth_texture"),M.get("OES_texture_float"),M.get("OES_texture_half_float"),M.get("OES_texture_half_float_linear"),M.get("OES_standard_derivatives"),M.get("OES_element_index_uint"),M.get("ANGLE_instanced_arrays")),M.get("OES_texture_float_linear"),v=new qo(X,M,K),($=new Go(X,M,v,K)).scissor(O.copy(N).multiplyScalar(re)),$.viewport(A.copy(L).multiplyScalar(re)),l=new Ti(X),J=new Oo,f=new Wo(X,M,$,J,K,v,l),T=new On(X),S=new _i(X,T,l),h=new ki(S,l),U=new Ui(X),y=new Ao(Z,M,K),d=new No,m=new Yo,g=new vi(Z,$,h,s),k=new yi(X,M,l,K),P=new Mi(X,M,l,K),l.programs=y.programs,Z.context=X,Z.capabilities=K,Z.extensions=M,Z.properties=J,Z.renderLists=d,Z.state=$,Z.info=l}B();var z=null;"undefined"!=typeof navigator&&(z="xr"in navigator?new ya(Z):new va(Z)),this.vr=z;var H=new Ho(Z,h,K.maxTextureSize);function G(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function W(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1,B()}function ce(e){var t,n=e.target;n.removeEventListener("dispose",ce),ue(t=n),J.remove(t)}function ue(e){var t=J.get(e).program;(e.program=void 0)!==t&&y.releaseProgram(t)}this.shadowMap=H,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){var e=M.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=M.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function(e){void 0!==e&&(re=e,this.setSize(R,ne,!1))},this.getSize=function(){return{width:R,height:ne}},this.setSize=function(e,t,n){z.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(R=e,ne=t,r.width=e*re,r.height=t*re,!1!==n&&(r.style.width=e+"px",r.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:R*re,height:ne*re}},this.setDrawingBufferSize=function(e,t,n){R=e,ne=t,re=n,r.width=e*n,r.height=t*n,this.setViewport(0,0,e,t)},this.getCurrentViewport=function(){return A},this.setViewport=function(e,t,n,r){L.set(e,ne-t-r,n,r),$.viewport(A.copy(L).multiplyScalar(re))},this.setScissor=function(e,t,n,r){N.set(e,ne-t-r,n,r),$.scissor(O.copy(N).multiplyScalar(re))},this.setScissorTest=function(e){$.setScissorTest(D=e)},this.getClearColor=function(){return g.getClearColor()},this.setClearColor=function(){g.setClearColor.apply(g,arguments)},this.getClearAlpha=function(){return g.getClearAlpha()},this.setClearAlpha=function(){g.setClearAlpha.apply(g,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),X.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",G,!1),r.removeEventListener("webglcontextrestored",W,!1),d.dispose(),m.dispose(),J.dispose(),h.dispose(),z.dispose(),he.stop()},this.renderBufferImmediate=function(e,t){$.initAttributes();var n=J.get(e);e.hasPositions&&!n.position&&(n.position=X.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=X.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=X.createBuffer()),e.hasColors&&!n.color&&(n.color=X.createBuffer());var r=t.getAttributes();e.hasPositions&&(X.bindBuffer(34962,n.position),X.bufferData(34962,e.positionArray,35048),$.enableAttribute(r.position),X.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(X.bindBuffer(34962,n.normal),X.bufferData(34962,e.normalArray,35048),$.enableAttribute(r.normal),X.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(X.bindBuffer(34962,n.uv),X.bufferData(34962,e.uvArray,35048),$.enableAttribute(r.uv),X.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(X.bindBuffer(34962,n.color),X.bufferData(34962,e.colorArray,35048),$.enableAttribute(r.color),X.vertexAttribPointer(r.color,3,5126,!1,0,0)),$.disableUnusedAttributes(),X.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){var a=i.isMesh&&i.normalMatrix.determinant()<0;$.setMaterial(r,a);var s=ye(e,t,r,i),c=!1;E.geometry===n.id&&E.program===s.id&&E.wireframe===(!0===r.wireframe)||(E.geometry=n.id,E.program=s.id,E.wireframe=!0===r.wireframe,c=!0),i.morphTargetInfluences&&(U.update(i,n,r,s),c=!0);var u,l=n.index,f=n.attributes.position,d=1;!0===r.wireframe&&(l=S.getWireframeAttribute(n),d=2);var p=k;null!==l&&(u=T.get(l),(p=P).setIndex(u)),c&&(function(e,t,n){if(n&&n.isInstancedBufferGeometry&!K.isWebGL2&&null===M.get("ANGLE_instanced_arrays"))return console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");$.initAttributes();var r=n.attributes,i=t.getAttributes(),o=e.defaultAttributeValues;for(var a in i){var s=i[a];if(0<=s){var c=r[a];if(void 0!==c){var u=c.normalized,l=c.itemSize,f=T.get(c);if(void 0===f)continue;var d=f.buffer,p=f.type,h=f.bytesPerElement;if(c.isInterleavedBufferAttribute){var m=c.data,g=m.stride,v=c.offset;m&&m.isInstancedInterleavedBuffer?($.enableAttributeAndDivisor(s,m.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=m.meshPerAttribute*m.count)):$.enableAttribute(s),X.bindBuffer(34962,d),X.vertexAttribPointer(s,l,p,u,g*h,v*h)}else c.isInstancedBufferAttribute?($.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):$.enableAttribute(s),X.bindBuffer(34962,d),X.vertexAttribPointer(s,l,p,u,0,0)}else if(void 0!==o){var y=o[a];if(void 0!==y)switch(y.length){case 2:X.vertexAttrib2fv(s,y);break;case 3:X.vertexAttrib3fv(s,y);break;case 4:X.vertexAttrib4fv(s,y);break;default:X.vertexAttrib1fv(s,y)}}}}$.disableUnusedAttributes()}(r,s,n),null!==l&&X.bindBuffer(34963,u.buffer));var h=1/0;null!==l?h=l.count:void 0!==f&&(h=f.count);var m=n.drawRange.start*d,g=n.drawRange.count*d,v=null!==o?o.start*d:0,y=null!==o?o.count*d:1/0,b=Math.max(m,v),x=Math.min(h,m+g,v+y)-1,w=Math.max(0,x-b+1);if(0!==w){if(i.isMesh)if(!0===r.wireframe)$.setLineWidth(r.wireframeLinewidth*V()),p.setMode(1);else switch(i.drawMode){case Pt:p.setMode(4);break;case 1:p.setMode(5);break;case 2:p.setMode(6)}else if(i.isLine){var _=r.linewidth;void 0===_&&(_=1),$.setLineWidth(_*V()),i.isLineSegments?p.setMode(1):i.isLineLoop?p.setMode(2):p.setMode(3)}else i.isPoints?p.setMode(0):i.isSprite&&p.setMode(4);n&&n.isInstancedBufferGeometry?0<n.maxInstancedCount&&p.renderInstances(n,b,w):p.render(b,w)}},this.compile=function(n,e){(q=m.get(n,e)).init(),n.traverse(function(e){e.isLight&&(q.pushLight(e),e.castShadow&&q.pushShadow(e))}),q.setupLights(e),n.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var t=0;t<e.material.length;t++)ve(e.material[t],n.fog,e);else ve(e.material,n.fog,e)})};var le,fe,de,pe=null,he=new An;function me(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,c=a.geometry,u=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera)for(var f=(C=n).cameras,d=0,p=f.length;d<p;d++){var h=f[d];if(s.layers.test(h.layers)){if("viewport"in h)$.viewport(A.copy(h.viewport));else{var m=h.bounds,g=m.x*R,v=m.y*ne,y=m.z*R,b=m.w*ne;$.viewport(A.set(g,v,y,b).multiplyScalar(re))}q.setupLights(h),ge(s,t,h,c,u,l)}}else C=null,ge(s,t,n,c,u,l)}}function ge(e,t,n,r,i,o){if(e.onBeforeRender(Z,t,n,r,i,o),q=m.get(t,C||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){$.setMaterial(i);var a=ye(n,t.fog,i,e);E.geometry=null,E.program=null,E.wireframe=!1,s=a,e.render(function(e){Z.renderBufferImmediate(e,s)})}else Z.renderBufferDirect(n,t.fog,r,i,e,o);var s;e.onAfterRender(Z,t,n,r,i,o),q=m.get(t,C||n)}function ve(e,t,n){var r=J.get(e),i=q.state.lights,o=q.state.shadowsArray,a=r.lightsHash,s=i.state.hash,c=y.getParameters(e,i.state,o,t,ie.numPlanes,ie.numIntersection,n),u=y.getProgramCode(e,c),l=r.program,f=!0;if(void 0===l)e.addEventListener("dispose",ce);else if(l.code!==u)ue(e);else if(a.stateID!==s.stateID||a.directionalLength!==s.directionalLength||a.pointLength!==s.pointLength||a.spotLength!==s.spotLength||a.rectAreaLength!==s.rectAreaLength||a.hemiLength!==s.hemiLength||a.shadowsLength!==s.shadowsLength)a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,f=!1;else{if(void 0!==c.shaderID)return;f=!1}if(f){if(c.shaderID){var d=Cn[c.shaderID];r.shader={name:e.type,uniforms:Tn.clone(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,Z),u=y.getProgramCode(e,c),l=y.acquireProgram(e,r.shader,c,u),r.program=l,e.program=l}var p=l.getAttributes();if(e.morphTargets)for(var h=e.numSupportedMorphTargets=0;h<Z.maxMorphTargets;h++)0<=p["morphTarget"+h]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(var h=e.numSupportedMorphNormals=0;h<Z.maxMorphNormals;h++)0<=p["morphNormal"+h]&&e.numSupportedMorphNormals++;var m=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=ie.numPlanes,r.numIntersection=ie.numIntersection,m.clippingPlanes=ie.uniform),r.fog=t,void 0===a&&(r.lightsHash=a={}),a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,e.lights&&(m.ambientLightColor.value=i.state.ambient,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),v=xo.seqWithValue(g.seq,m);r.uniformsList=v}function ye(e,t,n,r){te=0;var i=J.get(n),o=q.state.lights,a=i.lightsHash,s=o.state.hash;if(oe&&(ae||e!==ee)){var c=e===ee&&n.id===Q;ie.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,c)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:(!n.lights||a.stateID===s.stateID&&a.directionalLength===s.directionalLength&&a.pointLength===s.pointLength&&a.spotLength===s.spotLength&&a.rectAreaLength===s.rectAreaLength&&a.hemiLength===s.hemiLength&&a.shadowsLength===s.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===ie.numPlanes&&i.numIntersection===ie.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(ve(n,t,r),n.needsUpdate=!1);var u,l,f,d,p,h,m,g,v,y,b,x,w,_,M,T,S,U,k,P,E,C,A,O,I,R,L=!1,N=!1,D=!1,j=i.program,F=j.getUniforms(),V=i.shader.uniforms;if($.useProgram(j.program)&&(D=N=L=!0),n.id!==Q&&(Q=n.id,N=!0),L||ee!==e){if(F.setValue(X,"projectionMatrix",e.projectionMatrix),K.logarithmicDepthBuffer&&F.setValue(X,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),ee!==e&&(ee=e,D=N=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var Y=F.map.cameraPosition;void 0!==Y&&Y.setValue(X,se.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&F.setValue(X,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){F.setOptional(X,r,"bindMatrix"),F.setOptional(X,r,"bindMatrixInverse");var B=r.skeleton;if(B){var z=B.bones;if(K.floatVertexTextures){if(void 0===B.boneTexture){var H=Math.sqrt(4*z.length);H=Vt.ceilPowerOfTwo(H),H=Math.max(H,4);var G=new Float32Array(H*H*4);G.set(B.boneMatrices);var W=new mn(G,H,H,qe,Fe);W.needsUpdate=!0,B.boneMatrices=G,B.boneTexture=W,B.boneTextureSize=H}F.setValue(X,"boneTexture",B.boneTexture),F.setValue(X,"boneTextureSize",B.boneTextureSize)}else F.setOptional(X,B,"boneMatrices")}}return N&&(F.setValue(X,"toneMappingExposure",Z.toneMappingExposure),F.setValue(X,"toneMappingWhitePoint",Z.toneMappingWhitePoint),n.lights&&(P=D,(k=V).ambientLightColor.needsUpdate=P,k.directionalLights.needsUpdate=P,k.pointLights.needsUpdate=P,k.spotLights.needsUpdate=P,k.rectAreaLights.needsUpdate=P,k.hemisphereLights.needsUpdate=P),t&&n.fog&&(U=t,(S=V).fogColor.value=U.color,U.isFog?(S.fogNear.value=U.near,S.fogFar.value=U.far):U.isFogExp2&&(S.fogDensity.value=U.density)),n.isMeshBasicMaterial?be(V,n):n.isMeshLambertMaterial?(be(V,n),M=V,(T=n).emissiveMap&&(M.emissiveMap.value=T.emissiveMap)):n.isMeshPhongMaterial?(be(V,n),n.isMeshToonMaterial?(xe(w=V,_=n),_.gradientMap&&(w.gradientMap.value=_.gradientMap)):xe(V,n)):n.isMeshStandardMaterial?(be(V,n),n.isMeshPhysicalMaterial?(we(b=V,x=n),b.reflectivity.value=x.reflectivity,b.clearCoat.value=x.clearCoat,b.clearCoatRoughness.value=x.clearCoatRoughness):we(V,n)):n.isMeshMatcapMaterial?(be(V,n),I=V,(R=n).matcap&&(I.matcap.value=R.matcap),R.bumpMap&&(I.bumpMap.value=R.bumpMap,I.bumpScale.value=R.bumpScale,R.side===_e&&(I.bumpScale.value*=-1)),R.normalMap&&(I.normalMap.value=R.normalMap,I.normalScale.value.copy(R.normalScale),R.side===_e&&I.normalScale.value.negate()),R.displacementMap&&(I.displacementMap.value=R.displacementMap,I.displacementScale.value=R.displacementScale,I.displacementBias.value=R.displacementBias)):n.isMeshDepthMaterial?(be(V,n),v=V,(y=n).displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias)):n.isMeshDistanceMaterial?(be(V,n),A=V,(O=n).displacementMap&&(A.displacementMap.value=O.displacementMap,A.displacementScale.value=O.displacementScale,A.displacementBias.value=O.displacementBias),A.referencePosition.value.copy(O.referencePosition),A.nearDistance.value=O.nearDistance,A.farDistance.value=O.farDistance):n.isMeshNormalMaterial?(be(V,n),E=V,(C=n).bumpMap&&(E.bumpMap.value=C.bumpMap,E.bumpScale.value=C.bumpScale,C.side===_e&&(E.bumpScale.value*=-1)),C.normalMap&&(E.normalMap.value=C.normalMap,E.normalScale.value.copy(C.normalScale),C.side===_e&&E.normalScale.value.negate()),C.displacementMap&&(E.displacementMap.value=C.displacementMap,E.displacementScale.value=C.displacementScale,E.displacementBias.value=C.displacementBias)):n.isLineBasicMaterial?(g=n,(m=V).diffuse.value=g.color,m.opacity.value=g.opacity,n.isLineDashedMaterial&&(h=n,(p=V).dashSize.value=h.dashSize,p.totalSize.value=h.dashSize+h.gapSize,p.scale.value=h.scale)):n.isPointsMaterial?(d=n,(f=V).diffuse.value=d.color,f.opacity.value=d.opacity,f.size.value=d.size*re,f.scale.value=.5*ne,f.map.value=d.map,null!==d.map&&(!0===d.map.matrixAutoUpdate&&d.map.updateMatrix(),f.uvTransform.value.copy(d.map.matrix))):n.isSpriteMaterial?(l=n,(u=V).diffuse.value=l.color,u.opacity.value=l.opacity,u.rotation.value=l.rotation,u.map.value=l.map,null!==l.map&&(!0===l.map.matrixAutoUpdate&&l.map.updateMatrix(),u.uvTransform.value.copy(l.map.matrix))):n.isShadowMaterial&&(V.color.value=n.color,V.opacity.value=n.opacity),void 0!==V.ltc_1&&(V.ltc_1.value=En.LTC_1),void 0!==V.ltc_2&&(V.ltc_2.value=En.LTC_2),xo.upload(X,i.uniformsList,V,Z)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(xo.upload(X,i.uniformsList,V,Z),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&F.setValue(X,"center",r.center),F.setValue(X,"modelViewMatrix",r.modelViewMatrix),F.setValue(X,"normalMatrix",r.normalMatrix),F.setValue(X,"modelMatrix",r.matrixWorld),j}function be(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=J.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function xe(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===_e&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===_e&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function we(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===_e&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===_e&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}he.setAnimationLoop(function(e){z.isPresenting()||pe&&pe(e)}),"undefined"!=typeof window&&he.setContext(window),this.setAnimationLoop=function(e){pe=e,z.setAnimationLoop(e),he.start()},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!b){E.geometry=null,E.program=null,E.wireframe=!1,Q=-1,!(ee=null)===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),z.enabled&&(t=z.getCamera(t)),(q=m.get(e,t)).init(),e.onBeforeRender(Z,e,t,n),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),j.setFromMatrix(F),ae=this.localClippingEnabled,oe=ie.init(this.clippingPlanes,ae,t),(p=d.get(e,t)).init(),function e(t,n,r){if(!1!==t.visible){var i=t.layers.test(n.layers);if(i)if(t.isLight)q.pushLight(t),t.castShadow&&q.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||j.intersectsSprite(t)){r&&se.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);var o=h.update(t),a=t.material;p.push(t,o,a,se.z,null)}}else if(t.isImmediateRenderObject)r&&se.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F),p.push(t,null,t.material,se.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||j.intersectsObject(t))){r&&se.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);var o=h.update(t),a=t.material;if(Array.isArray(a))for(var s=o.groups,c=0,u=s.length;c<u;c++){var l=s[c],f=a[l.materialIndex];f&&f.visible&&p.push(t,o,f,se.z,l)}else a.visible&&p.push(t,o,a,se.z,null)}for(var d=t.children,c=0,u=d.length;c<u;c++)e(d[c],n,r)}}(e,t,Z.sortObjects),!0===Z.sortObjects&&p.sort(),oe&&ie.beginShadows();var i=q.state.shadowsArray;H.render(i,e,t),q.setupLights(t),oe&&ie.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),g.render(p,e,t,r);var o=p.opaque,a=p.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&me(o,e,t,s),a.length&&me(a,e,t,s)}else o.length&&me(o,e,t),a.length&&me(a,e,t);n&&f.updateRenderTargetMipmap(n),$.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),$.setPolygonOffset(!1),e.onAfterRender(Z,e,t),z.enabled&&z.submitFrame(),q=p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=te;return e>=K.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+K.maxTextures),te+=1,e},this.setTexture2D=(le=!1,function(e,t){e&&e.isWebGLRenderTarget&&(le||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),le=!0),e=e.texture),f.setTexture2D(e,t)}),this.setTexture3D=function(e,t){f.setTexture3D(e,t)},this.setTexture=(fe=!1,function(e,t){fe||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),fe=!0),f.setTexture2D(e,t)}),this.setTextureCube=(de=!1,function(e,t){e&&e.isWebGLRenderTargetCube&&(de||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),de=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?f.setTextureCube(e,t):f.setTextureCubeDynamic(e,t)}),this.setFramebuffer=function(e){x=e},this.getRenderTarget=function(){return w},this.setRenderTarget=function(e){(w=e)&&void 0===J.get(e).__webglFramebuffer&&f.setupRenderTarget(e);var t=x,n=!1;if(e){var r=J.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=r,A.copy(e.viewport),O.copy(e.scissor),I=e.scissorTest}else A.copy(L).multiplyScalar(re),O.copy(N).multiplyScalar(re),I=D;if(_!==t&&(X.bindFramebuffer(36160,t),_=t),$.viewport(A),$.scissor(O),$.setScissorTest(I),n){var i=J.get(e.texture);X.framebufferTexture2D(36160,36064,34069+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(e&&e.isWebGLRenderTarget){var a=J.get(e).__webglFramebuffer;if(a){var s=!1;a!==_&&(X.bindFramebuffer(36160,a),s=!0);try{var c=e.texture,u=c.format,l=c.type;if(u!==qe&&v.convert(u)!==X.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===Ie||v.convert(l)===X.getParameter(35738)||l===Fe&&(K.isWebGL2||M.get("OES_texture_float")||M.get("WEBGL_color_buffer_float"))||l===Ve&&(K.isWebGL2?M.get("EXT_color_buffer_float"):M.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===X.checkFramebufferStatus(36160)?0<=t&&t<=e.width-r&&0<=n&&n<=e.height-i&&X.readPixels(t,n,r,i,v.convert(u),v.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&X.bindFramebuffer(36160,_)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=v.convert(t.format);this.setTexture2D(t,0),X.copyTexImage2D(3553,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=v.convert(n.format),s=v.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?X.texSubImage2D(3553,r||0,e.x,e.y,i,o,a,s,t.image.data):X.texSubImage2D(3553,r||0,e.x,e.y,a,s,t.image)}}function xa(e,t){this.name="",this.color=new Un(e),this.density=void 0!==t?t:25e-5}function wa(e,t,n){this.name="",this.color=new Un(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function _a(){tr.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ma(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ta(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Sa(e){fi.call(this),this.type="SpriteMaterial",this.color=new Un(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function Ua(e){if(tr.call(this),this.type="Sprite",void 0===Zo){Zo=new Rr;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Ma(t,5);Zo.setIndex([0,1,2,0,2,3]),Zo.addAttribute("position",new Ta(n,3,0,!1)),Zo.addAttribute("uv",new Ta(n,2,3,!1))}this.geometry=Zo,this.material=void 0!==e?e:new Sa,this.center=new Yt(.5,.5)}function ka(){tr.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Pa(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Bt)}}function Ea(){tr.call(this),this.type="Bone"}function Ca(e,t){gi.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Bt,this.bindMatrixInverse=new Bt;var n=this.initBones(),r=new Pa(n);this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function Aa(e){fi.call(this),this.type="LineBasicMaterial",this.color=new Un(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Oa(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),tr.call(this),this.type="Line",this.geometry=void 0!==e?e:new Rr,this.material=void 0!==t?t:new Aa({color:16777215*Math.random()})}function Ia(e,t){Oa.call(this,e,t),this.type="LineSegments"}function Ra(e,t){Oa.call(this,e,t),this.type="LineLoop"}function La(e){fi.call(this),this.type="PointsMaterial",this.color=new Un(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Na(e,t){tr.call(this),this.type="Points",this.geometry=void 0!==e?e:new Rr,this.material=void 0!==t?t:new La({color:16777215*Math.random()})}function Da(e,t,n,r,i,o,a,s,c){fn.call(this,e,t,n,r,i,o,a,s,c),this.generateMipmaps=!1}function ja(e,t,n,r,i,o,a,s,c,u,l,f){fn.call(this,null,o,a,s,c,u,r,i,l,f),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Fa(e,t,n,r,i,o,a,s,c){fn.call(this,e,t,n,r,i,o,a,s,c),this.needsUpdate=!0}function Va(e,t,n,r,i,o,a,s,c,u){if((u=void 0!==u?u:Je)!==Je&&u!==Ze)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===Je&&(n=Ne),void 0===n&&u===Ze&&(n=He),fn.call(this,null,r,i,o,a,s,u,n,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:ke,this.minFilter=void 0!==s?s:ke,this.flipY=!1,this.generateMipmaps=!1}function Ya(e){Rr.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,s,c,u,l,f=[],d=[0,0],p={},h=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var g=m[t];for(n=0;n<3;n++)s=g[h[n]],c=g[h[(n+1)%3]],d[0]=Math.min(s,c),d[1]=Math.max(s,c),u=d[0]+","+d[1],void 0===p[u]&&(p[u]={index1:d[0],index2:d[1]})}for(u in p)a=p[u],l=e.vertices[a.index1],f.push(l.x,l.y,l.z),l=e.vertices[a.index2],f.push(l.x,l.y,l.z)}else if(e&&e.isBufferGeometry){var v,y,b,x,w,_,M,T;if(l=new Ht,null!==e.index){for(v=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(x=b[i],w=x.start,_=x.count,r=(t=w)+_;t<r;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),c=y.getX(t+(n+1)%3),d[0]=Math.min(s,c),d[1]=Math.max(s,c),u=d[0]+","+d[1],void 0===p[u]&&(p[u]={index1:d[0],index2:d[1]});for(u in p)a=p[u],l.fromBufferAttribute(v,a.index1),f.push(l.x,l.y,l.z),l.fromBufferAttribute(v,a.index2),f.push(l.x,l.y,l.z)}else for(v=e.attributes.position,t=0,r=v.count/3;t<r;t++)for(n=0;n<3;n++)M=3*t+n,l.fromBufferAttribute(v,M),f.push(l.x,l.y,l.z),T=3*t+(n+1)%3,l.fromBufferAttribute(v,T),f.push(l.x,l.y,l.z)}this.addAttribute("position",new br(f,3))}function Ba(e,t,n){lr.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new za(e,t,n)),this.mergeVertices()}function za(e,t,n){Rr.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],s=[],c=[],u=new Ht,l=new Ht,f=new Ht,d=new Ht,p=new Ht;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var h=t+1;for(r=0;r<=n;r++){var m=r/n;for(i=0;i<=t;i++){var g=i/t;e(g,m,l),a.push(l.x,l.y,l.z),0<=g-1e-5?(e(g-1e-5,m,f),d.subVectors(l,f)):(e(g+1e-5,m,f),d.subVectors(f,l)),0<=m-1e-5?(e(g,m-1e-5,f),p.subVectors(l,f)):(e(g,m+1e-5,f),p.subVectors(f,l)),u.crossVectors(d,p).normalize(),s.push(u.x,u.y,u.z),c.push(g,m)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var v=r*h+i,y=r*h+i+1,b=(r+1)*h+i+1,x=(r+1)*h+i;o.push(v,y,x),o.push(y,b,x)}this.setIndex(o),this.addAttribute("position",new br(a,3)),this.addAttribute("normal",new br(s,3)),this.addAttribute("uv",new br(c,2))}function Ha(e,t,n,r){lr.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Ga(e,t,n,r)),this.mergeVertices()}function Ga(r,o,e,t){Rr.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:r,indices:o,radius:e,detail:t},e=e||1;var l=[],f=[];function a(e,t,n,r){var i,o,a=Math.pow(2,r),s=[];for(i=0;i<=a;i++){s[i]=[];var c=e.clone().lerp(n,i/a),u=t.clone().lerp(n,i/a),l=a-i;for(o=0;o<=l;o++)s[i][o]=0===o&&i===a?c:c.clone().lerp(u,o/l)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var f=Math.floor(o/2);o%2==0?(d(s[i][f+1]),d(s[i+1][f]),d(s[i][f])):(d(s[i][f+1]),d(s[i+1][f+1]),d(s[i+1][f]))}}function d(e){l.push(e.x,e.y,e.z)}function s(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function p(e,t,n,r){r<0&&1===e.x&&(f[t]=e.x-1),0===n.x&&0===n.z&&(f[t]=r/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}!function(e){for(var t=new Ht,n=new Ht,r=new Ht,i=0;i<o.length;i+=3)s(o[i+0],t),s(o[i+1],n),s(o[i+2],r),a(t,n,r,e)}(t=t||0),function(e){for(var t=new Ht,n=0;n<l.length;n+=3)t.x=l[n+0],t.y=l[n+1],t.z=l[n+2],t.normalize().multiplyScalar(e),l[n+0]=t.x,l[n+1]=t.y,l[n+2]=t.z}(e),function(){for(var e=new Ht,t=0;t<l.length;t+=3){e.x=l[t+0],e.y=l[t+1],e.z=l[t+2];var n=h(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);f.push(n,1-r)}var i;(function(){for(var e=new Ht,t=new Ht,n=new Ht,r=new Ht,i=new Yt,o=new Yt,a=new Yt,s=0,c=0;s<l.length;s+=9,c+=6){e.set(l[s+0],l[s+1],l[s+2]),t.set(l[s+3],l[s+4],l[s+5]),n.set(l[s+6],l[s+7],l[s+8]),i.set(f[c+0],f[c+1]),o.set(f[c+2],f[c+3]),a.set(f[c+4],f[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var u=h(r);p(i,c+0,e,u),p(o,c+2,t,u),p(a,c+4,n,u)}})(),function(){for(var e=0;e<f.length;e+=6){var t=f[e+0],n=f[e+2],r=f[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);.9<i&&o<.1&&(t<.2&&(f[e+0]+=1),n<.2&&(f[e+2]+=1),r<.2&&(f[e+4]+=1))}}()}(),this.addAttribute("position",new br(l,3)),this.addAttribute("normal",new br(l.slice(),3)),this.addAttribute("uv",new br(f,2)),0===t?this.computeVertexNormals():this.normalizeNormals()}function Wa(e,t){lr.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new qa(e,t)),this.mergeVertices()}function qa(e,t){Ga.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Xa(e,t){lr.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ka(e,t)),this.mergeVertices()}function Ka(e,t){Ga.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function $a(e,t){lr.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ja(e,t)),this.mergeVertices()}function Ja(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Ga.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Za(e,t){lr.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Qa(e,t)),this.mergeVertices()}function Qa(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Ga.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function es(e,t,n,r,i,o){lr.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new ts(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function ts(a,s,c,u,e){Rr.call(this),this.type="TubeBufferGeometry",this.parameters={path:a,tubularSegments:s,radius:c,radialSegments:u,closed:e},s=s||64,c=c||1,u=u||8,e=e||!1;var l=a.computeFrenetFrames(s,e);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var i,f,d=new Ht,p=new Ht,t=new Yt,h=new Ht,m=[],g=[],n=[],o=[];function r(e){h=a.getPointAt(e/s,h);var t=l.normals[e],n=l.binormals[e];for(f=0;f<=u;f++){var r=f/u*Math.PI*2,i=Math.sin(r),o=-Math.cos(r);p.x=o*t.x+i*n.x,p.y=o*t.y+i*n.y,p.z=o*t.z+i*n.z,p.normalize(),g.push(p.x,p.y,p.z),d.x=h.x+c*p.x,d.y=h.y+c*p.y,d.z=h.z+c*p.z,m.push(d.x,d.y,d.z)}}!function(){for(i=0;i<s;i++)r(i);r(!1===e?s:0),function(){for(i=0;i<=s;i++)for(f=0;f<=u;f++)t.x=i/s,t.y=f/u,n.push(t.x,t.y)}(),function(){for(f=1;f<=s;f++)for(i=1;i<=u;i++){var e=(u+1)*(f-1)+(i-1),t=(u+1)*f+(i-1),n=(u+1)*f+i,r=(u+1)*(f-1)+i;o.push(e,t,r),o.push(t,n,r)}}()}(),this.setIndex(o),this.addAttribute("position",new br(m,3)),this.addAttribute("normal",new br(g,3)),this.addAttribute("uv",new br(n,2))}function ns(e,t,n,r,i,o,a){lr.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new rs(e,t,n,r,i,o)),this.mergeVertices()}function rs(e,t,n,r,i,o){Rr.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,c=[],u=[],l=[],f=[],d=new Ht,p=new Ht,h=new Ht,m=new Ht,g=new Ht,v=new Ht,y=new Ht;for(a=0;a<=n;++a){var b=a/n*i*Math.PI*2;for(k(b,i,o,e,h),k(b+.01,i,o,e,m),v.subVectors(m,h),y.addVectors(m,h),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=r;++s){var x=s/r*Math.PI*2,w=-t*Math.cos(x),_=t*Math.sin(x);d.x=h.x+(w*y.x+_*g.x),d.y=h.y+(w*y.y+_*g.y),d.z=h.z+(w*y.z+_*g.z),u.push(d.x,d.y,d.z),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),f.push(a/n),f.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var M=(r+1)*(s-1)+(a-1),T=(r+1)*s+(a-1),S=(r+1)*s+a,U=(r+1)*(s-1)+a;c.push(M,T,U),c.push(T,S,U)}function k(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,c=Math.cos(s);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(c),this.addAttribute("position",new br(u,3)),this.addAttribute("normal",new br(l,3)),this.addAttribute("uv",new br(f,2))}function is(e,t,n,r,i){lr.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new os(e,t,n,r,i)),this.mergeVertices()}function os(e,t,n,r,i){Rr.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],c=[],u=[],l=[],f=new Ht,d=new Ht,p=new Ht;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var h=a/r*i,m=o/n*Math.PI*2;d.x=(e+t*Math.cos(m))*Math.cos(h),d.y=(e+t*Math.cos(m))*Math.sin(h),d.z=t*Math.sin(m),c.push(d.x,d.y,d.z),f.x=e*Math.cos(h),f.y=e*Math.sin(h),p.subVectors(d,f).normalize(),u.push(p.x,p.y,p.z),l.push(a/r),l.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var g=(r+1)*o+a-1,v=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(g,v,b),s.push(v,y,b)}this.setIndex(s),this.addAttribute("position",new br(c,3)),this.addAttribute("normal",new br(u,3)),this.addAttribute("uv",new br(l,2))}xa.prototype.isFogExp2=!0,xa.prototype.clone=function(){return new xa(this.color,this.density)},xa.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},wa.prototype.isFog=!0,wa.prototype.clone=function(){return new wa(this.color,this.near,this.far)},wa.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},_a.prototype=Object.assign(Object.create(tr.prototype),{constructor:_a,copy:function(e,t){return tr.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=tr.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Object.defineProperty(Ma.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ma.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Ta.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ta.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),((Sa.prototype=Object.create(fi.prototype)).constructor=Sa).prototype.isSpriteMaterial=!0,Sa.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},Ua.prototype=Object.assign(Object.create(tr.prototype),{constructor:Ua,isSprite:!0,raycast:function(){var c=new Ht,u=new Ht,l=new Ht,a=new Yt,s=new Yt,f=new Bt,d=new Ht,p=new Ht,h=new Ht,m=new Yt,g=new Yt,v=new Yt;function y(e,t,n,r,i,o){a.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(s.x=o*a.x-i*a.y,s.y=i*a.x+o*a.y):s.copy(a),e.copy(t),e.x+=s.x,e.y+=s.y,e.applyMatrix4(f)}return function(e,t){u.setFromMatrixScale(this.matrixWorld),f.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),l.setFromMatrixPosition(this.modelViewMatrix);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;y(d.set(-.5,-.5,0),l,o,u,n,r),y(p.set(.5,-.5,0),l,o,u,n,r),y(h.set(.5,.5,0),l,o,u,n,r),m.set(0,0),g.set(1,0),v.set(1,1);var a=e.ray.intersectTriangle(d,p,h,!1,c);if(null!==a||(y(p.set(-.5,.5,0),l,o,u,n,r),g.set(0,1),null!==(a=e.ray.intersectTriangle(d,h,p,!1,c)))){var s=e.ray.origin.distanceTo(c);s<e.near||s>e.far||t.push({distance:s,point:c.clone(),uv:hi.getUV(c,d,p,h,m,g,v,new Yt),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return tr.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),ka.prototype=Object.assign(Object.create(tr.prototype),{constructor:ka,copy:function(e){tr.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:(pa=new Ht,function(e,t){pa.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(pa);this.getObjectForDistance(n).raycast(e,t)}),update:(fa=new Ht,da=new Ht,function(e){var t=this.levels;if(1<t.length){fa.setFromMatrixPosition(e.matrixWorld),da.setFromMatrixPosition(this.matrixWorld);var n=fa.distanceTo(da);t[0].object.visible=!0;for(var r=1,i=t.length;r<i&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(;r<i;r++)t[r].object.visible=!1}}),toJSON:function(e){var t=tr.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Object.assign(Pa.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new Bt;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(ua=new Bt,la=new Bt,function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:la;ua.multiplyMatrices(a,t[i]),ua.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new Pa(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),Ea.prototype=Object.assign(Object.create(tr.prototype),{constructor:Ea,isBone:!0}),Ca.prototype=Object.assign(Object.create(gi.prototype),{constructor:Ca,isSkinnedMesh:!0,initBones:function(){var e,t,n,r,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,r=this.geometry.bones.length;n<r;n++)t=this.geometry.bones[n],e=new Ea,i.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,r=this.geometry.bones.length;n<r;n++)-1!==(t=this.geometry.bones[n]).parent&&null!==t.parent&&void 0!==i[t.parent]?i[t.parent].add(i[n]):this.add(i[n])}return this.updateMatrixWorld(!0),i},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];(e=1/n.manhattanLength())!=1/0?n.multiplyScalar(e):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new dn,i=this.geometry.attributes.skinWeight;for(t=0;t<i.count;t++)r.x=i.getX(t),r.y=i.getY(t),r.z=i.getZ(t),r.w=i.getW(t),(e=1/r.manhattanLength())!=1/0?r.multiplyScalar(e):r.set(1,0,0,0),i.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(e){gi.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),((Aa.prototype=Object.create(fi.prototype)).constructor=Aa).prototype.isLineBasicMaterial=!0,Aa.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Oa.prototype=Object.assign(Object.create(tr.prototype),{constructor:Oa,isLine:!0,computeLineDistances:(sa=new Ht,ca=new Ht,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)sa.fromBufferAttribute(t,r-1),ca.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=sa.distanceTo(ca);e.addAttribute("lineDistance",new br(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices,n=e.lineDistances;n[0]=0;for(var r=1,i=o.length;r<i;r++)n[r]=n[r-1],n[r]+=o[r-1].distanceTo(o[r])}return this}),raycast:(ia=new Bt,oa=new pi,aa=new vn,function(e,t){var n=e.linePrecision,r=this.geometry,i=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),aa.copy(r.boundingSphere),aa.applyMatrix4(i),aa.radius+=n,!1!==e.ray.intersectsSphere(aa)){ia.getInverse(i),oa.copy(e.ray).applyMatrix4(ia);var o=n/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new Ht,c=new Ht,u=new Ht,l=new Ht,f=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var d=r.index,p=r.attributes,h=p.position.array;if(null!==d)for(var m=d.array,g=0,v=m.length-1;g<v;g+=f){var y=m[g],b=m[g+1];s.fromArray(h,3*y),c.fromArray(h,3*b);var x=oa.distanceSqToSegment(s,c,l,u);if(!(a<x)){l.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(l);w<e.near||w>e.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else for(var g=0,v=h.length/3-1;g<v;g+=f){s.fromArray(h,3*g),c.fromArray(h,3*g+3);var x=oa.distanceSqToSegment(s,c,l,u);if(!(a<x)){l.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(l);w<e.near||w>e.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}else if(r.isGeometry)for(var _=r.vertices,M=_.length,g=0;g<M-1;g+=f){var x=oa.distanceSqToSegment(_[g],_[g+1],l,u);if(!(a<x)){l.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(l);w<e.near||w>e.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}}),copy:function(e){return tr.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Ia.prototype=Object.assign(Object.create(Oa.prototype),{constructor:Ia,isLineSegments:!0,computeLineDistances:(na=new Ht,ra=new Ht,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)na.fromBufferAttribute(t,r),ra.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+na.distanceTo(ra);e.addAttribute("lineDistance",new br(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var o=e.vertices,n=e.lineDistances,r=0,i=o.length;r<i;r+=2)na.copy(o[r]),ra.copy(o[r+1]),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+na.distanceTo(ra);return this})}),Ra.prototype=Object.assign(Object.create(Oa.prototype),{constructor:Ra,isLineLoop:!0}),((La.prototype=Object.create(fi.prototype)).constructor=La).prototype.isPointsMaterial=!0,La.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},Na.prototype=Object.assign(Object.create(tr.prototype),{constructor:Na,isPoints:!0,raycast:(Qo=new Bt,ea=new pi,ta=new vn,function(i,o){var a=this,e=this.geometry,s=this.matrixWorld,t=i.params.Points.threshold;if(null===e.boundingSphere&&e.computeBoundingSphere(),ta.copy(e.boundingSphere),ta.applyMatrix4(s),ta.radius+=t,!1!==i.ray.intersectsSphere(ta)){Qo.getInverse(s),ea.copy(i.ray).applyMatrix4(Qo);var n=t/((this.scale.x+this.scale.y+this.scale.z)/3),c=n*n,r=new Ht,u=new Ht;if(e.isBufferGeometry){var l=e.index,f=e.attributes,d=f.position.array;if(null!==l)for(var p=l.array,h=0,m=p.length;h<m;h++){var g=p[h];r.fromArray(d,3*g),b(r,g)}else for(var h=0,v=d.length/3;h<v;h++)r.fromArray(d,3*h),b(r,h)}else for(var y=e.vertices,h=0,v=y.length;h<v;h++)b(y[h],h)}function b(e,t){var n=ea.distanceSqToPoint(e);if(n<c){ea.closestPointToPoint(e,u),u.applyMatrix4(s);var r=i.ray.origin.distanceTo(u);if(r<i.near||r>i.far)return;o.push({distance:r,distanceToRay:Math.sqrt(n),point:u.clone(),index:t,face:null,object:a})}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Da.prototype=Object.assign(Object.create(fn.prototype),{constructor:Da,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),((ja.prototype=Object.create(fn.prototype)).constructor=ja).prototype.isCompressedTexture=!0,((Fa.prototype=Object.create(fn.prototype)).constructor=Fa).prototype.isCanvasTexture=!0,((Va.prototype=Object.create(fn.prototype)).constructor=Va).prototype.isDepthTexture=!0,(Ya.prototype=Object.create(Rr.prototype)).constructor=Ya,(Ba.prototype=Object.create(lr.prototype)).constructor=Ba,(za.prototype=Object.create(Rr.prototype)).constructor=za,(Ha.prototype=Object.create(lr.prototype)).constructor=Ha,(Ga.prototype=Object.create(Rr.prototype)).constructor=Ga,(Wa.prototype=Object.create(lr.prototype)).constructor=Wa,(qa.prototype=Object.create(Ga.prototype)).constructor=qa,(Xa.prototype=Object.create(lr.prototype)).constructor=Xa,(Ka.prototype=Object.create(Ga.prototype)).constructor=Ka,($a.prototype=Object.create(lr.prototype)).constructor=$a,(Ja.prototype=Object.create(Ga.prototype)).constructor=Ja,(Za.prototype=Object.create(lr.prototype)).constructor=Za,(Qa.prototype=Object.create(Ga.prototype)).constructor=Qa,(es.prototype=Object.create(lr.prototype)).constructor=es,(ts.prototype=Object.create(Rr.prototype)).constructor=ts,(ns.prototype=Object.create(lr.prototype)).constructor=ns,(rs.prototype=Object.create(Rr.prototype)).constructor=rs,(is.prototype=Object.create(lr.prototype)).constructor=is,(os.prototype=Object.create(Rr.prototype)).constructor=os;var as={triangulate:function(e,t,n){n=n||2;var r,i,o,a,s,c,u,l=t&&t.length,f=l?t[0]*n:e.length,d=ss(e,0,f,n,!0),p=[];if(!d)return p;if(l&&(d=function(e,t,n,r){var i,o,a,s,c,u=[];for(i=0,o=t.length;i<o;i++)a=t[i]*r,s=i<o-1?t[i+1]*r:e.length,(c=ss(e,a,s,r,!1))===c.next&&(c.steiner=!0),u.push(vs(c));for(u.sort(hs),i=0;i<u.length;i++)ms(u[i],n),n=cs(n,n.next);return n}(e,t,d,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var h=n;h<f;h+=n)s=e[h],c=e[h+1],s<r&&(r=s),c<i&&(i=c),o<s&&(o=s),a<c&&(a=c);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return us(d,p,n,r,i,u),p}};function ss(e,t,n,r,i){var o,a;if(i===0<function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r))for(o=t;o<n;o+=r)a=Ts(o,e[o],e[o+1],a);else for(o=n-r;t<=o;o-=r)a=Ts(o,e[o],e[o+1],a);return a&&xs(a,a.next)&&(Ss(a),a=a.next),a}function cs(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!xs(r,r.next)&&0!==bs(r.prev,r,r.next))r=r.next;else{if(Ss(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function us(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){for(var i=e;null===i.z&&(i.z=gs(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,(i=i.next)!==e;);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,c,u=1;do{for(n=e,o=e=null,a=0;n;){for(a++,r=n,t=s=0;t<u&&(s++,r=r.nextZ);t++);for(c=u;0<s||0<c&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(n=(i=n).nextZ,s--):(r=(i=r).nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(1<a)}(i)}(e,r,i,o);for(var s,c,u=e;e.prev!==e.next;)if(s=e.prev,c=e.next,o?fs(e,r,i,o):ls(e))t.push(s.i/n),t.push(e.i/n),t.push(c.i/n),Ss(e),e=c.next,u=c.next;else if((e=c)===u){a?1===a?us(e=ds(e,t,n),t,n,r,i,o,2):2===a&&ps(e,t,n,r,i,o):us(cs(e),t,n,r,i,o,1);break}}}function ls(e){var t=e.prev,n=e,r=e.next;if(0<=bs(t,n,r))return!1;for(var i=e.next.next;i!==e.prev;){if(ys(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&0<=bs(i.prev,i,i.next))return!1;i=i.next}return!0}function fs(e,t,n,r){var i=e.prev,o=e,a=e.next;if(0<=bs(i,o,a))return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=gs(s,c,t,n,r),d=gs(u,l,t,n,r),p=e.nextZ;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&ys(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&0<=bs(p.prev,p,p.next))return!1;p=p.nextZ}for(p=e.prevZ;p&&p.z>=f;){if(p!==e.prev&&p!==e.next&&ys(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&0<=bs(p.prev,p,p.next))return!1;p=p.prevZ}return!0}function ds(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!xs(i,o)&&ws(i,r,r.next,o)&&_s(i,o)&&_s(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Ss(r),Ss(r.next),r=e=o),r=r.next}while(r!==e);return r}function ps(e,t,n,r,i,o){var a,s,c=e;do{for(var u=c.next.next;u!==c.prev;){if(c.i!==u.i&&(s=u,(a=c).next.i!==s.i&&a.prev.i!==s.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&ws(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(a,s)&&_s(a,s)&&_s(s,a)&&function(e,t){for(var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),(n=n.next)!==e;);return r}(a,s))){var l=Ms(c,u);return c=cs(c,c.next),l=cs(l,l.next),us(c,t,n,r,i,o),void us(l,t,n,r,i,o)}u=u.next}c=c.next}while(c!==e)}function hs(e,t){return e.x-t.x}function ms(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&a<s){if((a=s)===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var c,u=n,l=n.x,f=n.y,d=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=l&&i!==r.x&&ys(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&((c=Math.abs(o-r.y)/(i-r.x))<d||c===d&&r.x>n.x)&&_s(r,e)&&(n=r,d=c),r=r.next;return n}(e,t)){var n=Ms(t,e);cs(n,n.next)}}function gs(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function vs(e){for(var t=e,n=e;t.x<n.x&&(n=t),(t=t.next)!==e;);return n}function ys(e,t,n,r,i,o,a,s){return 0<=(i-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(r-s)-(n-a)*(t-s)&&0<=(n-a)*(o-s)-(i-a)*(r-s)}function bs(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function xs(e,t){return e.x===t.x&&e.y===t.y}function ws(e,t,n,r){return!!(xs(e,t)&&xs(n,r)||xs(e,r)&&xs(n,t))||0<bs(e,t,n)!=0<bs(e,t,r)&&0<bs(n,r,e)!=0<bs(n,r,t)}function _s(e,t){return bs(e.prev,e,e.next)<0?0<=bs(e,t,e.next)&&0<=bs(e,e.prev,t):bs(e,t,e.prev)<0||bs(e,e.next,t)<0}function Ms(e,t){var n=new Us(e.i,e.x,e.y),r=new Us(t.i,t.x,t.y),i=e.next,o=t.prev;return(e.next=t).prev=e,(n.next=i).prev=n,(r.next=n).prev=r,(o.next=r).prev=o,r}function Ts(e,t,n,r){var i=new Us(e,t,n);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function Ss(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Us(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ks={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return ks.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Ps(e),Es(n,e);var o=e.length;t.forEach(Ps);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,Es(n,t[a]);for(var s=as.triangulate(n,r),a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function Ps(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function Es(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Cs(e,t){lr.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new As(e,t)),this.mergeVertices()}function As(e,J){Rr.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:J},e=Array.isArray(e)?e:[e];for(var Z=this,Q=[],ee=[],t=0,n=e.length;t<n;t++){var r=e[t];i(r)}function i(e){var r=[],t=void 0!==J.curveSegments?J.curveSegments:12,d=void 0!==J.steps?J.steps:1,n=void 0!==J.depth?J.depth:100,i=void 0===J.bevelEnabled||J.bevelEnabled,o=void 0!==J.bevelThickness?J.bevelThickness:6,a=void 0!==J.bevelSize?J.bevelSize:o-2,p=void 0!==J.bevelSegments?J.bevelSegments:3,s=J.extrudePath,c=void 0!==J.UVGenerator?J.UVGenerator:Os;void 0!==J.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),n=J.amount);var u,l,f,h,m,g,v,y,b=!1;s&&(u=s.getSpacedPoints(d),i=!(b=!0),l=s.computeFrenetFrames(d,!1),f=new Ht,h=new Ht,m=new Ht),i||(a=o=p=0);var x=e.extractPoints(t),w=x.shape,_=x.holes,M=!ks.isClockWise(w);if(M)for(w=w.reverse(),v=0,y=_.length;v<y;v++)g=_[v],ks.isClockWise(g)&&(_[v]=g.reverse());var T=ks.triangulateShape(w,_),S=w;for(v=0,y=_.length;v<y;v++)g=_[v],w=w.concat(g);function U(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var k,P,E,C,A,O,I=w.length,R=T.length;function L(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,c=n.x-e.x,u=n.y-e.y,l=a*a+s*s,f=a*u-s*c;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(l),p=Math.sqrt(c*c+u*u),h=t.x-s/d,m=t.y+a/d,g=n.x-u/p,v=n.y+c/p,y=((g-h)*u-(v-m)*c)/(a*u-s*c);r=h+a*y-e.x,i=m+s*y-e.y;var b=r*r+i*i;if(b<=2)return new Yt(r,i);o=Math.sqrt(b/2)}else{var x=!1;a>Number.EPSILON?c>Number.EPSILON&&(x=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(x=!0):Math.sign(s)===Math.sign(u)&&(x=!0),o=x?(r=-s,i=a,Math.sqrt(l)):(r=a,i=s,Math.sqrt(l/2))}return new Yt(r/o,i/o)}for(var N=[],D=0,j=S.length,F=j-1,V=D+1;D<j;D++,F++,V++)F===j&&(F=0),V===j&&(V=0),N[D]=L(S[D],S[F],S[V]);var Y,B,z=[],H=N.concat();for(v=0,y=_.length;v<y;v++){for(g=_[v],Y=[],D=0,j=g.length,F=j-1,V=D+1;D<j;D++,F++,V++)F===j&&(F=0),V===j&&(V=0),Y[D]=L(g[D],g[F],g[V]);z.push(Y),H=H.concat(Y)}for(k=0;k<p;k++){for(E=k/p,C=o*Math.cos(E*Math.PI/2),P=a*Math.sin(E*Math.PI/2),D=0,j=S.length;D<j;D++)W((A=U(S[D],N[D],P)).x,A.y,-C);for(v=0,y=_.length;v<y;v++)for(g=_[v],Y=z[v],D=0,j=g.length;D<j;D++)W((A=U(g[D],Y[D],P)).x,A.y,-C)}for(P=a,D=0;D<I;D++)A=i?U(w[D],H[D],P):w[D],b?(h.copy(l.normals[0]).multiplyScalar(A.x),f.copy(l.binormals[0]).multiplyScalar(A.y),m.copy(u[0]).add(h).add(f),W(m.x,m.y,m.z)):W(A.x,A.y,0);for(B=1;B<=d;B++)for(D=0;D<I;D++)A=i?U(w[D],H[D],P):w[D],b?(h.copy(l.normals[B]).multiplyScalar(A.x),f.copy(l.binormals[B]).multiplyScalar(A.y),m.copy(u[B]).add(h).add(f),W(m.x,m.y,m.z)):W(A.x,A.y,n/d*B);for(k=p-1;0<=k;k--){for(E=k/p,C=o*Math.cos(E*Math.PI/2),P=a*Math.sin(E*Math.PI/2),D=0,j=S.length;D<j;D++)W((A=U(S[D],N[D],P)).x,A.y,n+C);for(v=0,y=_.length;v<y;v++)for(g=_[v],Y=z[v],D=0,j=g.length;D<j;D++)A=U(g[D],Y[D],P),b?W(A.x,A.y+u[d-1].y,u[d-1].x+C):W(A.x,A.y,n+C)}function G(e,t){var n,r;for(D=e.length;0<=--D;){(r=(n=D)-1)<0&&(r=e.length-1);var i=0,o=d+2*p;for(i=0;i<o;i++){var a=I*i,s=I*(i+1),c=t+n+a,u=t+r+a,l=t+r+s,f=t+n+s;X(c,u,l,f)}}}function W(e,t,n){r.push(e),r.push(t),r.push(n)}function q(e,t,n){K(e),K(t),K(n);var r=Q.length/3,i=c.generateTopUV(Z,Q,r-3,r-2,r-1);$(i[0]),$(i[1]),$(i[2])}function X(e,t,n,r){K(e),K(t),K(r),K(t),K(n),K(r);var i=Q.length/3,o=c.generateSideWallUV(Z,Q,i-6,i-3,i-2,i-1);$(o[0]),$(o[1]),$(o[3]),$(o[1]),$(o[2]),$(o[3])}function K(e){Q.push(r[3*e+0]),Q.push(r[3*e+1]),Q.push(r[3*e+2])}function $(e){ee.push(e.x),ee.push(e.y)}!function(){var e=Q.length/3;if(i){var t=0,n=I*t;for(D=0;D<R;D++)q((O=T[D])[2]+n,O[1]+n,O[0]+n);for(n=I*(t=d+2*p),D=0;D<R;D++)q((O=T[D])[0]+n,O[1]+n,O[2]+n)}else{for(D=0;D<R;D++)q((O=T[D])[2],O[1],O[0]);for(D=0;D<R;D++)q((O=T[D])[0]+I*d,O[1]+I*d,O[2]+I*d)}Z.addGroup(e,Q.length/3-e,0)}(),function(){var e=Q.length/3,t=0;for(G(S,t),t+=S.length,v=0,y=_.length;v<y;v++)G(g=_[v],t),t+=g.length;Z.addGroup(e,Q.length/3-e,1)}()}this.addAttribute("position",new br(Q,3)),this.addAttribute("uv",new br(ee,2)),this.computeVertexNormals()}((Cs.prototype=Object.create(lr.prototype)).constructor=Cs).prototype.toJSON=function(){var e=lr.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return Is(t,n,e)},((As.prototype=Object.create(Rr.prototype)).constructor=As).prototype.toJSON=function(){var e=Rr.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return Is(t,n,e)};var Os={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],c=t[3*r+1],u=t[3*i],l=t[3*i+1];return[new Yt(o,a),new Yt(s,c),new Yt(u,l)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],c=t[3*n+2],u=t[3*r],l=t[3*r+1],f=t[3*r+2],d=t[3*i],p=t[3*i+1],h=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(s-l)<.01?[new Yt(a,1-c),new Yt(u,1-f),new Yt(d,1-h),new Yt(m,1-v)]:[new Yt(s,1-c),new Yt(l,1-f),new Yt(p,1-h),new Yt(g,1-v)]}};function Is(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Rs(e,t){lr.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Ls(e,t)),this.mergeVertices()}function Ls(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new lr;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),As.call(this,r,t),this.type="TextBufferGeometry"}function Ns(e,t,n,r,i,o,a){lr.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Ds(e,t,n,r,i,o,a)),this.mergeVertices()}function Ds(e,t,n,r,i,o,a){Rr.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,c,u=o+a,l=0,f=[],d=new Ht,p=new Ht,h=[],m=[],g=[],v=[];for(c=0;c<=n;c++){var y=[],b=c/n;for(s=0;s<=t;s++){var x=s/t;d.x=-e*Math.cos(r+x*i)*Math.sin(o+b*a),d.y=e*Math.cos(o+b*a),d.z=e*Math.sin(r+x*i)*Math.sin(o+b*a),m.push(d.x,d.y,d.z),p.set(d.x,d.y,d.z).normalize(),g.push(p.x,p.y,p.z),v.push(x,1-b),y.push(l++)}f.push(y)}for(c=0;c<n;c++)for(s=0;s<t;s++){var w=f[c][s+1],_=f[c][s],M=f[c+1][s],T=f[c+1][s+1];(0!==c||0<o)&&h.push(w,_,T),(c!==n-1||u<Math.PI)&&h.push(_,M,T)}this.setIndex(h),this.addAttribute("position",new br(m,3)),this.addAttribute("normal",new br(g,3)),this.addAttribute("uv",new br(v,2))}function js(e,t,n,r,i,o){lr.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Fs(e,t,n,r,i,o)),this.mergeVertices()}function Fs(e,t,n,r,i,o){Rr.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var a,s,c,u=[],l=[],f=[],d=[],p=e,h=(t-e)/r,m=new Ht,g=new Yt;for(s=0;s<=r;s++){for(c=0;c<=n;c++)a=i+c/n*o,m.x=p*Math.cos(a),m.y=p*Math.sin(a),l.push(m.x,m.y,m.z),f.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,d.push(g.x,g.y);p+=h}for(s=0;s<r;s++){var v=s*(n+1);for(c=0;c<n;c++){var y=a=c+v,b=a+n+1,x=a+n+2,w=a+1;u.push(y,b,w),u.push(b,x,w)}}this.setIndex(u),this.addAttribute("position",new br(l,3)),this.addAttribute("normal",new br(f,3)),this.addAttribute("uv",new br(d,2))}function Vs(e,t,n,r){lr.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Ys(e,t,n,r)),this.mergeVertices()}function Ys(e,t,n,r){Rr.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=Vt.clamp(r,0,2*Math.PI);var i,o,a,s=[],c=[],u=[],l=1/t,f=new Ht,d=new Yt;for(o=0;o<=t;o++){var p=n+o*l*r,h=Math.sin(p),m=Math.cos(p);for(a=0;a<=e.length-1;a++)f.x=e[a].x*h,f.y=e[a].y,f.z=e[a].x*m,c.push(f.x,f.y,f.z),d.x=o/t,d.y=a/(e.length-1),u.push(d.x,d.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var g=i=a+o*e.length,v=i+e.length,y=i+e.length+1,b=i+1;s.push(g,v,b),s.push(v,y,b)}if(this.setIndex(s),this.addAttribute("position",new br(c,3)),this.addAttribute("uv",new br(u,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,w=new Ht,_=new Ht,M=new Ht;for(i=t*e.length*3,a=o=0;o<e.length;o++,a+=3)w.x=x[a+0],w.y=x[a+1],w.z=x[a+2],_.x=x[i+a+0],_.y=x[i+a+1],_.z=x[i+a+2],M.addVectors(w,_).normalize(),x[a+0]=x[i+a+0]=M.x,x[a+1]=x[i+a+1]=M.y,x[a+2]=x[i+a+2]=M.z}}function Bs(e,t){lr.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new zs(e,t)),this.mergeVertices()}function zs(e,h){Rr.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:h},h=h||12;var m=[],g=[],v=[],y=[],t=0,b=0;if(!1===Array.isArray(e))r(e);else for(var n=0;n<e.length;n++)r(e[n]),this.addGroup(t,b,n),t+=b,b=0;function r(e){var t,n,r,i=g.length/3,o=e.extractPoints(h),a=o.shape,s=o.holes;if(!1===ks.isClockWise(a))for(a=a.reverse(),t=0,n=s.length;t<n;t++)r=s[t],!0===ks.isClockWise(r)&&(s[t]=r.reverse());var c=ks.triangulateShape(a,s);for(t=0,n=s.length;t<n;t++)r=s[t],a=a.concat(r);for(t=0,n=a.length;t<n;t++){var u=a[t];g.push(u.x,u.y,0),v.push(0,0,1),y.push(u.x,u.y)}for(t=0,n=c.length;t<n;t++){var l=c[t],f=l[0]+i,d=l[1]+i,p=l[2]+i;m.push(f,d,p),b+=3}}this.setIndex(m),this.addAttribute("position",new br(g,3)),this.addAttribute("normal",new br(v,3)),this.addAttribute("uv",new br(y,2))}function Hs(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Gs(e,t){Rr.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(Vt.DEG2RAD*t),c=[0,0],u={},l=["a","b","c"];e.isBufferGeometry?(o=new lr).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var f=o.vertices,d=o.faces,p=0,h=d.length;p<h;p++)for(var m=d[p],g=0;g<3;g++)n=m[l[g]],r=m[l[(g+1)%3]],c[0]=Math.min(n,r),c[1]=Math.max(n,r),i=c[0]+","+c[1],void 0===u[i]?u[i]={index1:c[0],index2:c[1],face1:p,face2:void 0}:u[i].face2=p;for(i in u){var v=u[i];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=s){var y=f[v.index1];a.push(y.x,y.y,y.z),y=f[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new br(a,3))}function Ws(e,t,n,r,i,o,a,s){lr.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new qs(e,t,n,r,i,o,a,s)),this.mergeVertices()}function qs(v,y,b,x,w,e,_,M){Rr.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:v,radiusBottom:y,height:b,radialSegments:x,heightSegments:w,openEnded:e,thetaStart:_,thetaLength:M};var T=this;v=void 0!==v?v:1,y=void 0!==y?y:1,b=b||1,x=Math.floor(x)||8,w=Math.floor(w)||1,e=void 0!==e&&e,_=void 0!==_?_:0,M=void 0!==M?M:2*Math.PI;var S=[],U=[],k=[],P=[],E=0,C=[],A=b/2,O=0;function t(e){var t,n,r,i=new Yt,o=new Ht,a=0,s=!0===e?v:y,c=!0===e?1:-1;for(n=E,t=1;t<=x;t++)U.push(0,A*c,0),k.push(0,c,0),P.push(.5,.5),E++;for(r=E,t=0;t<=x;t++){var u=t/x,l=u*M+_,f=Math.cos(l),d=Math.sin(l);o.x=s*d,o.y=A*c,o.z=s*f,U.push(o.x,o.y,o.z),k.push(0,c,0),i.x=.5*f+.5,i.y=.5*d*c+.5,P.push(i.x,i.y),E++}for(t=0;t<x;t++){var p=n+t,h=r+t;!0===e?S.push(h,h+1,p):S.push(h+1,h,p),a+=3}T.addGroup(O,a,!0===e?1:2),O+=a}!function(){var e,t,n=new Ht,r=new Ht,i=0,o=(y-v)/b;for(t=0;t<=w;t++){var a=[],s=t/w,c=s*(y-v)+v;for(e=0;e<=x;e++){var u=e/x,l=u*M+_,f=Math.sin(l),d=Math.cos(l);r.x=c*f,r.y=-s*b+A,r.z=c*d,U.push(r.x,r.y,r.z),n.set(f,o,d).normalize(),k.push(n.x,n.y,n.z),P.push(u,1-s),a.push(E++)}C.push(a)}for(e=0;e<x;e++)for(t=0;t<w;t++){var p=C[t][e],h=C[t+1][e],m=C[t+1][e+1],g=C[t][e+1];S.push(p,h,g),S.push(h,m,g),i+=6}T.addGroup(O,i,0),O+=i}(),!1===e&&(0<v&&t(!0),0<y&&t(!1)),this.setIndex(S),this.addAttribute("position",new br(U,3)),this.addAttribute("normal",new br(k,3)),this.addAttribute("uv",new br(P,2))}function Xs(e,t,n,r,i,o,a){Ws.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Ks(e,t,n,r,i,o,a){qs.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function $s(e,t,n,r){lr.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Js(e,t,n,r)),this.mergeVertices()}function Js(e,t,n,r){Rr.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],c=[],u=[],l=new Ht,f=new Yt;for(s.push(0,0,0),c.push(0,0,1),u.push(.5,.5),o=0,i=3;o<=t;o++,i+=3){var d=n+o/t*r;l.x=e*Math.cos(d),l.y=e*Math.sin(d),s.push(l.x,l.y,l.z),c.push(0,0,1),f.x=(s[i]/e+1)/2,f.y=(s[i+1]/e+1)/2,u.push(f.x,f.y)}for(i=1;i<=t;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new br(s,3)),this.addAttribute("normal",new br(c,3)),this.addAttribute("uv",new br(u,2))}(Rs.prototype=Object.create(lr.prototype)).constructor=Rs,(Ls.prototype=Object.create(As.prototype)).constructor=Ls,(Ns.prototype=Object.create(lr.prototype)).constructor=Ns,(Ds.prototype=Object.create(Rr.prototype)).constructor=Ds,(js.prototype=Object.create(lr.prototype)).constructor=js,(Fs.prototype=Object.create(Rr.prototype)).constructor=Fs,(Vs.prototype=Object.create(lr.prototype)).constructor=Vs,(Ys.prototype=Object.create(Rr.prototype)).constructor=Ys,((Bs.prototype=Object.create(lr.prototype)).constructor=Bs).prototype.toJSON=function(){var e=lr.prototype.toJSON.call(this),t=this.parameters.shapes;return Hs(t,e)},((zs.prototype=Object.create(Rr.prototype)).constructor=zs).prototype.toJSON=function(){var e=Rr.prototype.toJSON.call(this),t=this.parameters.shapes;return Hs(t,e)},(Gs.prototype=Object.create(Rr.prototype)).constructor=Gs,(Ws.prototype=Object.create(lr.prototype)).constructor=Ws,(qs.prototype=Object.create(Rr.prototype)).constructor=qs,(Xs.prototype=Object.create(Ws.prototype)).constructor=Xs,(Ks.prototype=Object.create(qs.prototype)).constructor=Ks,($s.prototype=Object.create(lr.prototype)).constructor=$s,(Js.prototype=Object.create(Rr.prototype)).constructor=Js;var Zs=Object.freeze({WireframeGeometry:Ya,ParametricGeometry:Ba,ParametricBufferGeometry:za,TetrahedronGeometry:Wa,TetrahedronBufferGeometry:qa,OctahedronGeometry:Xa,OctahedronBufferGeometry:Ka,IcosahedronGeometry:$a,IcosahedronBufferGeometry:Ja,DodecahedronGeometry:Za,DodecahedronBufferGeometry:Qa,PolyhedronGeometry:Ha,PolyhedronBufferGeometry:Ga,TubeGeometry:es,TubeBufferGeometry:ts,TorusKnotGeometry:ns,TorusKnotBufferGeometry:rs,TorusGeometry:is,TorusBufferGeometry:os,TextGeometry:Rs,TextBufferGeometry:Ls,SphereGeometry:Ns,SphereBufferGeometry:Ds,RingGeometry:js,RingBufferGeometry:Fs,PlaneGeometry:Dr,PlaneBufferGeometry:jr,LatheGeometry:Vs,LatheBufferGeometry:Ys,ShapeGeometry:Bs,ShapeBufferGeometry:zs,ExtrudeGeometry:Cs,ExtrudeBufferGeometry:As,EdgesGeometry:Gs,ConeGeometry:Xs,ConeBufferGeometry:Ks,CylinderGeometry:Ws,CylinderBufferGeometry:qs,CircleGeometry:$s,CircleBufferGeometry:Js,BoxGeometry:Lr,BoxBufferGeometry:Nr});function Qs(e){fi.call(this),this.type="ShadowMaterial",this.color=new Un(0),this.transparent=!0,this.setValues(e)}function ec(e){di.call(this,e),this.type="RawShaderMaterial"}function tc(e){fi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Un(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Un(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jt,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function nc(e){tc.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function rc(e){fi.call(this),this.type="MeshPhongMaterial",this.color=new Un(16777215),this.specular=new Un(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Un(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jt,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ic(e){rc.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function oc(e){fi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jt,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ac(e){fi.call(this),this.type="MeshLambertMaterial",this.color=new Un(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Un(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function sc(e){if(fi.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Un(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jt,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e),null===this.matcap){var t=document.createElement("canvas");t.width=1,t.height=1;var n=t.getContext("2d");n.fillStyle="#fff",n.fillRect(0,0,1,1),this.matcap=new THREE.CanvasTexture(t)}}function cc(e){Aa.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}((Qs.prototype=Object.create(fi.prototype)).constructor=Qs).prototype.isShadowMaterial=!0,Qs.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.color.copy(e.color),this},((ec.prototype=Object.create(di.prototype)).constructor=ec).prototype.isRawShaderMaterial=!0,((tc.prototype=Object.create(fi.prototype)).constructor=tc).prototype.isMeshStandardMaterial=!0,tc.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((nc.prototype=Object.create(tc.prototype)).constructor=nc).prototype.isMeshPhysicalMaterial=!0,nc.prototype.copy=function(e){return tc.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},((rc.prototype=Object.create(fi.prototype)).constructor=rc).prototype.isMeshPhongMaterial=!0,rc.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((ic.prototype=Object.create(rc.prototype)).constructor=ic).prototype.isMeshToonMaterial=!0,ic.prototype.copy=function(e){return rc.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},((oc.prototype=Object.create(fi.prototype)).constructor=oc).prototype.isMeshNormalMaterial=!0,oc.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((ac.prototype=Object.create(fi.prototype)).constructor=ac).prototype.isMeshLambertMaterial=!0,ac.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((sc.prototype=Object.create(fi.prototype)).constructor=sc).prototype.isMeshMatcapMaterial=!0,sc.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((cc.prototype=Object.create(Aa.prototype)).constructor=cc).prototype.isLineDashedMaterial=!0,cc.prototype.copy=function(e){return Aa.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var uc=Object.freeze({ShadowMaterial:Qs,SpriteMaterial:Sa,RawShaderMaterial:ec,ShaderMaterial:di,PointsMaterial:La,MeshPhysicalMaterial:nc,MeshStandardMaterial:tc,MeshPhongMaterial:rc,MeshToonMaterial:ic,MeshNormalMaterial:oc,MeshLambertMaterial:ac,MeshDepthMaterial:Bo,MeshDistanceMaterial:zo,MeshBasicMaterial:mi,MeshMatcapMaterial:sc,LineDashedMaterial:cc,LineBasicMaterial:Aa,Material:fi}),lc={arraySlice:function(e,t,n){return lc.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(n){for(var e=n.length,t=new Array(e),r=0;r!==e;++r)t[r]=r;return t.sort(function(e,t){return n[e]-n[t]}),t},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,c=0;c!==t;++c)i[a++]=e[s+c];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))for(;void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),void 0!==(o=e[i++]););else if(void 0!==a.toArray)for(;void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),void 0!==(o=e[i++]););else for(;void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),void 0!==(o=e[i++]););}}};function fc(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function dc(e,t,n,r){fc.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function pc(e,t,n,r){fc.call(this,e,t,n,r)}function hc(e,t,n,r){fc.call(this,e,t,n,r)}function mc(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=lc.convertArray(t,this.TimeBufferType),this.values=lc.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function gc(e,t,n){mc.call(this,e,t,n)}function vc(e,t,n,r){mc.call(this,e,t,n,r)}function yc(e,t,n,r){mc.call(this,e,t,n,r)}function bc(e,t,n,r){fc.call(this,e,t,n,r)}function xc(e,t,n,r){mc.call(this,e,t,n,r)}function wc(e,t,n,r){mc.call(this,e,t,n,r)}function _c(e,t,n,r){mc.call(this,e,t,n,r)}function Mc(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Vt.generateUUID(),this.duration<0&&this.resetDuration()}function Tc(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yc;case"vector":case"vector2":case"vector3":case"vector4":return _c;case"color":return vc;case"quaternion":return xc;case"bool":case"boolean":return gc;case"string":return wc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];lc.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(fc.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(i<=e)break e;var s=t[1];e<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,(i=t[--n-1])<=e)break t}o=n,n=0}for(;n<o;){var c=n+o>>>1;e<t[c]?o=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(fc.prototype,{beforeStart_:fc.prototype.copySampleValue_,afterEnd_:fc.prototype.copySampleValue_}),dc.prototype=Object.assign(Object.create(fc.prototype),{constructor:dc,DefaultSettings_:{endingStart:St,endingEnd:St},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Ut:i=e,a=2*t-n;break;case kt:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ut:o=e,s=2*n-t;break;case kt:s=n+r[o=1]-r[0];break;default:o=e-1,s=t}var c=.5*(n-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,u=this._offsetPrev,l=this._offsetNext,f=this._weightPrev,d=this._weightNext,p=(n-t)/(r-t),h=p*p,m=h*p,g=-f*m+2*f*h-f*p,v=(1+f)*m+(-1.5-2*f)*h+(-.5+f)*p+1,y=(-1-d)*m+(1.5+d)*h+.5*p,b=d*m-d*h,x=0;x!==a;++x)i[x]=g*o[u+x]+v*o[c+x]+y*o[s+x]+b*o[l+x];return i}}),pc.prototype=Object.assign(Object.create(fc.prototype),{constructor:pc,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,u=(n-t)/(r-t),l=1-u,f=0;f!==a;++f)i[f]=o[c+f]*l+o[s+f]*u;return i}}),hc.prototype=Object.assign(Object.create(fc.prototype),{constructor:hc,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(mc,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:lc.convertArray(e.times,Array),values:lc.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(mc.prototype,{constructor:mc,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Tt,InterpolantFactoryMethodDiscrete:function(e){return new hc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new pc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new dc(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Mt:t=this.InterpolantFactoryMethodDiscrete;break;case Tt:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)return this.createInterpolant=t,this;var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Mt;case this.InterpolantFactoryMethodLinear:return Tt;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){o<=i&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=lc.arraySlice(n,i,o),this.values=lc.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&s<o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&lc.isTypedArray(r))for(var a=0,c=r.length;a!==c;++a){var u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=e.length-1,a=1;a<o;++a){var s=!1,c=e[a],u=e[a+1];if(c!==u&&(1!==a||c!==c[0]))if(r)s=!0;else for(var l=a*n,f=l-n,d=l+n,p=0;p!==n;++p){var h=t[l+p];if(h!==t[f+p]||h!==t[d+p]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];for(var m=a*n,g=i*n,p=0;p!==n;++p)t[g+p]=t[m+p]}++i}}if(0<o){e[i]=e[o];for(var m=o*n,g=i*n,p=0;p!==n;++p)t[g+p]=t[m+p];++i}return i!==e.length&&(this.times=lc.arraySlice(e,0,i),this.values=lc.arraySlice(t,0,i*n)),this}}),gc.prototype=Object.assign(Object.create(mc.prototype),{constructor:gc,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Mt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),vc.prototype=Object.assign(Object.create(mc.prototype),{constructor:vc,ValueTypeName:"color"}),yc.prototype=Object.assign(Object.create(mc.prototype),{constructor:yc,ValueTypeName:"number"}),bc.prototype=Object.assign(Object.create(fc.prototype),{constructor:bc,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=(n-t)/(r-t),u=s+a;s!==u;s+=4)zt.slerpFlat(i,0,o,s-a,o,s,c);return i}}),xc.prototype=Object.assign(Object.create(mc.prototype),{constructor:xc,ValueTypeName:"quaternion",DefaultInterpolation:Tt,InterpolantFactoryMethodLinear:function(e){return new bc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),wc.prototype=Object.assign(Object.create(mc.prototype),{constructor:wc,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Mt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),_c.prototype=Object.assign(Object.create(mc.prototype),{constructor:_c,ValueTypeName:"vector"}),Object.assign(Mc,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(Tc(n[i]).scale(r));return new Mc(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(mc.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var u=lc.getKeyframeOrder(s);s=lc.sortedArray(s,1,u),c=lc.sortedArray(c,1,u),r||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new yc(".morphTargetInfluences["+t[a].name+"]",s,c).scale(1/n))}return new Mc(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],c=s.name.match(i);if(c&&1<c.length){var u=c[1],l=r[u];l||(r[u]=l=[]),l.push(s)}}var f=[];for(var u in r)f.push(Mc.CreateFromMorphTargetSequence(u,r[u],t,n));return f},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];lc.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],c=0;c<s.length;c++){var u=s[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var l={},f=0;f<u.length;f++)if(u[f].morphTargets)for(var d=0;d<u[f].morphTargets.length;d++)l[u[f].morphTargets[d]]=-1;for(var p in l){for(var h=[],m=[],d=0;d!==u[f].morphTargets.length;++d){var g=u[f];h.push(g.time),m.push(g.morphTarget===p?1:0)}r.push(new yc(".morphTargetInfluence["+p+"]",h,m))}o=l.length*(a||1)}else{var v=".bones["+t[c].name+"]";n(_c,v+".position",u,"pos",r),n(xc,v+".quaternion",u,"rot",r),n(_c,v+".scale",u,"scl",r)}}if(0===r.length)return null;var y=new Mc(i,o,r);return y}}),Object.assign(Mc.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,n=0,r=e.length;n!==r;++n){var i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var Sc={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Uc(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var kc=new Uc,Pc={};function Ec(e){this.manager=void 0!==e?e:kc}function Cc(e){this.manager=void 0!==e?e:kc}function Ac(e){this.manager=void 0!==e?e:kc,this._parser=null}function Oc(e){this.manager=void 0!==e?e:kc,this._parser=null}function Ic(e){this.manager=void 0!==e?e:kc}function Rc(e){this.manager=void 0!==e?e:kc}function Lc(e){this.manager=void 0!==e?e:kc}function Nc(){this.type="Curve",this.arcLengthDivisions=200}function Dc(e,t,n,r,i,o,a,s){Nc.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function jc(e,t,n,r,i,o){Dc.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function Fc(){var i=0,o=0,a=0,s=0;function u(e,t,n,r){a=-3*(i=e)+3*t-2*(o=n)-r,s=2*e-2*t+n+r}return{initCatmullRom:function(e,t,n,r,i){u(t,n,i*(n-e),i*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,i,o,a){var s=(t-e)/i-(n-e)/(i+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+a)+(r-n)/a;u(t,n,s*=o,c*=o)},calc:function(e){var t=e*e,n=t*e;return i+o*e+a*t+s*n}}}Object.assign(Ec.prototype,{load:function(a,e,t,n){void 0===a&&(a=""),void 0!==this.path&&(a=this.path+a),a=this.manager.resolveURL(a);var s=this,r=Sc.get(a);if(void 0!==r)return s.manager.itemStart(a),setTimeout(function(){e&&e(r),s.manager.itemEnd(a)},0),r;if(void 0===Pc[a]){var i=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(i){var o=i[1],c=!!i[2],u=i[3];u=decodeURIComponent(u),c&&(u=atob(u));try{var l,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":for(var d=new Uint8Array(u.length),p=0;p<u.length;p++)d[p]=u.charCodeAt(p);l="blob"===f?new Blob([d.buffer],{type:o}):d.buffer;break;case"document":var h=new DOMParser;l=h.parseFromString(u,o);break;case"json":l=JSON.parse(u);break;default:l=u}setTimeout(function(){e&&e(l),s.manager.itemEnd(a)},0)}catch(e){setTimeout(function(){n&&n(e),s.manager.itemError(a),s.manager.itemEnd(a)},0)}}else{Pc[a]=[],Pc[a].push({onLoad:e,onProgress:t,onError:n});var m=new XMLHttpRequest;for(var g in m.open("GET",a,!0),m.addEventListener("load",function(e){var t=this.response;Sc.add(a,t);var n=Pc[a];if(delete Pc[a],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onLoad&&o.onLoad(t)}s.manager.itemEnd(a)}else{for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onError&&o.onError(e)}s.manager.itemError(a),s.manager.itemEnd(a)}},!1),m.addEventListener("progress",function(e){for(var t=Pc[a],n=0,r=t.length;n<r;n++){var i=t[n];i.onProgress&&i.onProgress(e)}},!1),m.addEventListener("error",function(e){var t=Pc[a];delete Pc[a];for(var n=0,r=t.length;n<r;n++){var i=t[n];i.onError&&i.onError(e)}s.manager.itemError(a),s.manager.itemEnd(a)},!1),m.addEventListener("abort",function(e){var t=Pc[a];delete Pc[a];for(var n=0,r=t.length;n<r;n++){var i=t[n];i.onError&&i.onError(e)}s.manager.itemError(a),s.manager.itemEnd(a)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return s.manager.itemStart(a),m}Pc[a].push({onLoad:e,onProgress:t,onError:n})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(Cc.prototype,{load:function(e,t,n,r){var i=this,o=new Ec(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=Mc.parse(e[r]);n.push(i)}t(n)},setPath:function(e){return this.path=e,this}}),Object.assign(Ac.prototype,{load:function(e,o,t,r){var a=this,s=[],c=new ja;c.image=s;var i=new Ec(this.manager);function n(n){i.load(e[n],function(e){var t=a._parser(e,!0);s[n]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps},6===(u+=1)&&(1===t.mipmapCount&&(c.minFilter=Ce),c.format=t.format,c.needsUpdate=!0,o&&o(c))},t,r)}if(i.setPath(this.path),i.setResponseType("arraybuffer"),Array.isArray(e))for(var u=0,l=0,f=e.length;l<f;++l)n(l);else i.load(e,function(e){var t=a._parser(e,!0);if(t.isCubemap)for(var n=t.mipmaps.length/t.mipmapCount,r=0;r<n;r++){s[r]={mipmaps:[]};for(var i=0;i<t.mipmapCount;i++)s[r].mipmaps.push(t.mipmaps[r*t.mipmapCount+i]),s[r].format=t.format,s[r].width=t.width,s[r].height=t.height}else c.image.width=t.width,c.image.height=t.height,c.mipmaps=t.mipmaps;1===t.mipmapCount&&(c.minFilter=Ce),c.format=t.format,c.needsUpdate=!0,o&&o(c)},t,r);return c},setPath:function(e){return this.path=e,this}}),Object.assign(Oc.prototype,{load:function(e,n,t,r){var i=this,o=new mn,a=new Ec(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(e){var t=i._parser(e);t&&(void 0!==t.image?o.image=t.image:void 0!==t.data&&(o.image.width=t.width,o.image.height=t.height,o.image.data=t.data),o.wrapS=void 0!==t.wrapS?t.wrapS:Se,o.wrapT=void 0!==t.wrapT?t.wrapT:Se,o.magFilter=void 0!==t.magFilter?t.magFilter:Ce,o.minFilter=void 0!==t.minFilter?t.minFilter:Oe,o.anisotropy=void 0!==t.anisotropy?t.anisotropy:1,void 0!==t.format&&(o.format=t.format),void 0!==t.type&&(o.type=t.type),void 0!==t.mipmaps&&(o.mipmaps=t.mipmaps),1===t.mipmapCount&&(o.minFilter=Ce),o.needsUpdate=!0,n&&n(o,t))},t,r),o},setPath:function(e){return this.path=e,this}}),Object.assign(Ic.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Sc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),Sc.add(t,this),e&&e(this),i.manager.itemEnd(t)}function c(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Rc.prototype,{crossOrigin:"anonymous",load:function(e,n,t,r){var i=new Pi,o=new Ic(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(t){o.load(e[t],function(e){i.images[t]=e,6==++a&&(i.needsUpdate=!0,n&&n(i))},void 0,r)}for(var c=0;c<e.length;++c)s(c);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Lc.prototype,{crossOrigin:"anonymous",load:function(n,r,e,t){var i=new fn,o=new Ic(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(n,function(e){i.image=e;var t=0<n.search(/\.jpe?g$/i)||0===n.search(/^data\:image\/jpeg/);i.format=t?We:qe,i.needsUpdate=!0,void 0!==r&&r(i)},e,t),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Nc.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)t=this.getPoint(n/e),o+=t.distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,c=o-1;s<=c;)if(i=Math.floor(s+(c-s)/2),(a=r[i]-n)<0)s=i+1;else{if(!(0<a)){c=i;break}c=i-1}if(r[i=c]===n)return i/(o-1);var u=r[i],l=r[i+1],f=l-u,d=(n-u)/f,p=(i+d)/(o-1);return p},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),1<n&&(n=1);var r=this.getPoint(t),i=this.getPoint(n),o=i.clone().sub(r);return o.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new Ht,a=[],s=[],c=[],u=new Ht,l=new Bt;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new Ht,c[0]=new Ht;var f=Number.MAX_VALUE,d=Math.abs(a[0].x),p=Math.abs(a[0].y),h=Math.abs(a[0].z);for(d<=f&&(f=d,o.set(1,0,0)),p<=f&&(f=p,o.set(0,1,0)),h<=f&&o.set(0,0,1),u.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],u),c[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),c[n]=c[n-1].clone(),u.crossVectors(a[n-1],a[n]),u.length()>Number.EPSILON&&(u.normalize(),i=Math.acos(Vt.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(l.makeRotationAxis(u,i))),c[n].crossVectors(a[n],s[n]);if(!0===t)for(i=Math.acos(Vt.clamp(s[0].dot(s[e]),-1,1)),i/=e,0<a[0].dot(u.crossVectors(s[0],s[e]))&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(l.makeRotationAxis(a[n],i*n)),c[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),((Dc.prototype=Object.create(Nc.prototype)).constructor=Dc).prototype.isEllipseCurve=!0,Dc.prototype.getPoint=function(e,t){for(var n=t||new Yt,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;r<i;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),l=Math.sin(this.aRotation),f=s-this.aX,d=c-this.aY;s=f*u-d*l+this.aX,c=f*l+d*u+this.aY}return n.set(s,c)},Dc.prototype.copy=function(e){return Nc.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Dc.prototype.toJSON=function(){var e=Nc.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Dc.prototype.fromJSON=function(e){return Nc.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},((jc.prototype=Object.create(Dc.prototype)).constructor=jc).prototype.isArcCurve=!0;var Vc=new Ht,Yc=new Fc,Bc=new Fc,zc=new Fc;function Hc(e,t,n,r){Nc.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Gc(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e,c=e*s;return(2*n-2*r+o+a)*c+(-3*n+3*r-2*o-a)*s+o*e+n}function Wc(e,t,n,r){return(a=1-e)*a*t+2*(1-(o=e))*o*n+(i=e)*i*r;var i,o,a}function qc(e,t,n,r,i){return(u=1-e)*u*u*t+3*(c=1-(s=e))*c*s*n+3*(1-(a=e))*a*a*r+(o=e)*o*o*i;var o,a,s,c,u}function Xc(e,t,n,r){Nc.call(this),this.type="CubicBezierCurve",this.v0=e||new Yt,this.v1=t||new Yt,this.v2=n||new Yt,this.v3=r||new Yt}function Kc(e,t,n,r){Nc.call(this),this.type="CubicBezierCurve3",this.v0=e||new Ht,this.v1=t||new Ht,this.v2=n||new Ht,this.v3=r||new Ht}function $c(e,t){Nc.call(this),this.type="LineCurve",this.v1=e||new Yt,this.v2=t||new Yt}function Jc(e,t){Nc.call(this),this.type="LineCurve3",this.v1=e||new Ht,this.v2=t||new Ht}function Zc(e,t,n){Nc.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Yt,this.v1=t||new Yt,this.v2=n||new Yt}function Qc(e,t,n){Nc.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Ht,this.v1=t||new Ht,this.v2=n||new Ht}function eu(e){Nc.call(this),this.type="SplineCurve",this.points=e||[]}((Hc.prototype=Object.create(Nc.prototype)).constructor=Hc).prototype.isCatmullRomCurve3=!0,Hc.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new Ht,s=this.points,c=s.length,u=(c-(this.closed?0:1))*e,l=Math.floor(u),f=u-l;if(this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/c)+1)*c:0===f&&l===c-1&&(l=c-2,f=1),n=this.closed||0<l?s[(l-1)%c]:(Vc.subVectors(s[0],s[1]).add(s[0]),Vc),r=s[l%c],i=s[(l+1)%c],o=this.closed||l+2<c?s[(l+2)%c]:(Vc.subVectors(s[c-1],s[c-2]).add(s[c-1]),Vc),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(r),d),h=Math.pow(r.distanceToSquared(i),d),m=Math.pow(i.distanceToSquared(o),d);h<1e-4&&(h=1),p<1e-4&&(p=h),m<1e-4&&(m=h),Yc.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,p,h,m),Bc.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,p,h,m),zc.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,p,h,m)}else"catmullrom"===this.curveType&&(Yc.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),Bc.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),zc.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(Yc.calc(f),Bc.calc(f),zc.calc(f)),a},Hc.prototype.copy=function(e){Nc.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Hc.prototype.toJSON=function(){var e=Nc.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Hc.prototype.fromJSON=function(e){Nc.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new Ht).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},((Xc.prototype=Object.create(Nc.prototype)).constructor=Xc).prototype.isCubicBezierCurve=!0,Xc.prototype.getPoint=function(e,t){var n=t||new Yt,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(qc(e,r.x,i.x,o.x,a.x),qc(e,r.y,i.y,o.y,a.y)),n},Xc.prototype.copy=function(e){return Nc.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Xc.prototype.toJSON=function(){var e=Nc.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Xc.prototype.fromJSON=function(e){return Nc.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},((Kc.prototype=Object.create(Nc.prototype)).constructor=Kc).prototype.isCubicBezierCurve3=!0,Kc.prototype.getPoint=function(e,t){var n=t||new Ht,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(qc(e,r.x,i.x,o.x,a.x),qc(e,r.y,i.y,o.y,a.y),qc(e,r.z,i.z,o.z,a.z)),n},Kc.prototype.copy=function(e){return Nc.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Kc.prototype.toJSON=function(){var e=Nc.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Kc.prototype.fromJSON=function(e){return Nc.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},(($c.prototype=Object.create(Nc.prototype)).constructor=$c).prototype.isLineCurve=!0,$c.prototype.getPoint=function(e,t){var n=t||new Yt;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},$c.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},$c.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()},$c.prototype.copy=function(e){return Nc.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},$c.prototype.toJSON=function(){var e=Nc.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},$c.prototype.fromJSON=function(e){return Nc.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((Jc.prototype=Object.create(Nc.prototype)).constructor=Jc).prototype.isLineCurve3=!0,Jc.prototype.getPoint=function(e,t){var n=t||new Ht;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Jc.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Jc.prototype.copy=function(e){return Nc.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Jc.prototype.toJSON=function(){var e=Nc.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Jc.prototype.fromJSON=function(e){return Nc.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((Zc.prototype=Object.create(Nc.prototype)).constructor=Zc).prototype.isQuadraticBezierCurve=!0,Zc.prototype.getPoint=function(e,t){var n=t||new Yt,r=this.v0,i=this.v1,o=this.v2;return n.set(Wc(e,r.x,i.x,o.x),Wc(e,r.y,i.y,o.y)),n},Zc.prototype.copy=function(e){return Nc.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Zc.prototype.toJSON=function(){var e=Nc.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Zc.prototype.fromJSON=function(e){return Nc.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((Qc.prototype=Object.create(Nc.prototype)).constructor=Qc).prototype.isQuadraticBezierCurve3=!0,Qc.prototype.getPoint=function(e,t){var n=t||new Ht,r=this.v0,i=this.v1,o=this.v2;return n.set(Wc(e,r.x,i.x,o.x),Wc(e,r.y,i.y,o.y),Wc(e,r.z,i.z,o.z)),n},Qc.prototype.copy=function(e){return Nc.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Qc.prototype.toJSON=function(){var e=Nc.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Qc.prototype.fromJSON=function(e){return Nc.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((eu.prototype=Object.create(Nc.prototype)).constructor=eu).prototype.isSplineCurve=!0,eu.prototype.getPoint=function(e,t){var n=t||new Yt,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],l=r[o>r.length-3?r.length-1:o+2];return n.set(Gc(a,s.x,c.x,u.x,l.x),Gc(a,s.y,c.y,u.y,l.y)),n},eu.prototype.copy=function(e){Nc.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},eu.prototype.toJSON=function(){var e=Nc.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},eu.prototype.fromJSON=function(e){Nc.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new Yt).fromArray(r))}return this};var tu=Object.freeze({ArcCurve:jc,CatmullRomCurve3:Hc,CubicBezierCurve:Xc,CubicBezierCurve3:Kc,EllipseCurve:Dc,LineCurve:$c,LineCurve3:Jc,QuadraticBezierCurve:Zc,QuadraticBezierCurve3:Qc,SplineCurve:eu});function nu(){Nc.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ru(e){nu.call(this),this.type="Path",this.currentPoint=new Yt,e&&this.setFromPoints(e)}function iu(e){ru.call(this,e),this.uuid=Vt.generateUUID(),this.type="Shape",this.holes=[]}function ou(e,t){tr.call(this),this.type="Light",this.color=new Un(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function au(e,t,n){ou.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(tr.DefaultUp),this.updateMatrix(),this.groundColor=new Un(t)}function su(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Yt(512,512),this.map=null,this.matrix=new Bt}function cu(){su.call(this,new $o(50,1,.5,500))}function uu(e,t,n,r,i,o){ou.call(this,e,t),this.type="SpotLight",this.position.copy(tr.DefaultUp),this.updateMatrix(),this.target=new tr,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new cu}function lu(e,t,n,r){ou.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new su(new $o(90,1,.5,500))}function fu(e,t,n,r,i,o){Ko.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function du(){su.call(this,new fu(-5,5,5,-5,.5,500))}function pu(e,t){ou.call(this,e,t),this.type="DirectionalLight",this.position.copy(tr.DefaultUp),this.updateMatrix(),this.target=new tr,this.shadow=new du}function hu(e,t){ou.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function mu(e,t,n,r){ou.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function gu(e){this.manager=void 0!==e?e:kc,this.textures={}}nu.prototype=Object.assign(Object.create(Nc.prototype),{constructor:nu,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new $c(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),c=0;c<s.length;c++){var u=s[c];t&&t.equals(u)||(n.push(u),t=u)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Nc.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Nc.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Nc.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new tu[r.type]).fromJSON(r))}return this}}),ru.prototype=Object.assign(Object.create(nu.prototype),{constructor:ru,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new $c(this.currentPoint.clone(),new Yt(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new Zc(this.currentPoint.clone(),new Yt(e,t),new Yt(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,o){var a=new Xc(this.currentPoint.clone(),new Yt(e,t),new Yt(n,r),new Yt(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new eu(t);this.curves.push(n),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var c=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(e+c,t+u,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var c=new Dc(e,t,n,r,i,o,a,s);if(0<this.curves.length){var u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);var l=c.getPoint(1);this.currentPoint.copy(l)},copy:function(e){return nu.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=nu.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return nu.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),iu.prototype=Object.assign(Object.create(ru.prototype),{constructor:iu,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ru.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=ru.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){ru.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new ru).fromJSON(r))}return this}}),ou.prototype=Object.assign(Object.create(tr.prototype),{constructor:ou,isLight:!0,copy:function(e){return tr.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=tr.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),au.prototype=Object.assign(Object.create(ou.prototype),{constructor:au,isHemisphereLight:!0,copy:function(e){return ou.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(su.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),cu.prototype=Object.assign(Object.create(su.prototype),{constructor:cu,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Vt.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),uu.prototype=Object.assign(Object.create(ou.prototype),{constructor:uu,isSpotLight:!0,copy:function(e){return ou.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),lu.prototype=Object.assign(Object.create(ou.prototype),{constructor:lu,isPointLight:!0,copy:function(e){return ou.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),fu.prototype=Object.assign(Object.create(Ko.prototype),{constructor:fu,isOrthographicCamera:!0,copy:function(e,t){return Ko.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,f=(this.top-this.bottom)/this.view.height;i+=l*(this.view.offsetX/c),o=i+l*(this.view.width/c),a-=f*(this.view.offsetY/u),s=a-f*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=tr.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),du.prototype=Object.assign(Object.create(su.prototype),{constructor:du}),pu.prototype=Object.assign(Object.create(ou.prototype),{constructor:pu,isDirectionalLight:!0,copy:function(e){return ou.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),hu.prototype=Object.assign(Object.create(ou.prototype),{constructor:hu,isAmbientLight:!0}),mu.prototype=Object.assign(Object.create(ou.prototype),{constructor:mu,isRectAreaLight:!0,copy:function(e){return ou.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=ou.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(gu.prototype,{load:function(e,t,n,r){var i=this,o=new Ec(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new uc[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new Un).setHex(o.value);break;case"v2":r.uniforms[i].value=(new Yt).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new Ht).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new dn).fromArray(o.value);break;case"m4":r.uniforms[i].value=(new Bt).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var a=e.normalScale;!1===Array.isArray(a)&&(a=[a,a]),r.normalScale=(new Yt).fromArray(a)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var vu={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function yu(e){this.manager=void 0!==e?e:kc}Object.assign(yu.prototype,{load:function(e,t,n,r){var i=this,o=new Ec(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=new Rr,n=e.data.index;if(void 0!==n){var r=new Mu[n.type](n.array);t.setIndex(new fr(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o],r=new Mu[a.type](a.array);t.addAttribute(o,new fr(r,a.itemSize,a.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var c=0,u=s.length;c!==u;++c){var l=s[c];t.addGroup(l.start,l.count,l.materialIndex)}var f=e.data.boundingSphere;if(void 0!==f){var d=new Ht;void 0!==f.center&&d.fromArray(f.center),t.boundingSphere=new vn(d,f.radius)}return t},setPath:function(e){return this.path=e,this}});var bu,xu,wu,_u,Mu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Tu(){}function Su(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:kc,this.withCredentials=!1}function Uu(e){this.manager=void 0!==e?e:kc,this.resourcePath=""}Tu.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(Tu.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:(bu={NoBlending:K,NormalBlending:$,AdditiveBlending:J,SubtractiveBlending:Z,MultiplyBlending:Q,CustomBlending:ee},xu=new Un,wu=new Lc,_u=new gu,function(e,u,l){var f={};function t(e,t,n,r,i){var o,a=u+e,s=Tu.Handlers.get(a);o=null!==s?s.load(a):(wu.setCrossOrigin(l),wu.load(a)),void 0!==t&&(o.repeat.fromArray(t),1!==t[0]&&(o.wrapS=Te),1!==t[1]&&(o.wrapT=Te)),void 0!==n&&o.offset.fromArray(n),void 0!==r&&("repeat"===r[0]&&(o.wrapS=Te),"mirror"===r[0]&&(o.wrapS=Ue),"repeat"===r[1]&&(o.wrapT=Te),"mirror"===r[1]&&(o.wrapT=Ue)),void 0!==i&&(o.anisotropy=i);var c=Vt.generateUUID();return f[c]=o,c}var n={uuid:Vt.generateUUID(),type:"MeshLambertMaterial"};for(var r in e){var i=e[r];switch(r){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":n.name=i;break;case"blending":n.blending=bu[i];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",r,"is no longer supported.");break;case"colorDiffuse":n.color=xu.fromArray(i).getHex();break;case"colorSpecular":n.specular=xu.fromArray(i).getHex();break;case"colorEmissive":n.emissive=xu.fromArray(i).getHex();break;case"specularCoef":n.shininess=i;break;case"shading":"basic"===i.toLowerCase()&&(n.type="MeshBasicMaterial"),"phong"===i.toLowerCase()&&(n.type="MeshPhongMaterial"),"standard"===i.toLowerCase()&&(n.type="MeshStandardMaterial");break;case"mapDiffuse":n.map=t(i,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":n.emissiveMap=t(i,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":n.lightMap=t(i,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":n.aoMap=t(i,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":n.bumpMap=t(i,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":n.bumpScale=i;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":n.normalMap=t(i,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":n.normalScale=i;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":n.specularMap=t(i,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":n.metalnessMap=t(i,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":n.roughnessMap=t(i,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":n.alphaMap=t(i,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":n.side=_e;break;case"doubleSided":n.side=ne;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),n.opacity=i;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":n[r]=i;break;case"vertexColors":!0===i&&(n.vertexColors=T),"face"===i&&(n.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",r,i)}}return"MeshBasicMaterial"===n.type&&delete n.emissive,"MeshPhongMaterial"!==n.type&&delete n.specular,n.opacity<1&&(n.transparent=!0),_u.setTextures(f),_u.parse(n)})}),Object.assign(Su.prototype,{crossOrigin:"anonymous",load:function(o,a,e,t){var s=this,c=void 0===this.path?vu.extractUrlBase(o):this.path,n=new Ec(this.manager);n.setPath(this.path),n.setWithCredentials(this.withCredentials),n.load(o,function(e){var t=JSON.parse(e),n=t.metadata;if(void 0!==n){var r=n.type;if(void 0!==r&&"object"===r.toLowerCase())return void console.error("THREE.JSONLoader: "+o+" should be loaded with THREE.ObjectLoader instead.")}var i=s.parse(t,c);a(i.geometry,i.materials)},e,t)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){void 0!==e.data&&(e=e.data),void 0!==e.scale?e.scale=1/e.scale:e.scale=1;var n=new lr;if(function(e,t){function n(e,t){return e&1<<t}var r,i,o,a,s,c,u,l,f,d,p,h,m,g,v,y,b,x,w,_,M,T,S,U,k,P,E,C=e.faces,A=e.vertices,O=e.normals,I=e.colors,R=e.scale,L=0;if(void 0!==e.uvs){for(r=0;r<e.uvs.length;r++)e.uvs[r].length&&L++;for(r=0;r<L;r++)t.faceVertexUvs[r]=[]}for(a=0,s=A.length;a<s;)(x=new Ht).x=A[a++]*R,x.y=A[a++]*R,x.z=A[a++]*R,t.vertices.push(x);for(a=0,s=C.length;a<s;)if(d=C[a++],p=n(d,0),h=n(d,1),m=n(d,3),g=n(d,4),v=n(d,5),y=n(d,6),b=n(d,7),p){if((_=new In).a=C[a],_.b=C[a+1],_.c=C[a+3],(M=new In).a=C[a+1],M.b=C[a+2],M.c=C[a+3],a+=4,h&&(f=C[a++],_.materialIndex=f,M.materialIndex=f),o=t.faces.length,m)for(r=0;r<L;r++)for(U=e.uvs[r],t.faceVertexUvs[r][o]=[],t.faceVertexUvs[r][o+1]=[],i=0;i<4;i++)l=C[a++],P=U[2*l],E=U[2*l+1],k=new Yt(P,E),2!==i&&t.faceVertexUvs[r][o].push(k),0!==i&&t.faceVertexUvs[r][o+1].push(k);if(g&&(u=3*C[a++],_.normal.set(O[u++],O[u++],O[u]),M.normal.copy(_.normal)),v)for(r=0;r<4;r++)u=3*C[a++],S=new Ht(O[u++],O[u++],O[u]),2!==r&&_.vertexNormals.push(S),0!==r&&M.vertexNormals.push(S);if(y&&(c=C[a++],T=I[c],_.color.setHex(T),M.color.setHex(T)),b)for(r=0;r<4;r++)c=C[a++],T=I[c],2!==r&&_.vertexColors.push(new Un(T)),0!==r&&M.vertexColors.push(new Un(T));t.faces.push(_),t.faces.push(M)}else{if((w=new In).a=C[a++],w.b=C[a++],w.c=C[a++],h&&(f=C[a++],w.materialIndex=f),o=t.faces.length,m)for(r=0;r<L;r++)for(U=e.uvs[r],t.faceVertexUvs[r][o]=[],i=0;i<3;i++)l=C[a++],P=U[2*l],E=U[2*l+1],k=new Yt(P,E),t.faceVertexUvs[r][o].push(k);if(g&&(u=3*C[a++],w.normal.set(O[u++],O[u++],O[u])),v)for(r=0;r<3;r++)u=3*C[a++],S=new Ht(O[u++],O[u++],O[u]),w.vertexNormals.push(S);if(y&&(c=C[a++],w.color.setHex(I[c])),b)for(r=0;r<3;r++)c=C[a++],w.vertexColors.push(new Un(I[c]));t.faces.push(w)}}(e,n),function(e,t){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,i=e.skinWeights.length;r<i;r+=n){var o=e.skinWeights[r],a=1<n?e.skinWeights[r+1]:0,s=2<n?e.skinWeights[r+2]:0,c=3<n?e.skinWeights[r+3]:0;t.skinWeights.push(new dn(o,a,s,c))}if(e.skinIndices)for(var r=0,i=e.skinIndices.length;r<i;r+=n){var u=e.skinIndices[r],l=1<n?e.skinIndices[r+1]:0,f=2<n?e.skinIndices[r+2]:0,d=3<n?e.skinIndices[r+3]:0;t.skinIndices.push(new dn(u,l,f,d))}t.bones=e.bones,t.bones&&0<t.bones.length&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}(e,n),function(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var r=0,i=e.morphTargets.length;r<i;r++){t.morphTargets[r]={},t.morphTargets[r].name=e.morphTargets[r].name,t.morphTargets[r].vertices=[];for(var o=t.morphTargets[r].vertices,a=e.morphTargets[r].vertices,s=0,c=a.length;s<c;s+=3){var u=new Ht;u.x=a[s]*n,u.y=a[s+1]*n,u.z=a[s+2]*n,o.push(u)}}if(void 0!==e.morphColors&&0<e.morphColors.length){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var l=t.faces,f=e.morphColors[0].colors,r=0,i=l.length;r<i;r++)l[r].color.fromArray(f,3*r)}}(e,n),function(e,t){var n=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var i=0;i<r.length;i++){var o=Mc.parseAnimation(r[i],t.bones);o&&n.push(o)}if(t.morphTargets){var a=Mc.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(a)}0<n.length&&(t.animations=n)}(e,n),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:n};var r=Tu.prototype.initMaterials(e.materials,this.resourcePath||t,this.crossOrigin);return{geometry:n,materials:r}}}),Object.assign(Uu.prototype,{crossOrigin:"anonymous",load:function(r,i,e,o){var a=this,t=void 0===this.path?vu.extractUrlBase(r):this.path;this.resourcePath=this.resourcePath||t;var n=new Ec(a.manager);n.setPath(this.path),n.load(r,function(e){var t=null;try{t=JSON.parse(e)}catch(e){return void 0!==o&&o(e),void console.error("THREE:ObjectLoader: Can't parse "+r+".",e.message)}var n=t.metadata;void 0!==n&&void 0!==n.type&&"geometry"!==n.type.toLowerCase()?a.parse(t,i):console.error("THREE.ObjectLoader: Can't load "+r+". Use THREE.JSONLoader instead.")},e,o)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,function(){void 0!==t&&t(s)}),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new iu).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new Su,i=new yu,o=0,a=e.length;o<a;o++){var s,c=e[o];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Zs[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Zs[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Zs[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Zs[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Zs[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Zs[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Zs[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Zs[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Zs[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Zs[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Zs[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Zs[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],l=0,f=c.shapes.length;l<f;l++){var d=t[c.shapes[l]];u.push(d)}s=new Zs[c.type](u,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var u=[],l=0,f=c.shapes.length;l<f;l++){var d=t[c.shapes[l]];u.push(d)}var p=c.options.extrudePath;void 0!==p&&(c.options.extrudePath=(new tu[p.type]).fromJSON(p)),s=new Zs[c.type](u,c.options);break;case"BufferGeometry":s=i.parse(c);break;case"Geometry":s=r.parse(c,this.resourcePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),!0===s.isBufferGeometry&&void 0!==c.userData&&(s.userData=c.userData),n[c.uuid]=s}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new gu;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var c=[],u=0;u<s.materials.length;u++){var l=s.materials[u];void 0===n[l.uuid]&&(n[l.uuid]=i.parse(l)),c.push(n[l.uuid])}r[s.uuid]=c}else r[s.uuid]=i.parse(s),n[s.uuid]=r[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Mc.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),a.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}if(void 0!==e&&0<e.length){var o=new Uc(t),a=new Ic(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,c=e.length;s<c;s++){var u=e[s],l=u.url;if(Array.isArray(l)){r[u.uuid]=[];for(var f=0,d=l.length;f<d;f++){var p=l[f],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;r[u.uuid].push(i(h))}}else{var h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.resourcePath+u.url;r[u.uuid]=i(h)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new Pi(t[s.image]):new fn(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,Pu)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],Eu),a.wrapT=n(s.wrap[1],Eu)),void 0!==s.format&&(a.format=s.format),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,Cu)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,Cu)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),r[s.uuid]=a}return r},parseObject:function(e,t,o){var n;function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function i(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];void 0===o[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(o[i])}return t}return void 0===o[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),o[e]}}switch(e.type){case"Scene":n=new _a,void 0!==e.background&&Number.isInteger(e.background)&&(n.background=new Un(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?n.fog=new wa(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(n.fog=new xa(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":n=new $o(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(n.focus=e.focus),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.filmGauge&&(n.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(n.filmOffset=e.filmOffset),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"OrthographicCamera":n=new fu(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"AmbientLight":n=new hu(e.color,e.intensity);break;case"DirectionalLight":n=new pu(e.color,e.intensity);break;case"PointLight":n=new lu(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":n=new mu(e.color,e.intensity,e.width,e.height);break;case"SpotLight":n=new uu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":n=new au(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(e.geometry),s=i(e.material);n=a.bones&&0<a.bones.length?new Ca(a,s):new gi(a,s);break;case"LOD":n=new ka;break;case"Line":n=new Oa(r(e.geometry),i(e.material),e.mode);break;case"LineLoop":n=new Ra(r(e.geometry),i(e.material));break;case"LineSegments":n=new Ia(r(e.geometry),i(e.material));break;case"PointCloud":case"Points":n=new Na(r(e.geometry),i(e.material));break;case"Sprite":n=new Ua(i(e.material));break;case"Group":n=new Xo;break;default:n=new tr}if(n.uuid=e.uuid,void 0!==e.name&&(n.name=e.name),void 0!==e.matrix?(n.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(n.matrixAutoUpdate=e.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==e.position&&n.position.fromArray(e.position),void 0!==e.rotation&&n.rotation.fromArray(e.rotation),void 0!==e.quaternion&&n.quaternion.fromArray(e.quaternion),void 0!==e.scale&&n.scale.fromArray(e.scale)),void 0!==e.castShadow&&(n.castShadow=e.castShadow),void 0!==e.receiveShadow&&(n.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(n.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(n.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&n.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(n.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.frustumCulled&&(n.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(n.renderOrder=e.renderOrder),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.layers&&(n.layers.mask=e.layers),void 0!==e.children)for(var c=e.children,u=0;u<c.length;u++)n.add(this.parseObject(c[u],t,o));if("LOD"===e.type)for(var l=e.levels,f=0;f<l.length;f++){var d=l[f],p=n.getObjectByProperty("uuid",d.object);void 0!==p&&n.addLevel(p,d.distance)}return n}});var ku,Pu={UVMapping:300,CubeReflectionMapping:me,CubeRefractionMapping:ge,EquirectangularReflectionMapping:ve,EquirectangularRefractionMapping:ye,SphericalReflectionMapping:be,CubeUVReflectionMapping:xe,CubeUVRefractionMapping:we},Eu={RepeatWrapping:Te,ClampToEdgeWrapping:Se,MirroredRepeatWrapping:Ue},Cu={NearestFilter:ke,NearestMipMapNearestFilter:Pe,NearestMipMapLinearFilter:Ee,LinearFilter:Ce,LinearMipMapNearestFilter:Ae,LinearMipMapLinearFilter:Oe};function Au(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:kc,this.options=void 0}function Ou(){this.type="ShapePath",this.color=new Un,this.subPaths=[],this.currentPath=null}function Iu(e){this.type="Font",this.data=e}function Ru(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,c,u,l,f,d,p,h=new Ou;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;){var y=m[g++];switch(y){case"m":a=m[g++]*t+n,s=m[g++]*t+r,h.moveTo(a,s);break;case"l":a=m[g++]*t+n,s=m[g++]*t+r,h.lineTo(a,s);break;case"q":c=m[g++]*t+n,u=m[g++]*t+r,l=m[g++]*t+n,f=m[g++]*t+r,h.quadraticCurveTo(l,f,c,u);break;case"b":c=m[g++]*t+n,u=m[g++]*t+r,l=m[g++]*t+n,f=m[g++]*t+r,d=m[g++]*t+n,p=m[g++]*t+r,h.bezierCurveTo(l,f,d,p,c,u)}}return{offsetX:o.ha*t,path:h}}}function Lu(e){this.manager=void 0!==e?e:kc}Au.prototype={constructor:Au,setOptions:function(e){return this.options=e,this},load:function(t,n,e,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Sc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){n&&n(o),i.manager.itemEnd(t)},0),o;fetch(t).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,i.options)}).then(function(e){Sc.add(t,e),n&&n(e),i.manager.itemEnd(t)}).catch(function(e){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(Ou.prototype,{moveTo:function(e,t){this.currentPath=new ru,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new iu;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],c=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=t[o],c=-c,s=t[i],u=-u),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=u*(e.x-a.x)-c*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=ks.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,c,u=[];if(1===o.length)return s=o[0],(c=new iu).curves=s.curves,u.push(c),u;var l=!i(o[0].getPoints());l=e?!l:l;var f,d,p=[],h=[],m=[],g=0;h[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)s=o[v],f=s.getPoints(),a=i(f),(a=e?!a:a)?(!l&&h[g]&&g++,h[g]={s:new iu,p:f},h[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:f[0]});if(!h[0])return n(o);if(1<h.length){for(var b=!1,x=[],w=0,_=h.length;w<_;w++)p[w]=[];for(var w=0,_=h.length;w<_;w++)for(var M=m[w],T=0;T<M.length;T++){for(var S=M[T],U=!0,k=0;k<h.length;k++)r(S.p,h[k].p)&&(w!==k&&x.push({froms:w,tos:k,hole:T}),U?(U=!1,p[k].push(S)):b=!0);U&&p[w].push(S)}0<x.length&&(b||(m=p))}for(var v=0,P=h.length;v<P;v++){c=h[v].s,u.push(c),d=m[v];for(var E=0,C=d.length;E<C;E++)c.holes.push(d[E].h)}return u}}),Object.assign(Iu.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,c=0,u=0;u<r.length;u++){var l=r[u];if("\n"===l)s=0,c-=o;else{var f=Ru(l,i,s,c,n);s+=f.offsetX,a.push(f.path)}}return a}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(Lu.prototype,{load:function(e,r,t,n){var i=this,o=new Ec(this.manager);o.setPath(this.path),o.load(e,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var e=i.parse(n);r&&r(e)},t,n)},parse:function(e){return new Iu(e)},setPath:function(e){return this.path=e,this}});var Nu,Du,ju,Fu,Vu,Yu,Bu,zu,Hu,Gu,Wu,qu,Xu,Ku,$u,Ju,Zu,Qu,el,tl={getContext:function(){return void 0===ku&&(ku=new(window.AudioContext||window.webkitAudioContext)),ku},setContext:function(e){ku=e}};function nl(e){this.manager=void 0!==e?e:kc}function rl(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new $o,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new $o,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function il(e,t,n,r){tr.call(this),this.type="CubeCamera";var i=new $o(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new Ht(1,0,0)),this.add(i);var o=new $o(90,1,e,t);o.up.set(0,-1,0),o.lookAt(new Ht(-1,0,0)),this.add(o);var a=new $o(90,1,e,t);a.up.set(0,0,1),a.lookAt(new Ht(0,1,0)),this.add(a);var s=new $o(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new Ht(0,-1,0)),this.add(s);var c=new $o(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new Ht(0,0,1)),this.add(c);var u=new $o(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new Ht(0,0,-1)),this.add(u),r=r||{format:We,magFilter:Ce,minFilter:Ce},this.renderTarget=new hn(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,i,n),n.activeCubeFace=1,e.render(t,o,n),n.activeCubeFace=2,e.render(t,a,n),n.activeCubeFace=3,e.render(t,s,n),n.activeCubeFace=4,e.render(t,c,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,u,n),e.setRenderTarget(null)},this.clear=function(e,t,n,r){for(var i=this.renderTarget,o=0;o<6;o++)i.activeCubeFace=o,e.setRenderTarget(i),e.clear(t,n,r);e.setRenderTarget(null)}}function ol(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function al(){tr.call(this),this.type="AudioListener",this.context=tl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function sl(e){tr.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function cl(e){sl.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function ul(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function ll(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(nl.prototype,{load:function(e,r,t,n){var i=new Ec(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(e){var t=e.slice(0),n=tl.getContext();n.decodeAudioData(t,function(e){r(e)})},t,n)},setPath:function(e){return this.path=e,this}}),Object.assign(rl.prototype,{update:(Qu=new Bt,el=new Bt,function(e){var t=Gu!==this||Wu!==e.focus||qu!==e.fov||Xu!==e.aspect*this.aspect||Ku!==e.near||$u!==e.far||Ju!==e.zoom||Zu!==this.eyeSep;if(t){Gu=this,Wu=e.focus,qu=e.fov,Xu=e.aspect*this.aspect,Ku=e.near,$u=e.far,Ju=e.zoom;var n,r,i=e.projectionMatrix.clone(),o=(Zu=this.eyeSep/2)*Ku/Wu,a=Ku*Math.tan(Vt.DEG2RAD*qu*.5)/Ju;el.elements[12]=-Zu,Qu.elements[12]=Zu,n=-a*Xu+o,r=a*Xu+o,i.elements[0]=2*Ku/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-a*Xu-o,r=a*Xu-o,i.elements[0]=2*Ku/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(el),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Qu)})}),(il.prototype=Object.create(tr.prototype)).constructor=il,Object.assign(ol.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),al.prototype=Object.assign(Object.create(tr.prototype),{constructor:al,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:(Vu=new Ht,Yu=new zt,Bu=new Ht,zu=new Ht,Hu=new ol,function(e){tr.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=Hu.getDelta(),this.matrixWorld.decompose(Vu,Yu,Bu),zu.set(0,0,-1).applyQuaternion(Yu),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Vu.x,r),t.positionY.linearRampToValueAtTime(Vu.y,r),t.positionZ.linearRampToValueAtTime(Vu.z,r),t.forwardX.linearRampToValueAtTime(zu.x,r),t.forwardY.linearRampToValueAtTime(zu.y,r),t.forwardZ.linearRampToValueAtTime(zu.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(Vu.x,Vu.y,Vu.z),t.setOrientation(zu.x,zu.y,zu.z,n.x,n.y,n.z)})}),sl.prototype=Object.assign(Object.create(tr.prototype),{constructor:sl,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),cl.prototype=Object.assign(Object.create(sl.prototype),{constructor:cl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:(Nu=new Ht,Du=new zt,ju=new Ht,Fu=new Ht,function(e){tr.prototype.updateMatrixWorld.call(this,e);var t=this.panner;if(this.matrixWorld.decompose(Nu,Du,ju),Fu.set(0,0,1).applyQuaternion(Du),t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Nu.x,n),t.positionY.linearRampToValueAtTime(Nu.y,n),t.positionZ.linearRampToValueAtTime(Nu.z,n),t.orientationX.linearRampToValueAtTime(Fu.x,n),t.orientationY.linearRampToValueAtTime(Fu.y,n),t.orientationZ.linearRampToValueAtTime(Fu.z,n)}else t.setPosition(Nu.x,Nu.y,Nu.z),t.setOrientation(Fu.x,Fu.y,Fu.z)})}),Object.assign(ul.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(ll.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,c=t+t;s!==c;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(.5<=r)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){zt.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}});var fl,dl,pl,hl,ml,gl,vl,yl,bl,xl,wl,_l,Ml,Tl,Sl,Ul,kl,Pl,El,Cl,Al,Ol,Il,Rl,Ll,Nl,Dl,jl,Fl,Vl,Yl,Bl,zl,Hl,Gl,Wl,ql="\\[\\]\\.:\\/";function Xl(e,t,n){var r=n||Kl.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Kl(e,t,n){this.path=t,this.parsedPath=n||Kl.parseTrackName(t),this.node=Kl.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function $l(){this.uuid=Vt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Jl(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:St,endingEnd:St},s=0;s!==i;++s){var c=r[s].createInterpolant(null);(o[s]=c).settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Zl(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Ql(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function ef(){Rr.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function tf(e,t,n){Ma.call(this,e,t),this.meshPerAttribute=n||1}function nf(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),fr.call(this,e,t,n),this.meshPerAttribute=r||1}function rf(e,t,n,r){this.ray=new pi(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function of(e,t){return e.distance-t.distance}function af(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)af(i[o],t,n,!0)}function sf(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function cf(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function uf(e,t){this.min=void 0!==e?e:new Yt(1/0,1/0),this.max=void 0!==t?t:new Yt(-1/0,-1/0)}function lf(e,t){this.start=void 0!==e?e:new Ht,this.end=void 0!==t?t:new Ht}function ff(e){tr.call(this),this.material=e,this.render=function(){}}function df(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new Rr,u=new br(2*a*3,3);c.addAttribute("position",u),Ia.call(this,c,new Aa({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function pf(e,t){tr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Rr,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new br(r,3));var c=new Aa({fog:!1});this.cone=new Ia(n,c),this.add(this.cone),this.update()}function hf(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new Rr,r=[],i=[],o=new Un(0,0,1),a=new Un(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new br(r,3)),n.addAttribute("color",new br(i,3));var u=new Aa({vertexColors:T,depthTest:!1,depthWrite:!1,transparent:!0});Ia.call(this,n,u),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function mf(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Ds(t,4,2),i=new mi({wireframe:!0,fog:!1});gi.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function gf(e,t){tr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new Aa({fog:!1}),r=new Rr;r.addAttribute("position",new fr(new Float32Array(15),3)),this.line=new Oa(r,n),this.add(this.line),this.update()}function vf(e,t,n){tr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Ka(t);r.rotateY(.5*Math.PI),this.material=new mi({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=T);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new fr(o,3)),this.add(new gi(r,this.material)),this.update()}function yf(e,t,n,r){e=e||10,t=t||10,n=new Un(void 0!==n?n:4473924),r=new Un(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],c=[],u=0,l=0,f=-a;u<=t;u++,f+=o){s.push(-a,0,f,a,0,f),s.push(f,0,-a,f,0,a);var d=u===i?n:r;d.toArray(c,l),l+=3,d.toArray(c,l),l+=3,d.toArray(c,l),l+=3,d.toArray(c,l),l+=3}var p=new Rr;p.addAttribute("position",new br(s,3)),p.addAttribute("color",new br(c,3));var h=new Aa({vertexColors:T});Ia.call(this,p,h)}function bf(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new Un(void 0!==i?i:4473924),o=new Un(void 0!==o?o:8947848);var a,s,c,u,l,f,d,p=[],h=[];for(u=0;u<=t;u++)c=u/t*(2*Math.PI),a=Math.sin(c)*e,s=Math.cos(c)*e,p.push(0,0,0),p.push(a,0,s),d=1&u?i:o,h.push(d.r,d.g,d.b),h.push(d.r,d.g,d.b);for(u=0;u<=n;u++)for(d=1&u?i:o,f=e-e/n*u,l=0;l<r;l++)c=l/r*(2*Math.PI),a=Math.sin(c)*f,s=Math.cos(c)*f,p.push(a,0,s),h.push(d.r,d.g,d.b),c=(l+1)/r*(2*Math.PI),a=Math.sin(c)*f,s=Math.cos(c)*f,p.push(a,0,s),h.push(d.r,d.g,d.b);var m=new Rr;m.addAttribute("position",new br(p,3)),m.addAttribute("color",new br(h,3));var g=new Aa({vertexColors:T});Ia.call(this,m,g)}function xf(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new Rr,u=new br(2*a*3,3);c.addAttribute("position",u),Ia.call(this,c,new Aa({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function wf(e,t,n){tr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new Rr;r.addAttribute("position",new br([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Aa({fog:!1});this.lightPlane=new Oa(r,i),this.add(this.lightPlane),(r=new Rr).addAttribute("position",new br([0,0,0,0,0,1],3)),this.targetLine=new Oa(r,i),this.add(this.targetLine),this.update()}function _f(e){var t=new Rr,n=new Aa({color:16777215,vertexColors:1}),r=[],i=[],o={},a=new Un(16755200),s=new Un(16711680),c=new Un(43775),u=new Un(16777215),l=new Un(3355443);function f(e,t,n){d(e,n),d(t,n)}function d(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}f("n1","n2",a),f("n2","n4",a),f("n4","n3",a),f("n3","n1",a),f("f1","f2",a),f("f2","f4",a),f("f4","f3",a),f("f3","f1",a),f("n1","f1",a),f("n2","f2",a),f("n3","f3",a),f("n4","f4",a),f("p","n1",s),f("p","n2",s),f("p","n3",s),f("p","n4",s),f("u1","u2",c),f("u2","u3",c),f("u3","u1",c),f("c","t",u),f("p","c",l),f("cn1","cn2",l),f("cn3","cn4",l),f("cf1","cf2",l),f("cf3","cf4",l),t.addAttribute("position",new br(r,3)),t.addAttribute("color",new br(i,3)),Ia.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Mf(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Rr;i.setIndex(new fr(n,1)),i.addAttribute("position",new fr(r,3)),Ia.call(this,i,new Aa({color:t})),this.matrixAutoUpdate=!1,this.update()}function Tf(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Rr;i.setIndex(new fr(r,1)),i.addAttribute("position",new br([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ia.call(this,i,new Aa({color:n})),this.geometry.computeBoundingSphere()}function Sf(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new Rr;i.addAttribute("position",new br([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Oa.call(this,i,new Aa({color:r}));var o=new Rr;o.addAttribute("position",new br([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new gi(o,new mi({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Uf(e,t,n,r,i,o){tr.call(this),void 0===e&&(e=new THREE.Vector3(0,0,1)),void 0===t&&(t=new THREE.Vector3(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===fl&&((fl=new Rr).addAttribute("position",new br([0,0,0,0,1,0],3)),(dl=new qs(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Oa(fl,new Aa({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new gi(dl,new mi({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function kf(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Rr;n.addAttribute("position",new br(t,3)),n.addAttribute("color",new br([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Aa({vertexColors:T});Ia.call(this,n,r)}function Pf(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Hc.call(this,e),this.type="catmullrom",this.closed=!0}function Ef(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Hc.call(this,e),this.type="catmullrom"}function Cf(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Hc.call(this,e),this.type="catmullrom"}Object.assign(Xl.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Kl,{Composite:Xl,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Kl.Composite(e,t,n):new Kl(e,t,n)},sanitizeNodeName:(Gl=new RegExp("["+ql+"]","g"),function(e){return e.replace(/\s/g,"_").replace(Gl,"")}),parseTrackName:(Dl="[^"+ql+"]",jl="[^"+ql.replace("\\.","")+"]",Fl=/((?:WC+[\/:])*)/.source.replace("WC",Dl),Vl=/(WCOD+)?/.source.replace("WCOD",jl),Yl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Dl),Bl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Dl),zl=new RegExp("^"+Fl+Vl+Yl+Bl+"$"),Hl=["material","materials","bones"],function(e){var t=zl.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Hl.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}),findNode:function(e,i){if(!i||""===i||"root"===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){var t=e.skeleton.getBoneByName(i);if(void 0!==t)return t}if(e.children){var o=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.name===i||n.uuid===i)return n;var r=o(n.children);if(r)return r}return null},n=o(e.children);if(n)return n}return null}}),Object.assign(Kl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Kl.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var c=this.Versioning.None;void 0!==(this.targetObject=e).needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]}else{var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Kl.prototype,{_getValue_unbound:Kl.prototype.getValue,_setValue_unbound:Kl.prototype.setValue}),Object.assign($l.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,c=void 0,u=0,l=arguments.length;u!==l;++u){var f=arguments[u],d=f.uuid,p=r[d];if(void 0===p){p=t++,r[d]=p,e.push(f);for(var h=0,m=s;h!==m;++h)a[h].push(new Kl(f,i[h],o[h]))}else if(p<n){c=e[p];var g=--n,v=e[g];r[v.uuid]=p,e[p]=v,r[d]=g,e[g]=f;for(var h=0,m=s;h!==m;++h){var y=a[h],b=y[g],x=y[p];y[p]=b,void 0===x&&(x=new Kl(f,i[h],o[h])),y[g]=x}}else e[p]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,u=n[c];if(void 0!==u&&t<=u){var l=t++,f=e[l];n[f.uuid]=u,e[u]=f,n[c]=l,e[l]=s;for(var d=0,p=i;d!==p;++d){var h=r[d],m=h[l],g=h[u];h[u]=m,h[l]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a],u=c.uuid,l=r[u];if(void 0!==l)if(delete r[u],l<n){var f=--n,d=e[f],p=--t,h=e[p];r[d.uuid]=l,e[l]=d,r[h.uuid]=f,e[f]=h,e.pop();for(var m=0,g=o;m!==g;++m){var v=i[m],y=v[f],b=v[p];v[l]=y,v[f]=b,v.pop()}}else{var p=--t,h=e[p];r[h.uuid]=l,e[l]=h,e.pop();for(var m=0,g=o;m!==g;++m){var v=i[m];v[l]=v[p],v.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,u=this.nCachedObjects_,l=new Array(c);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var f=u,d=s.length;f!==d;++f){var p=s[f];l[f]=new Kl(p,e,t)}return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],c=e[a];t[c]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Jl.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+n,c[0]=e/a,c[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(0<s)for(var c=this._interpolants,u=this._propertyBindings,l=0,f=c.length;l!==f;++l)c[l].evaluate(a),u[l].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=2202===r;if(0===e)return-1===i?t:o&&1==(1&i)?n-t:t;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n<=t)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),n<=t||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=t,n-t}return this.time=t},_setEndings:function(e,t,n){var r=this._interpolantSettings;r.endingEnd=n?r.endingStart=Ut:(r.endingStart=e?this.zeroSlopeAtStart?Ut:St:kt,t?this.zeroSlopeAtEnd?Ut:St:kt)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Zl.prototype=Object.assign(Object.create(t.prototype),{constructor:Zl,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,c=this._bindingsByRootAndName,u=c[s];void 0===u&&(u={},c[s]=u);for(var l=0;l!==i;++l){var f=r[l],d=f.name,p=u[d];if(void 0!==p)o[l]=p;else{if(void 0!==(p=o[l])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var h=t&&t._propertyBindings[l].binding.parsedPath;++(p=new ll(Kl.create(n,d,h),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),o[l]=p}a[l].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,s[u]=c,s.pop(),e._byClipCacheIndex=null;var l=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete l[f],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),(i[n]=e)._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete a[i];e:{for(var u in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new pc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Mc.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[r];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Jl(this,i,t);return this._bindAction(u,s),this._addInactiveAction(u,o,r),u},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Mc.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0;for(var i=this._nActiveBindings=0;i!==t;++i)e[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){var s=t[a];s._update(r,e,i,o)}for(var c=this._bindings,u=this._nActiveBindings,a=0;a!==u;++a)c[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var u=c._cacheIndex,l=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=u,t[u]=l,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[t];if(void 0!==s)for(var c in s){var u=s[c];u.restoreOriginalState(),this._removeInactiveBinding(u)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Ql.prototype.clone=function(){return new Ql(void 0===this.value.clone?this.value:this.value.clone())},ef.prototype=Object.assign(Object.create(Rr.prototype),{constructor:ef,isInstancedBufferGeometry:!0,copy:function(e){return Rr.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),tf.prototype=Object.assign(Object.create(Ma.prototype),{constructor:tf,isInstancedInterleavedBuffer:!0,copy:function(e){return Ma.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),nf.prototype=Object.assign(Object.create(fr.prototype),{constructor:nf,isInstancedBufferAttribute:!0,copy:function(e){return fr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(rf.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return af(e,this,r,t),r.sort(of),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)af(e[i],this,r,t);return r.sort(of),r}}),Object.assign(sf.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Vt.clamp(t/this.radius,-1,1))),this}}),Object.assign(cf.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(uf.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:(Nl=new Yt,function(e,t){var n=Nl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Yt),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Yt),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Yt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Yt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:(Ll=new Yt,function(e){var t=Ll.copy(e).clamp(this.min,this.max);return t.sub(e).length()}),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(lf.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Ht),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Ht),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Ht),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(Il=new Ht,Rl=new Ht,function(e,t){Il.subVectors(e,this.start),Rl.subVectors(this.end,this.start);var n=Rl.dot(Rl),r=Rl.dot(Il),i=r/n;return t&&(i=Vt.clamp(i,0,1)),i}),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Ht),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),((ff.prototype=Object.create(tr.prototype)).constructor=ff).prototype.isImmediateRenderObject=!0,((df.prototype=Object.create(Ia.prototype)).constructor=df).prototype.update=(Cl=new Ht,Al=new Ht,Ol=new Gt,function(){var e=["a","b","c"];this.object.updateMatrixWorld(!0),Ol.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld,n=this.geometry.attributes.position,r=this.object.geometry;if(r&&r.isGeometry)for(var i=r.vertices,o=r.faces,a=0,s=0,c=o.length;s<c;s++)for(var u=o[s],l=0,f=u.vertexNormals.length;l<f;l++){var d=i[u[e[l]]],p=u.vertexNormals[l];Cl.copy(d).applyMatrix4(t),Al.copy(p).applyMatrix3(Ol).normalize().multiplyScalar(this.size).add(Cl),n.setXYZ(a,Cl.x,Cl.y,Cl.z),a+=1,n.setXYZ(a,Al.x,Al.y,Al.z),a+=1}else if(r&&r.isBufferGeometry)for(var h=r.attributes.position,m=r.attributes.normal,a=0,l=0,f=h.count;l<f;l++)Cl.set(h.getX(l),h.getY(l),h.getZ(l)).applyMatrix4(t),Al.set(m.getX(l),m.getY(l),m.getZ(l)),Al.applyMatrix3(Ol).normalize().multiplyScalar(this.size).add(Cl),n.setXYZ(a,Cl.x,Cl.y,Cl.z),a+=1,n.setXYZ(a,Al.x,Al.y,Al.z),a+=1;n.needsUpdate=!0}),((pf.prototype=Object.create(tr.prototype)).constructor=pf).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},pf.prototype.update=(Pl=new Ht,El=new Ht,function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Pl.setFromMatrixPosition(this.light.matrixWorld),El.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(El.sub(Pl)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}),((hf.prototype=Object.create(Ia.prototype)).constructor=hf).prototype.updateMatrixWorld=(Sl=new Ht,Ul=new Bt,kl=new Bt,function(e){var t=this.bones,n=this.geometry,r=n.getAttribute("position");kl.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(Ul.multiplyMatrices(kl,a.matrixWorld),Sl.setFromMatrixPosition(Ul),r.setXYZ(o,Sl.x,Sl.y,Sl.z),Ul.multiplyMatrices(kl,a.parent.matrixWorld),Sl.setFromMatrixPosition(Ul),r.setXYZ(o+1,Sl.x,Sl.y,Sl.z),o+=2)}n.getAttribute("position").needsUpdate=!0,tr.prototype.updateMatrixWorld.call(this,e)}),((mf.prototype=Object.create(gi.prototype)).constructor=mf).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},mf.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},((gf.prototype=Object.create(tr.prototype)).constructor=gf).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},gf.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,r=n.array;r[0]=e,r[1]=-t,r[2]=0,r[3]=e,r[4]=t,r[5]=0,r[6]=-e,r[7]=t,r[8]=0,r[9]=-e,r[10]=-t,r[11]=0,r[12]=e,r[13]=-t,r[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},((vf.prototype=Object.create(tr.prototype)).constructor=vf).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},vf.prototype.update=(_l=new Ht,Ml=new Un,Tl=new Un,function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Ml.copy(this.light.color),Tl.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?Ml:Tl;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(_l.setFromMatrixPosition(this.light.matrixWorld).negate())}),(yf.prototype=Object.create(Ia.prototype)).constructor=yf,(bf.prototype=Object.create(Ia.prototype)).constructor=bf,((xf.prototype=Object.create(Ia.prototype)).constructor=xf).prototype.update=(bl=new Ht,xl=new Ht,wl=new Gt,function(){this.object.updateMatrixWorld(!0),wl.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,r=n.vertices,i=n.faces,o=0,a=0,s=i.length;a<s;a++){var c=i[a],u=c.normal;bl.copy(r[c.a]).add(r[c.b]).add(r[c.c]).divideScalar(3).applyMatrix4(e),xl.copy(u).applyMatrix3(wl).normalize().multiplyScalar(this.size).add(bl),t.setXYZ(o,bl.x,bl.y,bl.z),o+=1,t.setXYZ(o,xl.x,xl.y,xl.z),o+=1}t.needsUpdate=!0}),((wf.prototype=Object.create(tr.prototype)).constructor=wf).prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},wf.prototype.update=(gl=new Ht,vl=new Ht,yl=new Ht,function(){gl.setFromMatrixPosition(this.light.matrixWorld),vl.setFromMatrixPosition(this.light.target.matrixWorld),yl.subVectors(vl,gl),this.lightPlane.lookAt(yl),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(yl),this.targetLine.scale.z=yl.length()}),((_f.prototype=Object.create(Ia.prototype)).constructor=_f).prototype.update=function(){var c,u,l=new Ht,f=new Ko;function e(e,t,n,r){l.set(t,n,r).unproject(f);var i=u[e];if(void 0!==i)for(var o=c.getAttribute("position"),a=0,s=i.length;a<s;a++)o.setXYZ(i[a],l.x,l.y,l.z)}return function(){c=this.geometry,u=this.pointMap,f.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),c.getAttribute("position").needsUpdate=!0}}(),((Mf.prototype=Object.create(Ia.prototype)).constructor=Mf).prototype.update=(ml=new gn,function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&ml.setFromObject(this.object),!ml.isEmpty()){var t=ml.min,n=ml.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}),Mf.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Mf.prototype.copy=function(e){return Ia.prototype.copy.call(this,e),this.object=e.object,this},Mf.prototype.clone=function(){return(new this.constructor).copy(this)},((Tf.prototype=Object.create(Ia.prototype)).constructor=Tf).prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),tr.prototype.updateMatrixWorld.call(this,e))},((Sf.prototype=Object.create(Oa.prototype)).constructor=Sf).prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?_e:N,this.lookAt(this.plane.normal),tr.prototype.updateMatrixWorld.call(this,e)},((Uf.prototype=Object.create(tr.prototype)).constructor=Uf).prototype.setDirection=(hl=new Ht,function(e){.99999<e.y?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(hl.set(e.z,0,-e.x).normalize(),pl=Math.acos(e.y),this.quaternion.setFromAxisAngle(hl,pl))}),Uf.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Uf.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Uf.prototype.copy=function(e){return tr.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Uf.prototype.clone=function(){return(new this.constructor).copy(this)},(kf.prototype=Object.create(Ia.prototype)).constructor=kf,Nc.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Nc.prototype),(e.prototype.constructor=e).prototype.getPoint=t,e},Object.assign(nu.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new lr,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new Ht(i.x,i.y,i.z||0))}return t}}),Object.assign(ru.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Pf.prototype=Object.create(Hc.prototype),Ef.prototype=Object.create(Hc.prototype),Cf.prototype=Object.create(Hc.prototype),Object.assign(Cf.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),yf.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},hf.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Tu.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),vu.extractUrlBase(e)}}),Object.assign(Su.prototype,{setTexturePath:function(e){return console.warn("THREE.JSONLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Uu.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(uf.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(gn.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),lf.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Vt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Vt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Vt.ceilPowerOfTwo(e)}}),Object.assign(Gt.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Bt.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return void 0===Wl&&(Wl=new Ht),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),Wl.setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),yn.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},zt.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(pi.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(hi.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(hi,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),hi.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),hi.getNormal(e,t,n,r)}}),Object.assign(iu.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Cs(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Bs(this,e)}}),Object.assign(Yt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ht.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(dn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(lr.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(tr.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(tr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ka.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Pa.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Nc.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),$o.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(ou.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(fr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(Rr.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Rr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(As.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Ql.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(fi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Un}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(rc.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(di.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(ba.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(ba.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ho.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(pn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(va.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),sl.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this,n=new nl;return n.load(e,function(e){t.setBuffer(e)}),this},ul.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},il.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Af={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};un.crossOrigin=void 0,un.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Lc;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},un.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Rc;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},un.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},un.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Of={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};e.WebGLRenderTargetCube=hn,e.WebGLRenderTarget=pn,e.WebGLRenderer=ba,e.ShaderLib=Cn,e.UniformsLib=En,e.UniformsUtils=Tn,e.ShaderChunk=Mn,e.FogExp2=xa,e.Fog=wa,e.Scene=_a,e.Sprite=Ua,e.LOD=ka,e.SkinnedMesh=Ca,e.Skeleton=Pa,e.Bone=Ea,e.Mesh=gi,e.LineSegments=Ia,e.LineLoop=Ra,e.Line=Oa,e.Points=Na,e.Group=Xo,e.VideoTexture=Da,e.DataTexture=mn,e.DataTexture3D=Ei,e.CompressedTexture=ja,e.CubeTexture=Pi,e.CanvasTexture=Fa,e.DepthTexture=Va,e.Texture=fn,e.AnimationLoader=Cc,e.CompressedTextureLoader=Ac,e.DataTextureLoader=Oc,e.CubeTextureLoader=Rc,e.TextureLoader=Lc,e.ObjectLoader=Uu,e.MaterialLoader=gu,e.BufferGeometryLoader=yu,e.DefaultLoadingManager=kc,e.LoadingManager=Uc,e.JSONLoader=Su,e.ImageLoader=Ic,e.ImageBitmapLoader=Au,e.FontLoader=Lu,e.FileLoader=Ec,e.Loader=Tu,e.LoaderUtils=vu,e.Cache=Sc,e.AudioLoader=nl,e.SpotLightShadow=cu,e.SpotLight=uu,e.PointLight=lu,e.RectAreaLight=mu,e.HemisphereLight=au,e.DirectionalLightShadow=du,e.DirectionalLight=pu,e.AmbientLight=hu,e.LightShadow=su,e.Light=ou,e.StereoCamera=rl,e.PerspectiveCamera=$o,e.OrthographicCamera=fu,e.CubeCamera=il,e.ArrayCamera=Jo,e.Camera=Ko,e.AudioListener=al,e.PositionalAudio=cl,e.AudioContext=tl,e.AudioAnalyser=ul,e.Audio=sl,e.VectorKeyframeTrack=_c,e.StringKeyframeTrack=wc,e.QuaternionKeyframeTrack=xc,e.NumberKeyframeTrack=yc,e.ColorKeyframeTrack=vc,e.BooleanKeyframeTrack=gc,e.PropertyMixer=ll,e.PropertyBinding=Kl,e.KeyframeTrack=mc,e.AnimationUtils=lc,e.AnimationObjectGroup=$l,e.AnimationMixer=Zl,e.AnimationClip=Mc,e.Uniform=Ql,e.InstancedBufferGeometry=ef,e.BufferGeometry=Rr,e.Geometry=lr,e.InterleavedBufferAttribute=Ta,e.InstancedInterleavedBuffer=tf,e.InterleavedBuffer=Ma,e.InstancedBufferAttribute=nf,e.Face3=In,e.Object3D=tr,e.Raycaster=rf,e.Layers=Ln,e.EventDispatcher=t,e.Clock=ol,e.QuaternionLinearInterpolant=bc,e.LinearInterpolant=pc,e.DiscreteInterpolant=hc,e.CubicInterpolant=dc,e.Interpolant=fc,e.Triangle=hi,e.Math=Vt,e.Spherical=sf,e.Cylindrical=cf,e.Plane=yn,e.Frustum=bn,e.Sphere=vn,e.Ray=pi,e.Matrix4=Bt,e.Matrix3=Gt,e.Box3=gn,e.Box2=uf,e.Line3=lf,e.Euler=Rn,e.Vector4=dn,e.Vector3=Ht,e.Vector2=Yt,e.Quaternion=zt,e.Color=Un,e.ImmediateRenderObject=ff,e.VertexNormalsHelper=df,e.SpotLightHelper=pf,e.SkeletonHelper=hf,e.PointLightHelper=mf,e.RectAreaLightHelper=gf,e.HemisphereLightHelper=vf,e.GridHelper=yf,e.PolarGridHelper=bf,e.FaceNormalsHelper=xf,e.DirectionalLightHelper=wf,e.CameraHelper=_f,e.BoxHelper=Mf,e.Box3Helper=Tf,e.PlaneHelper=Sf,e.ArrowHelper=Uf,e.AxesHelper=kf,e.Shape=iu,e.Path=ru,e.ShapePath=Ou,e.Font=Iu,e.CurvePath=nu,e.Curve=Nc,e.ImageUtils=un,e.ShapeUtils=ks,e.WebGLUtils=qo,e.WireframeGeometry=Ya,e.ParametricGeometry=Ba,e.ParametricBufferGeometry=za,e.TetrahedronGeometry=Wa,e.TetrahedronBufferGeometry=qa,e.OctahedronGeometry=Xa,e.OctahedronBufferGeometry=Ka,e.IcosahedronGeometry=$a,e.IcosahedronBufferGeometry=Ja,e.DodecahedronGeometry=Za,e.DodecahedronBufferGeometry=Qa,e.PolyhedronGeometry=Ha,e.PolyhedronBufferGeometry=Ga,e.TubeGeometry=es,e.TubeBufferGeometry=ts,e.TorusKnotGeometry=ns,e.TorusKnotBufferGeometry=rs,e.TorusGeometry=is,e.TorusBufferGeometry=os,e.TextGeometry=Rs,e.TextBufferGeometry=Ls,e.SphereGeometry=Ns,e.SphereBufferGeometry=Ds,e.RingGeometry=js,e.RingBufferGeometry=Fs,e.PlaneGeometry=Dr,e.PlaneBufferGeometry=jr,e.LatheGeometry=Vs,e.LatheBufferGeometry=Ys,e.ShapeGeometry=Bs,e.ShapeBufferGeometry=zs,e.ExtrudeGeometry=Cs,e.ExtrudeBufferGeometry=As,e.EdgesGeometry=Gs,e.ConeGeometry=Xs,e.ConeBufferGeometry=Ks,e.CylinderGeometry=Ws,e.CylinderBufferGeometry=qs,e.CircleGeometry=$s,e.CircleBufferGeometry=Js,e.BoxGeometry=Lr,e.BoxBufferGeometry=Nr,e.ShadowMaterial=Qs,e.SpriteMaterial=Sa,e.RawShaderMaterial=ec,e.ShaderMaterial=di,e.PointsMaterial=La,e.MeshPhysicalMaterial=nc,e.MeshStandardMaterial=tc,e.MeshPhongMaterial=rc,e.MeshToonMaterial=ic,e.MeshNormalMaterial=oc,e.MeshLambertMaterial=ac,e.MeshDepthMaterial=Bo,e.MeshDistanceMaterial=zo,e.MeshBasicMaterial=mi,e.MeshMatcapMaterial=sc,e.LineDashedMaterial=cc,e.LineBasicMaterial=Aa,e.Material=fi,e.Float64BufferAttribute=xr,e.Float32BufferAttribute=br,e.Uint32BufferAttribute=yr,e.Int32BufferAttribute=vr,e.Uint16BufferAttribute=gr,e.Int16BufferAttribute=mr,e.Uint8ClampedBufferAttribute=hr,e.Uint8BufferAttribute=pr,e.Int8BufferAttribute=dr,e.BufferAttribute=fr,e.ArcCurve=jc,e.CatmullRomCurve3=Hc,e.CubicBezierCurve=Xc,e.CubicBezierCurve3=Kc,e.EllipseCurve=Dc,e.LineCurve=$c,e.LineCurve3=Jc,e.QuadraticBezierCurve=Zc,e.QuadraticBezierCurve3=Qc,e.SplineCurve=eu,e.REVISION="98",e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},e.CullFaceNone=W,e.CullFaceBack=q,e.CullFaceFront=X,e.CullFaceFrontBack=3,e.FrontFaceDirectionCW=0,e.FrontFaceDirectionCCW=1,e.BasicShadowMap=0,e.PCFShadowMap=V,e.PCFSoftShadowMap=Y,e.FrontSide=N,e.BackSide=_e,e.DoubleSide=ne,e.FlatShading=1,e.SmoothShading=2,e.NoColors=M,e.FaceColors=1,e.VertexColors=T,e.NoBlending=K,e.NormalBlending=$,e.AdditiveBlending=J,e.SubtractiveBlending=Z,e.MultiplyBlending=Q,e.CustomBlending=ee,e.AddEquation=te,e.SubtractEquation=S,e.ReverseSubtractEquation=U,e.MinEquation=k,e.MaxEquation=P,e.ZeroFactor=E,e.OneFactor=C,e.SrcColorFactor=A,e.OneMinusSrcColorFactor=O,e.SrcAlphaFactor=I,e.OneMinusSrcAlphaFactor=R,e.DstAlphaFactor=L,e.OneMinusDstAlphaFactor=D,e.DstColorFactor=j,e.OneMinusDstColorFactor=F,e.SrcAlphaSaturateFactor=B,e.NeverDepth=re,e.AlwaysDepth=ie,e.LessDepth=oe,e.LessEqualDepth=ae,e.EqualDepth=se,e.GreaterEqualDepth=ce,e.GreaterDepth=ue,e.NotEqualDepth=le,e.MultiplyOperation=z,e.MixOperation=H,e.AddOperation=G,e.NoToneMapping=fe,e.LinearToneMapping=Me,e.ReinhardToneMapping=de,e.Uncharted2ToneMapping=pe,e.CineonToneMapping=he,e.UVMapping=300,e.CubeReflectionMapping=me,e.CubeRefractionMapping=ge,e.EquirectangularReflectionMapping=ve,e.EquirectangularRefractionMapping=ye,e.SphericalReflectionMapping=be,e.CubeUVReflectionMapping=xe,e.CubeUVRefractionMapping=we,e.RepeatWrapping=Te,e.ClampToEdgeWrapping=Se,e.MirroredRepeatWrapping=Ue,e.NearestFilter=ke,e.NearestMipMapNearestFilter=Pe,e.NearestMipMapLinearFilter=Ee,e.LinearFilter=Ce,e.LinearMipMapNearestFilter=Ae,e.LinearMipMapLinearFilter=Oe,e.UnsignedByteType=Ie,e.ByteType=Re,e.ShortType=Le,e.UnsignedShortType=Ne,e.IntType=De,e.UnsignedIntType=je,e.FloatType=Fe,e.HalfFloatType=Ve,e.UnsignedShort4444Type=Ye,e.UnsignedShort5551Type=Be,e.UnsignedShort565Type=ze,e.UnsignedInt248Type=He,e.AlphaFormat=Ge,e.RGBFormat=We,e.RGBAFormat=qe,e.LuminanceFormat=Xe,e.LuminanceAlphaFormat=Ke,e.RGBEFormat=$e,e.DepthFormat=Je,e.DepthStencilFormat=Ze,e.RedFormat=Qe,e.RGB_S3TC_DXT1_Format=et,e.RGBA_S3TC_DXT1_Format=tt,e.RGBA_S3TC_DXT3_Format=nt,e.RGBA_S3TC_DXT5_Format=rt,e.RGB_PVRTC_4BPPV1_Format=it,e.RGB_PVRTC_2BPPV1_Format=ot,e.RGBA_PVRTC_4BPPV1_Format=at,e.RGBA_PVRTC_2BPPV1_Format=st,e.RGB_ETC1_Format=ct,e.RGBA_ASTC_4x4_Format=ut,e.RGBA_ASTC_5x4_Format=lt,e.RGBA_ASTC_5x5_Format=ft,e.RGBA_ASTC_6x5_Format=dt,e.RGBA_ASTC_6x6_Format=pt,e.RGBA_ASTC_8x5_Format=ht,e.RGBA_ASTC_8x6_Format=mt,e.RGBA_ASTC_8x8_Format=gt,e.RGBA_ASTC_10x5_Format=vt,e.RGBA_ASTC_10x6_Format=yt,e.RGBA_ASTC_10x8_Format=bt,e.RGBA_ASTC_10x10_Format=xt,e.RGBA_ASTC_12x10_Format=wt,e.RGBA_ASTC_12x12_Format=_t,e.LoopOnce=2200,e.LoopRepeat=2201,e.LoopPingPong=2202,e.InterpolateDiscrete=Mt,e.InterpolateLinear=Tt,e.InterpolateSmooth=2302,e.ZeroCurvatureEnding=St,e.ZeroSlopeEnding=Ut,e.WrapAroundEnding=kt,e.TrianglesDrawMode=Pt,e.TriangleStripDrawMode=1,e.TriangleFanDrawMode=2,e.LinearEncoding=Et,e.sRGBEncoding=Ct,e.GammaEncoding=At,e.RGBEEncoding=Ot,e.LogLuvEncoding=3003,e.RGBM7Encoding=It,e.RGBM16Encoding=Rt,e.RGBDEncoding=Lt,e.BasicDepthPacking=Nt,e.RGBADepthPacking=Dt,e.TangentSpaceNormalMap=jt,e.ObjectSpaceNormalMap=Ft,e.CubeGeometry=Lr,e.Face4=function(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new In(e,t,n,i,o,a)},e.LineStrip=0,e.LinePieces=1,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MultiMaterial=function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,(e.materials=e).clone=function(){return e.slice()},e},e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Na(e,t)},e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Ua(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Na(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new La(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new La(e)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new La(e)},e.Vertex=function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ht(e,t,n)},e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new fr(e,t).setDynamic(!0)},e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new dr(e,t)},e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new pr(e,t)},e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new hr(e,t)},e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new mr(e,t)},e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new gr(e,t)},e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new vr(e,t)},e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new yr(e,t)},e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new br(e,t)},e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new xr(e,t)},e.ClosedSplineCurve3=Pf,e.SplineCurve3=Ef,e.Spline=Cf,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new kf(e)},e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Mf(e,t)},e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ia(new Gs(e.geometry),new Aa({color:void 0!==t?t:16777215}))},e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ia(new Ya(e.geometry),new Aa({color:void 0!==t?t:16777215}))},e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ec(e)},e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Oc(e)},e.GeometryUtils=Af,e.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},e.SceneUtils=Of,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},Object.defineProperty(e,"__esModule",{value:!0})}(t)},"4JlD":function(e,t,n){"use strict";var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(n,r,i,e){return r=r||"&",i=i||"=",null===n&&(n=void 0),"object"==typeof n?s(c(n),function(e){var t=encodeURIComponent(o(e))+i;return a(n[e])?s(n[e],function(e){return t+encodeURIComponent(o(e))}).join(r):t+encodeURIComponent(o(n[e]))}).join(r):e?encodeURIComponent(o(e))+i+encodeURIComponent(o(n)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var c=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"4LiD":function(e,t,n){"use strict";var v=n("dyZX"),y=n("XKFU"),b=n("KroJ"),x=n("3Lyj"),w=n("Z6vF"),_=n("SlkY"),M=n("9gX7"),T=n("0/R4"),S=n("eeVq"),U=n("XMVh"),k=n("fyDq"),P=n("Xbzi");e.exports=function(r,e,t,n,i,o){var a=v[r],s=a,c=i?"set":"add",u=s&&s.prototype,l={},f=function(e){var n=u[e];b(u,e,"delete"==e?function(e){return!(o&&!T(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!T(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!T(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})};if("function"==typeof s&&(o||u.forEach&&!S(function(){(new s).entries().next()}))){var d=new s,p=d[c](o?{}:-0,1)!=d,h=S(function(){d.has(1)}),m=U(function(e){new s(e)}),g=!o&&S(function(){for(var e=new s,t=5;t--;)e[c](t,t);return!e.has(-0)});m||(((s=e(function(e,t){M(e,s,r);var n=P(new a,e,s);return null!=t&&_(t,i,n[c],n),n})).prototype=u).constructor=s),(h||g)&&(f("delete"),f("has"),i&&f("get")),(g||p)&&f(c),o&&u.clear&&delete u.clear}else s=n.getConstructor(e,r,i,c),x(s.prototype,t),w.NEED=!0;return k(s,r),l[r]=s,y(y.G+y.W+y.F*(s!=a),l),o||n.setStrong(s,r,i),s}},"4R4u":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"4fDp":function(e,t,n){n("8rVx")(n("O0+K")),e.exports=window.Zepto},"52x2":function(e,t,n){"use strict";e.exports=function(){}},"55Il":function(e,t,n){"use strict";(function(e){n("W9dy"),n("FDph"),n("wYy3"),n("QNwp"),n("wDwx"),n("+Xmh"),n("zFFn"),n("JbTB"),n("TIpR"),n("FxUG"),n("74pp"),e._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),e._babelPolyfill=!0}).call(this,n("yLpj"))},"5K7Z":function(e,t,n){var r=n("93I4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"5Pf0":function(e,t,n){var r=n("S/j/"),i=n("OP3Y");n("Xtr8")("getPrototypeOf",function(){return function(e){return i(r(e))}})},"5T2Y":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"5vMV":function(e,t,n){var a=n("B+OT"),s=n("NsO/"),c=n("W070")(!1),u=n("VVlx")("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=u&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~c(o,n)||o.push(n));return o}},"5w+e":function(e,t,n){},"6/1s":function(e,t,n){var r=n("YqAc")("meta"),i=n("93I4"),o=n("B+OT"),a=n("2faE").f,s=0,c=Object.isExtensible||function(){return!0},u=!n("KUxP")(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!o(e,r)&&l(e),e}}},"694e":function(e,t,n){var r=n("EemH"),i=n("XKFU"),o=n("y3w9");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},"69bn":function(e,t,n){var i=n("y3w9"),o=n("2OiF"),a=n("K0xU")("species");e.exports=function(e,t){var n,r=i(e).constructor;return void 0===r||null==(n=i(r)[a])?t:o(n)}},"6AQ9":function(e,t,n){"use strict";var r=n("XKFU"),i=n("8a7r");r(r.S+r.F*n("eeVq")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)i(n,e,arguments[e++]);return n.length=t,n}})},"6FMO":function(e,t,n){var r=n("0/R4"),i=n("EWmC"),o=n("K0xU")("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},"6tYh":function(e,t,i){var n=i("93I4"),r=i("5K7Z"),o=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=i("2GTP")(Function.call,i("vwuL").f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:o}},"74pp":function(O,e){!function(e){"use strict";var c,t=Object.prototype,u=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag",a="object"==typeof O,s=e.regeneratorRuntime;if(s)a&&(O.exports=s);else{(s=e.regeneratorRuntime=a?O.exports:{}).wrap=b;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",m={},l={};l[i]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==t&&u.call(v,i)&&(l=v);var y=M.prototype=w.prototype=Object.create(l);_.prototype=y.constructor=M,M.constructor=_,M[o]=_.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,M):(e.__proto__=M,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(y),e},s.awrap=function(e){return{__await:e}},T(S.prototype),S.prototype[r]=function(){return this},s.AsyncIterator=S,s.async=function(e,t,n,r){var i=new S(b(e,t,n,r));return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},T(y),y[o]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},s.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=u.call(i,"catchLoc"),s=u.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=c),m}}}function b(e,t,n,r){var o,a,s,c,i=t&&t.prototype instanceof w?t:w,u=Object.create(i.prototype),l=new E(r||[]);return u._invoke=(o=e,a=n,s=l,c=f,function(e,t){if(c===p)throw new Error("Generator is already running");if(c===h){if("throw"===e)throw t;return A()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=U(n,s);if(r){if(r===m)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===f)throw c=h,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=p;var i=x(o,a,s);if("normal"===i.type){if(c=s.done?h:d,i.arg===m)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(c=h,s.method="throw",s.arg=i.arg)}}),u}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function _(){}function M(){}function T(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(c){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,i){var o=x(c[e],c,n);if("throw"!==o.type){var a=o.arg,s=a.value;return s&&"object"==typeof s&&u.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):Promise.resolve(s).then(function(e){a.value=e,r(a)},i)}i(o.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function U(e,t){var n=e.iterator[t.method];if(n===c){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=c,U(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=x(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=c),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=c,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:c,done:!0}}}(function(){return this}()||Function("return this")())},"7DDg":function(e,t,n){"use strict";if(n("nh4g")){var v=n("LQAc"),y=n("dyZX"),b=n("eeVq"),x=n("XKFU"),w=n("D4iV"),r=n("7Qtz"),d=n("m0Pp"),_=n("9gX7"),i=n("RjD/"),M=n("Mukb"),o=n("3Lyj"),a=n("RYi7"),T=n("ne8i"),S=n("Cfrj"),s=n("d/Gc"),c=n("apmT"),u=n("aagx"),U=n("I8a+"),k=n("0/R4"),p=n("S/j/"),h=n("M6Qj"),P=n("Kuth"),E=n("OP3Y"),C=n("kJMx").f,m=n("J+6e"),l=n("ylqs"),f=n("K0xU"),g=n("CkkT"),A=n("w2a5"),O=n("69bn"),I=n("yt8O"),R=n("hPIQ"),L=n("XMVh"),N=n("elZq"),D=n("Nr18"),j=n("upKx"),F=n("hswa"),V=n("EemH"),Y=F.f,B=V.f,z=y.RangeError,H=y.TypeError,G=y.Uint8Array,W="ArrayBuffer",q="Shared"+W,X="BYTES_PER_ELEMENT",K="prototype",$=Array[K],J=r.ArrayBuffer,Z=r.DataView,Q=g(0),ee=g(2),te=g(3),ne=g(4),re=g(5),ie=g(6),oe=A(!0),ae=A(!1),se=I.values,ce=I.keys,ue=I.entries,le=$.lastIndexOf,fe=$.reduce,de=$.reduceRight,pe=$.join,he=$.sort,me=$.slice,ge=$.toString,ve=$.toLocaleString,ye=f("iterator"),be=f("toStringTag"),xe=l("typed_constructor"),we=l("def_constructor"),_e=w.CONSTR,Me=w.TYPED,Te=w.VIEW,Se="Wrong length!",Ue=g(1,function(e,t){return Ae(O(e,e[we]),t)}),ke=b(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Pe=!!G&&!!G[K].set&&b(function(){new G(1).set({})}),Ee=function(e,t){var n=a(e);if(n<0||n%t)throw z("Wrong offset!");return n},Ce=function(e){if(k(e)&&Me in e)return e;throw H(e+" is not a typed array!")},Ae=function(e,t){if(!(k(e)&&xe in e))throw H("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Ie(O(e,e[we]),t)},Ie=function(e,t){for(var n=0,r=t.length,i=Ae(e,r);n<r;)i[n]=t[n++];return i},Re=function(e,t,n){Y(e,t,{get:function(){return this._d[n]}})},Le=function(e){var t,n,r,i,o,a,s=p(e),c=arguments.length,u=1<c?arguments[1]:void 0,l=void 0!==u,f=m(s);if(null!=f&&!h(f)){for(a=f.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(l&&2<c&&(u=d(u,arguments[2],2)),t=0,n=T(s.length),i=Ae(this,n);t<n;t++)i[t]=l?u(s[t],t):s[t];return i},Ne=function(){for(var e=0,t=arguments.length,n=Ae(this,t);e<t;)n[e]=arguments[e++];return n},De=!!G&&b(function(){ve.call(new G(1))}),je=function(){return ve.apply(De?me.call(Ce(this)):Ce(this),arguments)},Fe={copyWithin:function(e,t){return j.call(Ce(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return ne(Ce(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return D.apply(Ce(this),arguments)},filter:function(e){return Oe(this,ee(Ce(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return re(Ce(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ie(Ce(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){Q(Ce(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return ae(Ce(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return oe(Ce(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return pe.apply(Ce(this),arguments)},lastIndexOf:function(e){return le.apply(Ce(this),arguments)},map:function(e){return Ue(Ce(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return fe.apply(Ce(this),arguments)},reduceRight:function(e){return de.apply(Ce(this),arguments)},reverse:function(){for(var e,t=Ce(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return te(Ce(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return he.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),r=n.length,i=s(e,r);return new(O(n,n[we]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,T((void 0===t?r:s(t,r))-i))}},Ve=function(e,t){return Oe(this,me.call(Ce(this),e,t))},Ye=function(e){Ce(this);var t=Ee(arguments[1],1),n=this.length,r=p(e),i=T(r.length),o=0;if(n<i+t)throw z(Se);for(;o<i;)this[t+o]=r[o++]},Be={entries:function(){return ue.call(Ce(this))},keys:function(){return ce.call(Ce(this))},values:function(){return se.call(Ce(this))}},ze=function(e,t){return k(e)&&e[Me]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},He=function(e,t){return ze(e,t=c(t,!0))?i(2,e[t]):B(e,t)},Ge=function(e,t,n){return!(ze(e,t=c(t,!0))&&k(n)&&u(n,"value"))||u(n,"get")||u(n,"set")||n.configurable||u(n,"writable")&&!n.writable||u(n,"enumerable")&&!n.enumerable?Y(e,t,n):(e[t]=n.value,e)};_e||(V.f=He,F.f=Ge),x(x.S+x.F*!_e,"Object",{getOwnPropertyDescriptor:He,defineProperty:Ge}),b(function(){ge.call({})})&&(ge=ve=function(){return pe.call(this)});var We=o({},Fe);o(We,Be),M(We,ye,Be.values),o(We,{slice:Ve,set:Ye,constructor:function(){},toString:ge,toLocaleString:je}),Re(We,"buffer","b"),Re(We,"byteOffset","o"),Re(We,"byteLength","l"),Re(We,"length","e"),Y(We,be,{get:function(){return this[Me]}}),e.exports=function(e,f,t,o){var d=e+((o=!!o)?"Clamped":"")+"Array",n="get"+e,a="set"+e,p=y[d],s=p||{},r=p&&E(p),i=!p||!w.ABV,c={},u=p&&p[K],h=function(e,i){Y(e,i,{get:function(){return e=i,(t=this._d).v[n](e*f+t.o,ke);var e,t},set:function(e){return t=i,n=e,r=this._d,o&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),void r.v[a](t*f+r.o,n,ke);var t,n,r},enumerable:!0})};i?(p=t(function(e,t,n,r){_(e,p,d,"_d");var i,o,a,s,c=0,u=0;if(k(t)){if(!(t instanceof J||(s=U(t))==W||s==q))return Me in t?Ie(p,t):Le.call(p,t);i=t,u=Ee(n,f);var l=t.byteLength;if(void 0===r){if(l%f)throw z(Se);if((o=l-u)<0)throw z(Se)}else if(l<(o=T(r)*f)+u)throw z(Se);a=o/f}else a=S(t),i=new J(o=a*f);for(M(e,"_d",{b:i,o:u,l:o,e:a,v:new Z(i)});c<a;)h(e,c++)}),u=p[K]=P(We),M(u,"constructor",p)):b(function(){p(1)})&&b(function(){new p(-1)})&&L(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=t(function(e,t,n,r){var i;return _(e,p,d),k(t)?t instanceof J||(i=U(t))==W||i==q?void 0!==r?new s(t,Ee(n,f),r):void 0!==n?new s(t,Ee(n,f)):new s(t):Me in t?Ie(p,t):Le.call(p,t):new s(S(t))}),Q(r!==Function.prototype?C(s).concat(C(r)):C(s),function(e){e in p||M(p,e,s[e])}),p[K]=u,v||(u.constructor=p));var l=u[ye],m=!!l&&("values"==l.name||null==l.name),g=Be.values;M(p,xe,!0),M(u,Me,d),M(u,Te,!0),M(u,we,p),(o?new p(1)[be]==d:be in u)||Y(u,be,{get:function(){return d}}),c[d]=p,x(x.G+x.W+x.F*(p!=s),c),x(x.S,d,{BYTES_PER_ELEMENT:f}),x(x.S+x.F*b(function(){s.of.call(p,1)}),d,{from:Le,of:Ne}),X in u||M(u,X,f),x(x.P,d,Fe),N(d),x(x.P+x.F*Pe,d,{set:Ye}),x(x.P+x.F*!m,d,Be),v||u.toString==ge||(u.toString=ge),x(x.P+x.F*b(function(){new p(1).slice()}),d,{slice:Ve}),x(x.P+x.F*(b(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!b(function(){u.toLocaleString.call([1,2])})),d,{toLocaleString:je}),R[d]=m?l:g,v||m||M(u,ye,g)}}else e.exports=function(){}},"7PmA":function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},"7Qtz":function(e,t,n){"use strict";var r=n("dyZX"),i=n("nh4g"),o=n("LQAc"),a=n("D4iV"),s=n("Mukb"),c=n("3Lyj"),u=n("eeVq"),l=n("9gX7"),f=n("RYi7"),d=n("ne8i"),p=n("Cfrj"),h=n("kJMx").f,m=n("hswa").f,g=n("Nr18"),v=n("fyDq"),y="ArrayBuffer",b="DataView",x="prototype",w="Wrong index!",_=r[y],M=r[b],T=r.Math,S=r.RangeError,U=r.Infinity,k=_,P=T.abs,E=T.pow,C=T.floor,A=T.log,O=T.LN2,I="byteLength",R="byteOffset",L=i?"_b":"buffer",N=i?"_l":I,D=i?"_o":R;function j(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?E(2,-24)-E(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=P(e))!=e||e===U?(i=e!=e?1:0,r=c):(r=C(A(e)/O),e*(o=E(2,-r))<1&&(r--,o*=2),2<=(e+=1<=r+u?l/o:l*E(2,1-u))*o&&(r++,o/=2),c<=r+u?(i=0,r=c):1<=r+u?(i=(e*o-1)*E(2,t),r+=u):(i=e*E(2,u-1)*E(2,t),r=0));8<=t;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;0<s;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function F(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;0<s;l=256*l+e[c],c--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;0<s;r=256*r+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:u?-U:U;r+=E(2,t),l-=a}return(u?-1:1)*r*E(2,l-t)}function V(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function Y(e){return[255&e]}function B(e){return[255&e,e>>8&255]}function z(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function H(e){return j(e,52,8)}function G(e){return j(e,23,4)}function W(e,t,n){m(e[x],t,{get:function(){return this[n]}})}function q(e,t,n,r){var i=p(+n);if(i+t>e[N])throw S(w);var o=e[L]._b,a=i+e[D],s=o.slice(a,a+t);return r?s:s.reverse()}function X(e,t,n,r,i,o){var a=p(+n);if(a+t>e[N])throw S(w);for(var s=e[L]._b,c=a+e[D],u=r(+i),l=0;l<t;l++)s[c+l]=u[o?l:t-l-1]}if(a.ABV){if(!u(function(){_(1)})||!u(function(){new _(-1)})||u(function(){return new _,new _(1.5),new _(NaN),_.name!=y})){for(var K,$=(_=function(e){return l(this,_),new k(p(e))})[x]=k[x],J=h(k),Z=0;J.length>Z;)(K=J[Z++])in _||s(_,K,k[K]);o||($.constructor=_)}var Q=new M(new _(2)),ee=M[x].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||c(M[x],{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else _=function(e){l(this,_,y);var t=p(e);this._b=g.call(new Array(t),0),this[N]=t},M=function(e,t,n){l(this,M,b),l(e,_,b);var r=e[N],i=f(t);if(i<0||r<i)throw S("Wrong offset!");if(r<i+(n=void 0===n?r-i:d(n)))throw S("Wrong length!");this[L]=e,this[D]=i,this[N]=n},i&&(W(_,I,"_l"),W(M,"buffer","_b"),W(M,I,"_l"),W(M,R,"_o")),c(M[x],{getInt8:function(e){return q(this,1,e)[0]<<24>>24},getUint8:function(e){return q(this,1,e)[0]},getInt16:function(e){var t=q(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=q(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return V(q(this,4,e,arguments[1]))},getUint32:function(e){return V(q(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return F(q(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return F(q(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){X(this,1,e,Y,t)},setUint8:function(e,t){X(this,1,e,Y,t)},setInt16:function(e,t){X(this,2,e,B,t,arguments[2])},setUint16:function(e,t){X(this,2,e,B,t,arguments[2])},setInt32:function(e,t){X(this,4,e,z,t,arguments[2])},setUint32:function(e,t){X(this,4,e,z,t,arguments[2])},setFloat32:function(e,t){X(this,4,e,G,t,arguments[2])},setFloat64:function(e,t){X(this,8,e,H,t,arguments[2])}});v(_,y),v(M,b),s(M[x],a.VIEW,!0),t[y]=_,t[b]=M},"7VC1":function(e,t,n){"use strict";var r=n("XKFU"),i=n("Lgjv"),o=n("ol8x");r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},"7h0T":function(e,t,n){var r=n("XKFU");r(r.S,"Number",{isNaN:function(e){return e!=e}})},"7uVY":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"8+KV":function(e,t,n){"use strict";var r=n("XKFU"),i=n("CkkT")(0),o=n("LyE8")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},"84bF":function(e,t,n){"use strict";n("OGtf")("small",function(e){return function(){return e(this,"small","","")}})},"86bp":function(e,t,n){"use strict";var r=n("YsTz"),i=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return i.call(arguments,function(e){r(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},"8MEG":function(e,t,n){"use strict";var o=n("2OiF"),a=n("0/R4"),s=n("MfQN"),c=[].slice,u={};e.exports=Function.bind||function(t){var n=o(this),r=c.call(arguments,1),i=function(){var e=r.concat(c.call(arguments));return this instanceof i?function(e,t,n){if(!(t in u)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)}(n,e.length,e):s(n,e,t)};return a(n.prototype)&&(i.prototype=n.prototype),i}},"8NXd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("QbLZ")),i=m(n("jo6Y")),o=m(n("YEIV")),a=m(n("Yz+Y")),s=m(n("iCc5")),c=m(n("V7oC")),u=m(n("FYw3")),l=m(n("mRg0")),f=n("q1tI"),d=m(f),p=m(n("17x9")),h=m(n("TSYQ"));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function n(e){(0,s.default)(this,n);var t=(0,u.default)(this,(n.__proto__||(0,a.default)(n)).call(this,e));return t.getInp=t.getInp.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t}return(0,l.default)(n,e),(0,c.default)(n,[{key:"getInp",value:function(e){this.input=e}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.onEnter,r=t.onKeyDown;n&&13===e.keyCode&&n(e),r&&r(e)}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"getClassName",value:function(){var e,t=this.props,n=t.className,r=t.disabled;return(0,h.default)("u-input",(e={},(0,o.default)(e,n,!!n),(0,o.default)(e,"z-dis",r),e))}},{key:"render",value:function(){var e=this.props,t=(e.className,e.onEnter,e.onKeyDown,(0,i.default)(e,["className","onEnter","onKeyDown"]));return d.default.createElement("input",(0,r.default)({},t,{className:this.getClassName(),ref:this.getInp,onKeyDown:this.handleKeyDown}))}}]),n}(f.PureComponent);g.propTypes={disabled:p.default.bool,type:p.default.string,value:p.default.any,className:p.default.string,onEnter:p.default.func,onKeyDown:p.default.func},g.defaultProps={type:"text",disabled:!1},t.default=g,e.exports=t.default},"8PcY":function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i,t.getInitialChildMapping=function(t,n){return r(t.children,function(e){return(0,f.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:d(e,"appear",t),enter:d(e,"enter",t),exit:d(e,"exit",t)})})},t.getNextChildMapping=function(a,s,c){var u=r(a.children),l=i(s,u);return Object.keys(l).forEach(function(e){var t=l[e];if((0,f.isValidElement)(t)){var n=e in s,r=e in u,i=s[e],o=(0,f.isValidElement)(i)&&!i.props.in;!r||n&&!o?r||!n||o?r&&n&&(0,f.isValidElement)(i)&&(l[e]=(0,f.cloneElement)(t,{onExited:c.bind(null,t),in:i.props.in,exit:d(t,"exit",a),enter:d(t,"enter",a)})):l[e]=(0,f.cloneElement)(t,{in:!1}):l[e]=(0,f.cloneElement)(t,{onExited:c.bind(null,t),in:!0,exit:d(t,"exit",a),enter:d(t,"enter",a)})}}),l};var f=n("q1tI");function r(e,n){var r=Object.create(null);return e&&f.Children.map(e,function(e){return e}).forEach(function(e){var t;r[e.key]=(t=e,n&&(0,f.isValidElement)(t)?n(t):t)}),r}function i(t,n){function e(e){return e in n?n[e]:t[e]}t=t||{},n=n||{};var r,i=Object.create(null),o=[];for(var a in t)a in n?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var c in n){if(i[c])for(r=0;r<i[c].length;r++){var u=i[c][r];s[i[c][r]]=e(u)}s[c]=e(c)}for(r=0;r<o.length;r++)s[o[r]]=e(o[r]);return s}function d(e,t,n){return null!=n[t]?n[t]:e.props[t]}},"8a7r":function(e,t,n){"use strict";var r=n("hswa"),i=n("RjD/");e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},"8rVx":function(e,t){e.exports=function(e){function t(e){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",e)}try{"undefined"!=typeof execScript&&"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener?execScript(e):"undefined"!=typeof eval?eval.call(null,e):t("EvalError: No eval function available")}catch(e){t(e)}}},"9/5/":function(i,e,t){(function(e){var o=NaN,a="[object Symbol]",s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt,t="object"==typeof e&&e&&e.Object===Object&&e,n="object"==typeof self&&self&&self.Object===Object&&self,r=t||n||Function("return this")(),d=Object.prototype.toString,y=Math.max,b=Math.min,x=function(){return r.Date.now()};function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&d.call(t)==a)return o;var t,n;if(w(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=w(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=u.test(e);return i||l.test(e)?f(e.slice(2),i?2:8):c.test(e)?o:+e}i.exports=function(r,i,e){var o,a,s,c,u,l,f=0,d=!1,p=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function h(e){var t=o,n=a;return o=a=void 0,f=e,c=r.apply(n,t)}function m(e){var t=e-l;return void 0===l||i<=t||t<0||p&&s<=e-f}function g(){var e,t,n=x();if(m(n))return v(n);u=setTimeout(g,(t=i-((e=n)-l),p?b(t,s-(e-f)):t))}function v(e){return u=void 0,t&&o?h(e):(o=a=void 0,c)}function n(){var e,t=x(),n=m(t);if(o=arguments,a=this,l=t,n){if(void 0===u)return f=e=l,u=setTimeout(g,i),d?h(e):c;if(p)return u=setTimeout(g,i),h(l)}return void 0===u&&(u=setTimeout(g,i)),c}return i=_(i)||0,w(e)&&(d=!!e.leading,s=(p="maxWait"in e)?y(_(e.maxWait)||0,i):s,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==u&&clearTimeout(u),o=l=a=u=void(f=0)},n.flush=function(){return void 0===u?c:v(x())},n}}).call(this,t("yLpj"))},"91GP":function(e,t,n){var r=n("XKFU");r(r.S+r.F,"Object",{assign:n("czNK")})},"93I4":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"94Z+":function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},"9AAn":function(e,t,n){"use strict";var r=n("wmvG"),i=n("s5qY");e.exports=n("4LiD")("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},"9P93":function(e,t,n){var r=n("XKFU"),i=Math.imul;r(r.S+r.F*n("eeVq")(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},"9Qh4":function(e,t,n){"use strict";var s=n("IDEf"),c=n("86bp"),u=n("nA++"),l=n("+XMV");(e.exports=function(e,t){var n,r,i,o,a;return arguments.length<2||"string"!=typeof e?(o=t,t=e,e=null):o=arguments[2],null==e?(n=i=!0,r=!1):(n=l.call(e,"c"),r=l.call(e,"e"),i=l.call(e,"w")),a={value:t,configurable:n,enumerable:r,writable:i},o?s(c(o),a):a}).gs=function(e,t,n){var r,i,o,a;return"string"!=typeof e?(o=n,n=t,t=e,e=null):o=arguments[3],null==t?t=void 0:u(t)?null==n?n=void 0:u(n)||(o=n,n=void 0):(o=t,t=n=void 0),i=null==e?!(r=!0):(r=l.call(e,"c"),l.call(e,"e")),a={get:t,set:n,configurable:r,enumerable:i},o?s(c(o),a):a}},"9VmF":function(e,t,n){"use strict";var r=n("XKFU"),i=n("ne8i"),o=n("0sh+"),a="startsWith",s=""[a];r(r.P+r.F*n("UUeW")(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},"9XZr":function(e,t,n){"use strict";var r=n("XKFU"),i=n("Lgjv"),o=n("ol8x");r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},"9g66":function(e,t,n){"use strict";var a=n("e989"),s=n("lq5y"),c=Math.max;e.exports=function(t,n){var r,e,i,o=c(arguments.length,2);for(t=Object(s(t)),i=function(e){try{t[e]=n[e]}catch(e){r||(r=e)}},e=1;e<o;++e)n=arguments[e],a(n).forEach(i);if(void 0!==r)throw r;return t}},"9gX7":function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},"9rMk":function(e,t,n){var r=n("XKFU");r(r.S,"Reflect",{has:function(e,t){return t in e}})},A2zW:function(e,t,n){"use strict";var r=n("XKFU"),u=n("RYi7"),l=n("vvmO"),f=n("l0Rn"),i=1..toFixed,o=Math.floor,a=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",p=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*a[n],a[n]=r%1e7,r=o(r/1e7)},h=function(e){for(var t=6,n=0;0<=--t;)n+=a[t],a[t]=o(n/e),n=n%e*1e7},m=function(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==a[e]){var n=String(a[e]);t=""===t?n:t+f.call("0",7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)};r(r.P+r.F*(!!i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n("eeVq")(function(){i.call({})})),"Number",{toFixed:function(e){var t,n,r,i,o=l(this,d),a=u(e),s="",c="0";if(a<0||20<a)throw RangeError(d);if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(s="-",o=-o),1e-21<o)if(n=(t=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(o*g(2,69,1))-69)<0?o*g(2,-t,1):o/g(2,t,1),n*=4503599627370496,0<(t=52-t)){for(p(0,n),r=a;7<=r;)p(1e7,0),r-=7;for(p(g(10,r,1),0),r=t-1;23<=r;)h(1<<23),r-=23;h(1<<r),p(1,1),h(2),c=m()}else p(0,n),p(1<<-t,0),c=m()+f.call("0",a);return c=0<a?s+((i=c.length)<=a?"0."+f.call("0",a-i)+c:c.slice(0,i-a)+"."+c.slice(i-a)):s+c}})},A5Xg:function(e,t,n){var r=n("NsO/"),i=n("ar/p").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},ANjH:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var p=n("bCCX"),r=function(){return Math.random().toString(36).substring(7).split("").join(".")},h={INIT:"@@redux/INIT"+r(),REPLACE:"@@redux/REPLACE"+r(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r()}};function m(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function g(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(g)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,o=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var n=!0;return u(),s.push(t),function(){if(n){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");n=!1,u();var e=s.indexOf(t);s.splice(e,1)}}}function d(e){if(!m(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=i(o,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:h.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,d({type:h.REPLACE})}})[p.a]=function(){var e,n=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(l())}return t(),{unsubscribe:n(t)}}})[p.a]=function(){return this},e},r}},AUvm:function(e,t,n){"use strict";var r=n("5T2Y"),a=n("B+OT"),i=n("jmDH"),o=n("Y7ZC"),s=n("kTiW"),c=n("6/1s").KEY,u=n("KUxP"),l=n("29s/"),f=n("RfKB"),d=n("YqAc"),p=n("UWiX"),h=n("zLkG"),m=n("Zxgi"),g=n("R+7+"),v=n("kAMH"),y=n("5K7Z"),b=n("93I4"),x=n("NsO/"),w=n("G8Mo"),_=n("rr1i"),M=n("oVml"),T=n("A5Xg"),S=n("vwuL"),U=n("2faE"),k=n("w6GO"),P=S.f,E=U.f,C=T.f,A=r.Symbol,O=r.JSON,I=O&&O.stringify,R="prototype",L=p("_hidden"),N=p("toPrimitive"),D={}.propertyIsEnumerable,j=l("symbol-registry"),F=l("symbols"),V=l("op-symbols"),Y=Object[R],B="function"==typeof A,z=r.QObject,H=!z||!z[R]||!z[R].findChild,G=i&&u(function(){return 7!=M(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(Y,t);r&&delete Y[t],E(e,t,n),r&&e!==Y&&E(Y,t,r)}:E,W=function(e){var t=F[e]=M(A[R]);return t._k=e,t},q=B&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},X=function(e,t,n){return e===Y&&X(V,t,n),y(e),t=w(t,!0),y(n),a(F,t)?(n.enumerable?(a(e,L)&&e[L][t]&&(e[L][t]=!1),n=M(n,{enumerable:_(0,!1)})):(a(e,L)||E(e,L,_(1,{})),e[L][t]=!0),G(e,t,n)):E(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=x(t)),i=0,o=r.length;i<o;)X(e,n=r[i++],t[n]);return e},$=function(e){var t=D.call(this,e=w(e,!0));return!(this===Y&&a(F,e)&&!a(V,e))&&(!(t||!a(this,e)||!a(F,e)||a(this,L)&&this[L][e])||t)},J=function(e,t){if(e=x(e),t=w(t,!0),e!==Y||!a(F,t)||a(V,t)){var n=P(e,t);return!n||!a(F,t)||a(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=C(x(e)),r=[],i=0;n.length>i;)a(F,t=n[i++])||t==L||t==c||r.push(t);return r},Q=function(e){for(var t,n=e===Y,r=C(n?V:x(e)),i=[],o=0;r.length>o;)!a(F,t=r[o++])||n&&!a(Y,t)||i.push(F[t]);return i};B||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(0<arguments.length?arguments[0]:void 0),n=function(e){this===Y&&n.call(V,e),a(this,L)&&a(this[L],t)&&(this[L][t]=!1),G(this,t,_(1,e))};return i&&H&&G(Y,t,{configurable:!0,set:n}),W(t)})[R],"toString",function(){return this._k}),S.f=J,U.f=X,n("ar/p").f=T.f=Z,n("NV0k").f=$,n("mqlF").f=Q,i&&!n("uOPS")&&s(Y,"propertyIsEnumerable",$,!0),h.f=function(e){return W(p(e))}),o(o.G+o.W+o.F*!B,{Symbol:A});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=k(p.store),re=0;ne.length>re;)m(ne[re++]);o(o.S+o.F*!B,"Symbol",{for:function(e){return a(j,e+="")?j[e]:j[e]=A(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!B,"Object",{create:function(e,t){return void 0===t?M(e):K(M(e),t)},defineProperty:X,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),O&&o(o.S+o.F*(!B||u(function(){var e=A();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!q(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,I.apply(O,r)}}),A[R][N]||n("NegM")(A[R],N,A[R].valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},AZa5:function(e,t,n){var r=n("Wogr"),i=n("u/Db");function o(e){this.mode=i.BYTE,this.data=new r(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=o},Afnz:function(e,t,n){"use strict";var b=n("LQAc"),x=n("XKFU"),w=n("KroJ"),_=n("Mukb"),M=n("hPIQ"),T=n("QaDb"),S=n("fyDq"),U=n("OP3Y"),k=n("K0xU")("iterator"),P=!([].keys&&"next"in[].keys()),E="values",C=function(){return this};e.exports=function(e,t,n,r,i,o,a){T(n,t,r);var s,c,u,l=function(e){if(!P&&e in h)return h[e];switch(e){case"keys":case E:return function(){return new n(this,e)}}return function(){return new n(this,e)}},f=t+" Iterator",d=i==E,p=!1,h=e.prototype,m=h[k]||h["@@iterator"]||i&&h[i],g=m||l(i),v=i?d?l("entries"):g:void 0,y="Array"==t&&h.entries||m;if(y&&(u=U(y.call(new e)))!==Object.prototype&&u.next&&(S(u,f,!0),b||"function"==typeof u[k]||_(u,k,C)),d&&m&&m.name!==E&&(p=!0,g=function(){return m.call(this)}),b&&!a||!P&&!p&&h[k]||_(h,k,g),M[t]=g,M[f]=C,i)if(s={values:d?g:l(E),keys:o?g:l("keys"),entries:v},a)for(c in s)c in h||w(h,c,s[c]);else x(x.P+x.F*(P||p),t,s);return s}},ApPD:function(e,t,n){var r=n("JB68"),i=n("U+KD");n("zn7N")("getPrototypeOf",function(){return function(e){return i(r(e))}})},AphP:function(e,t,n){"use strict";var r=n("XKFU"),i=n("S/j/"),o=n("apmT");r(r.P+r.F*n("eeVq")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},AvRE:function(e,t,n){var c=n("RYi7"),u=n("vhPU");e.exports=function(s){return function(e,t){var n,r,i=String(u(e)),o=c(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},AyUB:function(e,t,n){e.exports={default:n("3GJH"),__esModule:!0}},"B+OT":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},BC7C:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{fround:n("kcoS")})},BCVQ:function(e,t){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(r,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},"BJ/l":function(e,t,n){var r=n("XKFU");r(r.S,"Math",{log1p:n("1sa7")})},BP8U:function(e,t,n){var r=n("XKFU"),i=n("PKUr");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},Btvt:function(e,t,n){"use strict";var r=n("I8a+"),i={};i[n("K0xU")("toStringTag")]="z",i+""!="[object z]"&&n("KroJ")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},"C/va":function(e,t,n){"use strict";var r=n("y3w9");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},CX2u:function(e,t,n){"use strict";var r=n("XKFU"),i=n("g3g5"),o=n("dyZX"),a=n("69bn"),s=n("vKrd");r(r.P+r.R,"Promise",{finally:function(t){var n=a(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return s(n,t()).then(function(){return e})}:t,e?function(e){return s(n,t()).then(function(){throw e})}:t)}})},Cfrj:function(e,t,n){var r=n("RYi7"),i=n("ne8i");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},CkkT:function(e,t,n){var b=n("m0Pp"),x=n("Ymqv"),w=n("S/j/"),_=n("ne8i"),r=n("zRwo");e.exports=function(f,e){var d=1==f,p=2==f,h=3==f,m=4==f,g=6==f,v=5==f||g,y=e||r;return function(e,t,n){for(var r,i,o=w(e),a=x(o),s=b(t,n,3),c=_(a.length),u=0,l=d?y(e,c):p?y(e,0):void 0;u<c;u++)if((v||u in a)&&(i=s(r=a[u],u,o),f))if(d)l[u]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return u;case 2:l.push(r)}else if(m)return!1;return g?-1:h||m?m:l}}},CyHz:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{sign:n("lvtm")})},D4iV:function(e,t,n){for(var r,i=n("dyZX"),o=n("Mukb"),a=n("ylqs"),s=a("typed_array"),c=a("view"),u=!(!i.ArrayBuffer||!i.DataView),l=u,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,s,!0),o(r.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},D8kY:function(e,t,n){var r=n("Ojgd"),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},DNiP:function(e,t,n){"use strict";var r=n("XKFU"),i=n("eyMr");r(r.P+r.F*!n("LyE8")([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},DVgA:function(e,t,n){var r=n("zhAb"),i=n("4R4u");e.exports=Object.keys||function(e){return r(e,i)}},DW2E:function(e,t,n){var r=n("0/R4"),i=n("Z6vF").onFreeze;n("Xtr8")("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},Do9G:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUrl=t.stringify=t.parse=void 0;var r,i=n("EJiy"),x=(r=i)&&r.__esModule?r:{default:r},w=n("ZGPq");var _=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,M=["hash","host","hostname","href","origin","pathname","port","protocol","search"],o=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n="";e?n=e:"undefined"!=typeof window&&(n=window.location);var r={},i=t.localhost,o=t.onlinehost;if(i=i||"igame.163.com",o=o||"music.163.com",n)if("string"==typeof n){var a=n.match(_);if(null!==a){var s=a[1]?a[1]+":":"",c=a[7]?"#"+a[7]:"",u=a[3]||"",l=a[4]||"",f=a[5]?"/"+a[5]:"",d=[u],p=a[6]?"?"+a[6]:"";l&&d.push(l),r={hash:c,host:d.join(":"),hostname:u,href:e,origin:s+"//"+d,pathname:f,port:l,protocol:s,search:p}}}else"object"===(void 0===n?"undefined":(0,x.default)(n))&&M.forEach(function(e){"function"!=typeof n[e]&&(r[e]=n[e])});var h=r,m=h.search,g=h.hostname,v=h.protocol;r.params=(0,w.parse)(m);var y=g||o;"localhost"===g&&(y=i);var b="http:";return v&&(b=-1!==v.indexOf(":")?v:v+":"),r.currentHost=b+"//"+y,r};t.parse=w.parse,t.stringify=w.stringify,t.createUrl=o,t.default=o()},EJiy:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n("F+2o")),i=a(n("+JPL")),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},EK0E:function(e,t,n){"use strict";var o,r=n("CkkT")(0),a=n("KroJ"),i=n("Z6vF"),s=n("czNK"),c=n("ZD67"),u=n("0/R4"),l=n("eeVq"),f=n("s5qY"),d="WeakMap",p=i.getWeak,h=Object.isExtensible,m=c.ufstore,g={},v=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},y={get:function(e){if(u(e)){var t=p(e);return!0===t?m(f(this,d)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(f(this,d),e,t)}},b=e.exports=n("4LiD")(d,v,y,c,!0,!0);l(function(){return 7!=(new b).set((Object.freeze||Object)(g),7).get(g)})&&(s((o=c.getConstructor(v,d)).prototype,y),i.NEED=!0,r(["delete","has","get","set"],function(r){var e=b.prototype,i=e[r];a(e,r,function(e,t){if(!u(e)||h(e))return i.call(this,e,t);this._f||(this._f=new o);var n=this._f[r](e,t);return"set"==r?this:n})}))},ELBg:function(e,t,n){"use strict";var h={single_source_shortest_paths:function(e,t,n){var r={},i={};i[t]=0;var o,a,s,c,u,l,f,d=h.PriorityQueue.make();for(d.push(t,0);!d.empty();)for(s in a=(o=d.pop()).value,c=o.cost,u=e[a]||{})u.hasOwnProperty(s)&&(l=c+u[s],f=i[s],(void 0===i[s]||l<f)&&(i[s]=l,d.push(s,l),r[s]=a));if(void 0===n||void 0!==i[n])return r;var p=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(p)},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){var r=h.single_source_shortest_paths(e,t,n);return h.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(e){var t,n=h.PriorityQueue,r={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=h},EWmC:function(e,t,n){var r=n("LZWt");e.exports=Array.isArray||function(e){return"Array"==r(e)}},Ecko:function(e,t,n){var r,i,o;o=this,r=[n("ULts")],void 0===(i=function(e){return o.PxLoaderImage=function(e){function o(t,e,n,r){r=r||{};var i,o=this,a=null;i=this.img=new Image,r.origin&&(i.crossOrigin=r.origin),this.tags=e,this.priority=n;var s=function(){"complete"===o.img.readyState&&c()},c=function(){a.onLoad(o),l()},u=function(){a.onError(o),l()},l=function(){o.unbind("load",c),o.unbind("readystatechange",s),o.unbind("error",u)};this.start=function(e){a=e,o.bind("load",c),o.bind("readystatechange",s),o.bind("error",u),o.img.src=t},this.checkStatus=function(){s()},this.onTimeout=function(){o.img.complete?c():(a.onTimeout(o),l())},this.getName=function(){return t},this.bind=function(e,t){o.img.addEventListener(e,t,!1)},this.unbind=function(e,t){o.img.removeEventListener(e,t,!1)}}return e.prototype.addImage=function(e,t,n,r){var i=new o(e,t,n,r);return this.add(i),i.img},o}(e)}.apply(t,r))||(e.exports=i)},EemH:function(e,t,n){var r=n("UqcF"),i=n("RjD/"),o=n("aCFj"),a=n("apmT"),s=n("aagx"),c=n("xpql"),u=Object.getOwnPropertyDescriptor;t.f=n("nh4g")?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},"Ew+T":function(e,t,n){var r=n("XKFU"),i=n("GZEu");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},"F+2o":function(e,t,n){e.exports={default:n("2Nb0"),__esModule:!0}},FDph:function(e,t,n){n("Z2Ku"),e.exports=n("g3g5").Array.includes},FEjr:function(e,t,n){"use strict";n("OGtf")("strike",function(e){return function(){return e(this,"strike","","")}})},FJW5:function(e,t,n){var a=n("hswa"),s=n("y3w9"),c=n("DVgA");e.exports=n("nh4g")?Object.defineProperties:function(e,t){s(e);for(var n,r=c(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},FKvE:function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},FLlr:function(e,t,n){var r=n("XKFU");r(r.P,"String",{repeat:n("l0Rn")})},FYw3:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("EJiy"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},Faw5:function(e,t,n){n("7DDg")("Int16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},FlQf:function(e,t,n){"use strict";var r=n("ccE7")(!0);n("MPFp")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},FlsD:function(e,t,n){var r=n("0/R4");n("Xtr8")("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},FpHa:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},FxUG:function(e,t,n){n("R5XZ"),n("Ew+T"),n("rGqo"),e.exports=n("g3g5")},G8Mo:function(e,t,n){var i=n("93I4");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},GKBh:function(e,t){var n;n=window,e.exports=function(i,e){function s(t,e,n){i.WeixinJSBridge?WeixinJSBridge.invoke(t,o(e),function(e){a(t,e,n)}):u(t,n)}function n(t,n,r){i.WeixinJSBridge?WeixinJSBridge.on(t,function(e){r&&r.trigger&&r.trigger(e),a(t,e,n)}):u(t,r||n)}function o(e){return(e=e||{}).appId=S.appId,e.verifyAppId=S.appId,e.verifySignType="sha1",e.verifyTimestamp=S.timestamp+"",e.verifyNonceStr=S.nonceStr,e.verifySignature=S.signature,e}function t(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function a(e,t,n){"openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var r=t.errMsg;r||(r=t.err_msg,delete t.err_msg,r=function(e,t){var n=e,r=p[n];r&&(n=r);var i="ok";if(t){var o=t.indexOf(":");"confirm"==(i=t.substring(o+1))&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),"access denied"!=(i=(i=i.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=i||(i="permission denied"),"config"==n&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")}return t=n+":"+i}(e,r),t.errMsg=r),(n=n||{})._complete&&(n._complete(t),delete n._complete),r=t.errMsg||"",S.debug&&!n.isInnerInvoke&&alert(JSON.stringify(t));var i=r.indexOf(":");switch(r.substring(i+1)){case"ok":n.success&&n.success(t);break;case"cancel":n.cancel&&n.cancel(t);break;default:n.fail&&n.fail(t)}n.complete&&n.complete(t)}function c(e){if(e){for(var t=0,n=e.length;t<n;++t){var r=e[t],i=d[r];i&&(e[t]=i)}return e}}function u(e,t){if(!(!S.debug||t&&t.isInnerInvoke)){var n=p[e];n&&(e=n),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function l(){return(new Date).getTime()}function f(e){b&&(i.WeixinJSBridge?e():r.addEventListener&&r.addEventListener("WeixinJSBridgeReady",e,!1))}if(!i.jWeixin){var d={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},p=function(){var e={};for(var t in d)e[d[t]]=t;return e}(),r=i.document,h=r.title,m=navigator.userAgent.toLowerCase(),g=navigator.platform.toLowerCase(),v=!(!g.match("mac")&&!g.match("win")),y=-1!=m.indexOf("wxdebugger"),b=-1!=m.indexOf("micromessenger"),x=-1!=m.indexOf("android"),w=-1!=m.indexOf("iphone")||-1!=m.indexOf("ipad"),_=(I=m.match(/micromessenger\/(\d+\.\d+\.\d+)/)||m.match(/micromessenger\/(\d+\.\d+)/))?I[1]:"",M={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},T={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:w?1:x?2:-1,clientVersion:_,url:encodeURIComponent(location.href)},S={},U={_completes:[]},k={state:0,data:{}};f(function(){M.initEndTime=l()});var P=!1,E=[],C={config:function(e){u("config",S=e);var r=!1!==S.check;f(function(){if(r)s(d.config,{verifyJsApiList:c(S.jsApiList)},function(){U._complete=function(e){M.preVerifyEndTime=l(),k.state=1,k.data=e},U.success=function(e){T.isPreVerifyOk=0},U.fail=function(e){U._fail?U._fail(e):k.state=-1};var r=U._completes;return r.push(function(){!function(e){if(!(v||y||S.debug||_<"6.0.2"||T.systemType<0)){var n=new Image;T.appId=S.appId,T.initTime=M.initEndTime-M.initStartTime,T.preVerifyTime=M.preVerifyEndTime-M.preVerifyStartTime,C.getNetworkType({isInnerInvoke:!0,success:function(e){T.networkType=e.networkType;var t="https://open.weixin.qq.com/sdk/report?v="+T.version+"&o="+T.isPreVerifyOk+"&s="+T.systemType+"&c="+T.clientVersion+"&a="+T.appId+"&n="+T.networkType+"&i="+T.initTime+"&p="+T.preVerifyTime+"&u="+T.url;n.src=t}})}}()}),U.complete=function(e){for(var t=0,n=r.length;t<n;++t)r[t]();U._completes=[]},U}()),M.preVerifyStartTime=l();else{k.state=1;for(var e=U._completes,t=0,n=e.length;t<n;++t)e[t]();U._completes=[]}}),C.invoke||(C.invoke=function(e,t,n){i.WeixinJSBridge&&WeixinJSBridge.invoke(e,o(t),n)},C.on=function(e,t){i.WeixinJSBridge&&WeixinJSBridge.on(e,t)})},ready:function(e){0!=k.state?e():(U._completes.push(e),!b&&S.debug&&e())},error:function(e){_<"6.0.2"||(-1==k.state?e(k.data):U._fail=e)},checkJsApi:function(e){s("checkJsApi",{jsApiList:c(e.jsApiList)},(e._complete=function(e){if(x){var t=e.checkResult;t&&(e.checkResult=JSON.parse(t))}e=function(e){var t=e.checkResult;for(var n in t){var r=p[n];r&&(t[r]=t[n],delete t[n])}return e}(e)},e))},onMenuShareTimeline:function(e){n(d.onMenuShareTimeline,{complete:function(){s("shareTimeline",{title:e.title||h,desc:e.title||h,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(t){n(d.onMenuShareAppMessage,{complete:function(e){"favorite"===e.scene?s("sendAppMessage",{title:t.title||h,desc:t.desc||"",link:t.link||location.href,img_url:t.imgUrl||"",type:t.type||"link",data_url:t.dataUrl||""}):s("sendAppMessage",{title:t.title||h,desc:t.desc||"",link:t.link||location.href,img_url:t.imgUrl||"",type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareQQ:function(e){n(d.onMenuShareQQ,{complete:function(){s("shareQQ",{title:e.title||h,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){n(d.onMenuShareWeibo,{complete:function(){s("shareWeiboApp",{title:e.title||h,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){n(d.onMenuShareQZone,{complete:function(){s("shareQZone",{title:e.title||h,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){s("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){s("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){s("startRecord",{},e)},stopRecord:function(e){s("stopRecord",{},e)},onVoiceRecordEnd:function(e){n("onVoiceRecordEnd",e)},playVoice:function(e){s("playVoice",{localId:e.localId},e)},pauseVoice:function(e){s("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){s("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){n("onVoicePlayEnd",e)},uploadVoice:function(e){s("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){s("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){s("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){s("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(x){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){s(d.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){s("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){s("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===P?(P=!0,s("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(P=!1,0<E.length){var t=E.shift();wx.getLocalImgData(t)}},e))):E.push(e)},getNetworkType:function(e){s("getNetworkType",{},(e._complete=function(e){e=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var n=e.subtype;if(delete e.subtype,n)e.networkType=n;else{var r=t.indexOf(":"),i=t.substring(r+1);switch(i){case"wifi":case"edge":case"wwan":e.networkType=i;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){s("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){s(d.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))},hideOptionMenu:function(e){s("hideOptionMenu",{},e)},showOptionMenu:function(e){s("showOptionMenu",{},e)},closeWindow:function(e){s("closeWindow",{},e=e||{})},hideMenuItems:function(e){s("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){s("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){s("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){s("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){s("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(w){var t=e.resultStr;if(t){var n=JSON.parse(t);e.resultStr=n&&n.scan_code&&n.scan_code.scan_result}}},e))},openAddress:function(e){s(d.openAddress,{},(e._complete=function(e){var t;(t=e).postalCode=t.addressPostalCode,delete t.addressPostalCode,t.provinceName=t.proviceFirstStageName,delete t.proviceFirstStageName,t.cityName=t.addressCitySecondStageName,delete t.addressCitySecondStageName,t.countryName=t.addressCountiesThirdStageName,delete t.addressCountiesThirdStageName,t.detailInfo=t.addressDetailInfo,delete t.addressDetailInfo,e=t},e))},openProductSpecificView:function(e){s(d.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var t=e.cardList,n=[],r=0,i=t.length;r<i;++r){var o=t[r],a={card_id:o.cardId,card_ext:o.cardExt};n.push(a)}s(d.addCard,{card_list:n},(e._complete=function(e){var t=e.card_list;if(t){for(var n=0,r=(t=JSON.parse(t)).length;n<r;++n){var i=t[n];i.cardId=i.card_id,i.cardExt=i.card_ext,i.isSuccess=!!i.is_succ,delete i.card_id,delete i.card_ext,delete i.is_succ}e.cardList=t,delete e.card_list}},e))},chooseCard:function(e){s("chooseCard",{app_id:S.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))},openCard:function(e){for(var t=e.cardList,n=[],r=0,i=t.length;r<i;++r){var o=t[r],a={card_id:o.cardId,code:o.code};n.push(a)}s(d.openCard,{card_list:n},e)},consumeAndShareCard:function(e){s(d.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){s(d.chooseWXPay,t(e),e)},openEnterpriseRedPacket:function(e){s(d.openEnterpriseRedPacket,t(e),e)},startSearchBeacons:function(e){s(d.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){s(d.stopSearchBeacons,{},e)},onSearchBeacons:function(e){n(d.onSearchBeacons,e)},openEnterpriseChat:function(e){s("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){s("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?t+"?"+n:t}}(e.path),envVersion:e.envVersion},e)},miniProgram:{navigateBack:function(e){e=e||{},f(function(){s("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)})},navigateTo:function(e){f(function(){s("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)})},redirectTo:function(e){f(function(){s("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)})},switchTab:function(e){f(function(){s("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)})},reLaunch:function(e){f(function(){s("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)})},postMessage:function(e){f(function(){s("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)})},getEnv:function(e){f(function(){e({miniprogram:"miniprogram"===i.__wxjs_environment})})}}},A=1,O={};return r.addEventListener("error",function(e){if(!x){var t=e.target,n=t.tagName,r=t.src;if(("IMG"==n||"VIDEO"==n||"AUDIO"==n||"SOURCE"==n)&&-1!=r.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var i=t["wx-id"];if(i||(i=A++,t["wx-id"]=i),O[i])return;O[i]=!0,wx.ready(function(){wx.getLocalImgData({localId:r,success:function(e){t.src=e.localData}})})}}},!0),r.addEventListener("load",function(e){if(!x){var t=e.target,n=t.tagName;if(t.src,"IMG"==n||"VIDEO"==n||"AUDIO"==n||"SOURCE"==n){var r=t["wx-id"];r&&(O[r]=!1)}}},!0),e&&(i.wx=i.jWeixin=C),C}var I}(n)},GNAe:function(e,t,n){var r=n("XKFU"),i=n("PKUr");r(r.G+r.F*(parseInt!=i),{parseInt:i})},GOzd:function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},GQeE:function(e,t,n){e.exports={default:n("iq4v"),__esModule:!0}},GZEu:function(e,t,n){var r,i,o,a=n("m0Pp"),s=n("MfQN"),c=n("+rLv"),u=n("Iw71"),l=n("dyZX"),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,g=0,v={},y="onreadystatechange",b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},x=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==n("LZWt")(f)?r=function(e){f.nextTick(a(b,e,1))}:m&&m.now?r=function(e){m.now(a(b,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=x,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",x,!1)):r=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:d,clear:p}},GpRL:function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},H6hf:function(e,t,n){var o=n("y3w9");e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},"HAE/":function(e,t,n){var r=n("XKFU");r(r.S+r.F*!n("nh4g"),"Object",{defineProperty:n("hswa").f})},HEwt:function(e,t,n){"use strict";var d=n("m0Pp"),r=n("XKFU"),p=n("S/j/"),h=n("H6hf"),m=n("M6Qj"),g=n("ne8i"),v=n("8a7r"),y=n("J+6e");r(r.S+r.F*!n("XMVh")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,i,o=p(e),a="function"==typeof this?this:Array,s=arguments.length,c=1<s?arguments[1]:void 0,u=void 0!==c,l=0,f=y(o);if(u&&(c=d(c,2<s?arguments[2]:void 0,2)),null==f||a==Array&&m(f))for(n=new a(t=g(o.length));l<t;l++)v(n,l,u?c(o[l],l):o[l]);else for(i=f.call(o),n=new a;!(r=i.next()).done;l++)v(n,l,u?h(i,c,[r.value,l],!0):r.value);return n.length=l,n}})},HVci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}},Hfiw:function(e,t,n){var r=n("Y7ZC");r(r.S,"Object",{setPrototypeOf:n("6tYh").set})},Hsns:function(e,t,n){var r=n("93I4"),i=n("5T2Y").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},I5cv:function(e,t,n){var r=n("XKFU"),s=n("Kuth"),c=n("2OiF"),u=n("y3w9"),l=n("0/R4"),i=n("eeVq"),f=n("8MEG"),d=(n("dyZX").Reflect||{}).construct,p=i(function(){function e(){}return!(d(function(){},[],e)instanceof e)}),h=!i(function(){d(function(){})});r(r.S+r.F*(p||h),"Reflect",{construct:function(e,t){c(e),u(t);var n=arguments.length<3?e:c(arguments[2]);if(h&&!p)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(f.apply(e,r))}var i=n.prototype,o=s(l(i)?i:Object.prototype),a=Function.apply.call(e,o,t);return l(a)?a:o}})},I78e:function(e,t,n){"use strict";var r=n("XKFU"),i=n("+rLv"),u=n("LZWt"),l=n("d/Gc"),f=n("ne8i"),d=[].slice;r(r.P+r.F*n("eeVq")(function(){i&&d.call(i)}),"Array",{slice:function(e,t){var n=f(this.length),r=u(this);if(t=void 0===t?n:t,"Array"==r)return d.call(this,e,t);for(var i=l(e,n),o=l(t,n),a=f(o-i),s=new Array(a),c=0;c<a;c++)s[c]="String"==r?this.charAt(i+c):this[i+c];return s}})},"I8a+":function(e,t,n){var i=n("LZWt"),o=n("K0xU")("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},IDEf:function(e,t,n){"use strict";e.exports=n("FKvE")()?Object.assign:n("9g66")},INYr:function(e,t,n){"use strict";var r=n("XKFU"),i=n("CkkT")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n("nGyu")(o)},"IU+Z":function(e,t,n){"use strict";var s=n("Mukb"),c=n("KroJ"),u=n("eeVq"),l=n("vhPU"),f=n("K0xU");e.exports=function(t,e,n){var r=f(t),i=n(l,r,""[t]),o=i[0],a=i[1];u(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})&&(c(String.prototype,t,o),s(RegExp.prototype,r,2==e?function(e,t){return a.call(e,this,t)}:function(e){return a.call(e,this)}))}},IXt9:function(e,t,n){"use strict";var r=n("0/R4"),i=n("OP3Y"),o=n("K0xU")("hasInstance"),a=Function.prototype;o in a||n("hswa").f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},IlFx:function(e,t,n){var r=n("XKFU"),i=n("y3w9"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},Iw71:function(e,t,n){var r=n("0/R4"),i=n("dyZX").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"J+6e":function(e,t,n){var r=n("I8a+"),i=n("K0xU")("iterator"),o=n("hPIQ");e.exports=n("g3g5").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},J6Nv:function(e,t){t.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40}},JB68:function(e,t,n){var r=n("Jes0");e.exports=function(e){return Object(r(e))}},JCqj:function(e,t,n){"use strict";n("OGtf")("sup",function(e){return function(){return e(this,"sup","","")}})},JbBM:function(e,t,n){n("Hfiw"),e.exports=n("WEpk").Object.setPrototypeOf},JbTB:function(e,t,n){n("/8Fb"),e.exports=n("g3g5").Object.entries},Jcmo:function(e,t,n){var r=n("XKFU"),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},JduL:function(e,t,n){n("Xtr8")("getOwnPropertyNames",function(){return n("e7yV").f})},JeI0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),c=n("q1tI"),u=p(c),i=p(n("17x9")),o=n("i8i4"),a=n("UxbX"),s=p(n("9/5/")),l=p(n("hKI/")),f=p(n("+NU8")),d=p(n("pxCl"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.lazyLoadHandler=t.lazyLoadHandler.bind(t),0<e.throttle&&(e.debounce?t.lazyLoadHandler=(0,s.default)(t.lazyLoadHandler,e.throttle):t.lazyLoadHandler=(0,l.default)(t.lazyLoadHandler,e.throttle)),t.state={visible:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,c.Component),r(n,[{key:"componentDidMount",value:function(){this._mounted=!0;var e=this.getEventNode();this.lazyLoadHandler(),this.lazyLoadHandler.flush&&this.lazyLoadHandler.flush(),(0,a.add)(window,"resize",this.lazyLoadHandler),(0,a.add)(e,"scroll",this.lazyLoadHandler)}},{key:"componentWillReceiveProps",value:function(){this.state.visible||this.lazyLoadHandler()}},{key:"shouldComponentUpdate",value:function(e,t){return t.visible}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()}},{key:"getEventNode",value:function(){return(0,f.default)((0,o.findDOMNode)(this))}},{key:"getOffset",value:function(){var e=this.props,t=e.offset,n=e.offsetVertical,r=e.offsetHorizontal,i=e.offsetTop,o=e.offsetBottom,a=e.offsetLeft,s=e.offsetRight,c=e.threshold||t,u=n||c,l=r||c;return{top:i||u,bottom:o||u,left:a||l,right:s||l}}},{key:"lazyLoadHandler",value:function(){if(this._mounted){var e=this.getOffset(),t=(0,o.findDOMNode)(this),n=this.getEventNode();if((0,d.default)(t,n,e)){var r=this.props.onContentVisible;this.setState({visible:!0},function(){r&&r()}),this.detachListeners()}}}},{key:"detachListeners",value:function(){var e=this.getEventNode();(0,a.remove)(window,"resize",this.lazyLoadHandler),(0,a.remove)(e,"scroll",this.lazyLoadHandler)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.height,i=e.width,o=this.state.visible,a={height:r,width:i},s="LazyLoad"+(o?" is-visible":"")+(n?" "+n:"");return u.default.createElement(this.props.elementType,{className:s,style:a},o&&c.Children.only(t))}}]),n}();(t.default=h).propTypes={children:i.default.node.isRequired,className:i.default.string,debounce:i.default.bool,elementType:i.default.string,height:i.default.oneOfType([i.default.string,i.default.number]),offset:i.default.number,offsetBottom:i.default.number,offsetHorizontal:i.default.number,offsetLeft:i.default.number,offsetRight:i.default.number,offsetTop:i.default.number,offsetVertical:i.default.number,threshold:i.default.number,throttle:i.default.number,width:i.default.oneOfType([i.default.string,i.default.number]),onContentVisible:i.default.func},h.defaultProps={elementType:"div",debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250}},Jes0:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"Ji/l":function(e,t,n){var r=n("XKFU");r(r.G+r.W+r.F*!n("D4iV").ABV,{DataView:n("7Qtz").DataView})},JiEa:function(e,t){t.f=Object.getOwnPropertySymbols},JzKC:function(e,r,t){var a=t("Wogr"),s=t("aZ40");r.mul=function(e,t){var n=new a(e.length+t.length-1);n.fill(0);for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)n[r+i]^=s.mul(e[r],t[i]);return n},r.mod=function(e,t){for(var n=new a(e);0<=n.length-t.length;){for(var r=n[0],i=0;i<t.length;i++)n[i]^=s.mul(t[i],r);for(var o=0;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},r.generateECPolynomial=function(e){for(var t=new a([1]),n=0;n<e;n++)t=r.mul(t,[1,s.exp(n)]);return t}},K0xU:function(e,t,n){var r=n("VTer")("wks"),i=n("ylqs"),o=n("dyZX").Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},KKXr:function(e,t,n){n("IU+Z")("split",2,function(i,o,a){"use strict";var p=n("quPj"),h=a,m=[].push,e="split",g="length";if("c"=="abbc"[e](/(b)*/)[1]||4!="test"[e](/(?:)/,-1)[g]||2!="ab"[e](/(?:ab)*/)[g]||4!="."[e](/(.?)(.?)/)[g]||1<"."[e](/()()/)[g]||""[e](/.?/)[g]){var v=void 0===/()??/.exec("")[1];a=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!p(e))return h.call(n,e,t);var r,i,o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=void 0===t?4294967295:t>>>0,d=new RegExp(e.source,u+"g");for(v||(r=new RegExp("^"+d.source+"$(?!\\s)",u));(i=d.exec(n))&&!(l<(o=i.index+i[0][g])&&(c.push(n.slice(l,i.index)),!v&&1<i[g]&&i[0].replace(r,function(){for(s=1;s<arguments[g]-2;s++)void 0===arguments[s]&&(i[s]=void 0)}),1<i[g]&&i.index<n[g]&&m.apply(c,i.slice(1)),a=i[0][g],l=o,c[g]>=f));)d.lastIndex===i.index&&d.lastIndex++;return l===n[g]?!a&&d.test("")||c.push(""):c.push(n.slice(l)),c[g]>f?c.slice(0,f):c}}else"0"[e](void 0,0)[g]&&(a=function(e,t){return void 0===e&&0===t?[]:h.call(this,e,t)});return[function(e,t){var n=i(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):a.call(String(n),e,t)},a]})},KUxP:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},KroJ:function(e,t,n){var o=n("dyZX"),a=n("Mukb"),s=n("aagx"),c=n("ylqs")("src"),r="toString",i=Function[r],u=(""+i).split(r);n("g3g5").inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,r){var i="function"==typeof n;i&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(i&&(s(n,c)||a(n,c,e[t]?""+e[t]:u.join(String(t)))),e===o?e[t]=n:r?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[c]||i.call(this)})},Kuth:function(e,t,r){var i=r("y3w9"),o=r("FJW5"),a=r("4R4u"),s=r("YTvA")("IE_PROTO"),c=function(){},u="prototype",l=function(){var e,t=r("Iw71")("iframe"),n=a.length;for(t.style.display="none",r("+rLv").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[u][a[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(c[u]=i(e),n=new c,c[u]=null,n[s]=e):n=l(),void 0===t?n:o(n,t)}},L9s1:function(e,t,n){"use strict";var r=n("XKFU"),i=n("0sh+");r(r.P+r.F*n("UUeW")("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,1<arguments.length?arguments[1]:void 0)}})},LK8F:function(e,t,n){var r=n("XKFU");r(r.S,"Array",{isArray:n("EWmC")})},LQAc:function(e,t){e.exports=!1},LTTk:function(e,t,n){var r=n("XKFU"),i=n("OP3Y"),o=n("y3w9");r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},LVwc:function(e,t){var n=Math.expm1;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},LZWt:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},Lgjv:function(e,t,n){var l=n("ne8i"),f=n("l0Rn"),d=n("vhPU");e.exports=function(e,t,n,r){var i=String(d(e)),o=i.length,a=void 0===n?" ":String(n),s=l(t);if(s<=o||""==a)return i;var c=s-o,u=f.call(a,Math.ceil(c/a.length));return u.length>c&&(u=u.slice(0,c)),r?u+i:i+u}},Ljet:function(e,t,n){var r=n("XKFU");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},LyE8:function(e,t,n){"use strict";var r=n("eeVq");e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},Lzq4:function(e,t,n){var r=n("u/Db"),i=n("e/Dd");function o(e){this.mode=r.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=i.toSJIS(this.data[t]);if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=o},M1xp:function(e,t,n){var r=n("a0xu");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},M6Qj:function(e,t,n){var r=n("hPIQ"),i=n("K0xU")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},MPFp:function(e,t,n){"use strict";var b=n("uOPS"),x=n("Y7ZC"),w=n("kTiW"),_=n("NegM"),M=n("SBuE"),T=n("j2DC"),S=n("RfKB"),U=n("U+KD"),k=n("UWiX")("iterator"),P=!([].keys&&"next"in[].keys()),E="values",C=function(){return this};e.exports=function(e,t,n,r,i,o,a){T(n,t,r);var s,c,u,l=function(e){if(!P&&e in h)return h[e];switch(e){case"keys":case E:return function(){return new n(this,e)}}return function(){return new n(this,e)}},f=t+" Iterator",d=i==E,p=!1,h=e.prototype,m=h[k]||h["@@iterator"]||i&&h[i],g=m||l(i),v=i?d?l("entries"):g:void 0,y="Array"==t&&h.entries||m;if(y&&(u=U(y.call(new e)))!==Object.prototype&&u.next&&(S(u,f,!0),b||"function"==typeof u[k]||_(u,k,C)),d&&m&&m.name!==E&&(p=!0,g=function(){return m.call(this)}),b&&!a||!P&&!p&&h[k]||_(h,k,g),M[t]=g,M[f]=C,i)if(s={values:d?g:l(E),keys:o?g:l("keys"),entries:v},a)for(c in s)c in h||w(h,c,s[c]);else x(x.P+x.F*(P||p),t,s);return s}},MfQN:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},MgzW:function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))u.call(n,a)&&(i[a]=n[a]);if(c){r=c(n);for(var s=0;s<r.length;s++)l.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i}},Mqbl:function(e,t,n){var r=n("JB68"),i=n("w6GO");n("zn7N")("keys",function(){return function(e){return i(r(e))}})},MtdB:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},Mukb:function(e,t,n){var r=n("hswa"),i=n("RjD/");e.exports=n("nh4g")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},MvwC:function(e,t,n){var r=n("5T2Y").document;e.exports=r&&r.documentElement},N8g3:function(e,t,n){t.f=n("K0xU")},NO8f:function(e,t,n){n("7DDg")("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},NPxG:function(e,t,n){var r=n("ekOh"),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}}},NV0k:function(e,t){t.f={}.propertyIsEnumerable},NegM:function(e,t,n){var r=n("2faE"),i=n("rr1i");e.exports=n("jmDH")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},Nr18:function(e,t,n){"use strict";var s=n("S/j/"),c=n("d/Gc"),u=n("ne8i");e.exports=function(e){for(var t=s(this),n=u(t.length),r=arguments.length,i=c(1<r?arguments[1]:void 0,n),o=2<r?arguments[2]:void 0,a=void 0===o?n:c(o,n);i<a;)t[i++]=e;return t}},"NsO/":function(e,t,n){var r=n("M1xp"),i=n("Jes0");e.exports=function(e){return r(i(e))}},Nz9U:function(e,t,n){"use strict";var r=n("XKFU"),i=n("aCFj"),o=[].join;r(r.P+r.F*(n("Ymqv")!=Object||!n("LyE8")(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},"O0+K":function(e,t){e.exports="/* Zepto v1.2.0 - zepto event ajax form ie - zeptojs.com/license */\n(function(global, factory) {\n  if (typeof define === 'function' && define.amd)\n    define(function() { return factory(global) })\n  else\n    factory(global)\n}(this, function(window) {\n  var Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.matches || element.webkitMatchesSelector ||\n                          element.mozMatchesSelector || element.oMatchesSelector ||\n                          element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n      type = $.type(obj)\n\n    return 'function' != type && !isWindow(obj) && (\n      'array' == type || length === 0 ||\n        (typeof length == 'number' && length > 0 && (length - 1) in obj)\n    )\n  }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.isNumeric = function(val) {\n    var num = Number(val), type = typeof val\n    return val != null && type != 'boolean' &&\n      (type != 'string' || val.length) &&\n      !isNaN(num) && isFinite(num) || false\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n  $.noop = function() {}\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function(){\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var nodes = [], collection = typeof selector == 'object' && $(selector)\n      this.each(function(_, node){\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n          node = node !== context && !isDocument(node) && node.parentNode\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\n      })\n      return $(nodes)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this.pluck('textContent').join(\"\") : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    removeProp: function(name){\n      name = propMap[name] || name\n      return this.each(function(){ delete this[name] })\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      if (0 in arguments) {\n        if (value == null) value = \"\"\n        return this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n      } else {\n        return this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n      }\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\n        return {top: 0, left: 0}\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0]\n        if (typeof property == 'string') {\n          if (!element) return\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\n        } else if (isArray(property)) {\n          if (!element) return\n          var props = {}\n          var computedStyle = getComputedStyle(element, '')\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            var arr = []\n            argType = type(arg)\n            if (argType == \"array\") {\n              arg.forEach(function(el) {\n                if (el.nodeType !== undefined) return arr.push(el)\n                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\n                arr = arr.concat(zepto.fragment(el))\n              })\n              return arr\n            }\n            return argType == \"object\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src){\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window\n              target['eval'].call(target, el.innerHTML)\n            }\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      event.timeStamp || (event.timeStamp = Date.now())\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = +new Date(),\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  function ajaxDataFilter(data, type, settings) {\n    if (settings.dataFilter == empty) return data\n    var context = settings.context\n    return settings.dataFilter.call(context, data, type)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('Zepto' + (jsonpID++)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true,\n    //Used to handle the raw response data of XMLHttpRequest.\n    //This is a pre-filtering function to sanitize the response.\n    //The sanitized response should be returned\n    dataFilter: empty\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor, hashIndex\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n      // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex)\n    serializeData(settings)\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n         (!options || options.cache !== true) &&\n         ('script' == dataType || 'jsonp' == dataType)\n        ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n\n          if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob')\n            result = xhr.response\n          else {\n            result = xhr.responseText\n\n            try {\n              // http://perfectionkills.com/global-eval-what-are-the-options/\n              // sanitize response accordingly if data filter callback provided\n              result = ajaxDataFilter(result, dataType, settings)\n              if (dataType == 'script')    (1,eval)(result)\n              else if (dataType == 'xml')  result = xhr.responseXML\n              else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n            } catch (e) { error = e }\n\n            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred)\n          }\n\n          ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({ name: name, value: value })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field){\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n          add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function(){\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle\n    window.getComputedStyle = function(element, pseudoElement){\n      try {\n        return nativeGetComputedStyle(element, pseudoElement)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})()\n  return Zepto\n}))\n"},OEbY:function(e,t,n){n("nh4g")&&"g"!=/./g.flags&&n("hswa").f(RegExp.prototype,"flags",{configurable:!0,get:n("C/va")})},OG14:function(e,t,n){n("IU+Z")("search",1,function(r,i,e){return[function(e){"use strict";var t=r(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},e]})},OGtf:function(e,t,n){var r=n("XKFU"),i=n("eeVq"),a=n("vhPU"),s=/"/g,o=function(e,t,n,r){var i=String(a(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),o+">"+i+"</"+t+">"};e.exports=function(t,e){var n={};n[t]=e(o),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",n)}},OIPj:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=o(n("y7P4")),f=n("jOKj"),c=o(f);function o(e){return e&&e.__esModule?e:{default:e}}var a=i.default.getPlatform(),s=1===a,u=2===a,l=function(l){return function(e){if(!e){var t=l.call(void 0);return t&&(0,f.callLink)(t),t}if("string"==typeof e||"number"==typeof e||Array.isArray(e)){var n=l.call(void 0,e);return n&&(0,f.callLink)(n),n}var r=e.param,i=e.extra,o=e.cb,a=e.cb2,s=e.noCall,c=[];r&&c.push(r),"boolean"==typeof i&&c.push(i),o&&c.push(o),o&&a?c.push(a):!o&&a&&(c.push(null),c.push(a));var u=l.apply(void 0,c);return!s&&u&&(0,f.callLink)(u),u||""}},d=function(e){return(0,c.default)(e)},p=l(function(e){(0,f.linkWithCb)("shareBackFromApp",e)});t.default={noparam:d,song:l(function(e,t){return Array.isArray(e)?(0,c.default)("song",{ids:e}):"boolean"==typeof t?(0,c.default)("song/"+e,{switch:t}):(0,c.default)("song",e)}),album:l(function(e){return(0,c.default)("album",e)}),playlist:l(function(e){return(0,c.default)("playlist",e)}),program:l(function(e,t){return"boolean"==typeof t?(0,c.default)("program/"+e,{switch:t}):(0,c.default)("program",e)}),artist:l(function(e){return(0,c.default)("artist",e)}),user:l(function(e){return(0,c.default)("user",e)}),mv:l(function(e){return(0,c.default)("mv",e)}),live:l(function(e){return(0,c.default)("live",e)}),topic:l(function(e){return(0,c.default)("subject",e)}),djradio:l(function(e){return(0,c.default)("djradio",e)}),event:l(function(e){return(0,c.default)("event",e)}),eventactivity:l(function(e){return(0,c.default)("topic",e)}),video:l(function(e){return(0,c.default)("video",e)}),activity:l(function(e){return(0,f.linkCommonUrl)("activity",e)}),comment:l(function(e){return(0,c.default)("comment",e)}),openurl:l(function(e){return(0,f.linkCommonUrl)("openurl",e)}),tastetest:l(function(){return d("tastetest/begin")}),unicom:l(function(){return d("unicom/begin")}),telecom:l(function(){return d("telecom/begin")}),inboxcmt:l(function(){return d("inbox/comment")}),inboxmsg:l(function(){return d("inbox/message")}),myradio:l(function(){return d("myradio")}),runfm:l(function(){return d("runfm")}),songrcmd:l(function(){return d("songrcmd")}),pubevent:l(function(e,t){return(0,f.linkWithCb)("pubEventSend",t),(0,c.default)("pubevent",e)}),scancode:l(function(){return d("scancode")}),rnpage:l(function(e){return(0,c.default)("rnpage",e)}),livequiz:l(function(e){return(0,c.default)("livequiz",e)}),browseimgs:l(function(e){return Array.isArray(e)?(0,c.default)("browseimg/imgs",{imgs:e}):(0,c.default)("browseimg/imgs",e)}),browseimgopen:l(function(e){return(0,c.default)("browseimg/openimg",e)}),series:l(function(e){return(0,c.default)("series",e)}),forward:l(function(e){return(0,c.default)("forward",e)}),vehiclefm:l(function(){return d("vehiclefm")}),vehiclefmphone:l(function(e){return(0,c.default)("vehiclefm",e)}),vehiclefmdevice:l(function(){return d("vehiclefm/selectDevice")}),share:l(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2];if((0,f.linkWithCb)("shareCb",t),"function"==typeof n&&(0,f.linkWithCb)("shareBackFromApp",n),"string"==typeof e)return(0,c.default)("share/"+e);var r=e.title1,i=e.picUrl,o=e.redirectUrl,a=e.title2,s=e.subTitle2;return(0,c.default)("share/"+encodeURIComponent(r)+"/"+encodeURIComponent(i)+"/"+encodeURIComponent(o)+"/"+encodeURIComponent(a)+"/"+encodeURIComponent(s))}),shareBackFromApp:p,sharepic:l(function(e){return(0,c.default)("sharepic",e)}),payment:l(function(e,t){var n=e.type,r=e.payUrl,i=e;return delete i.type,(0,f.linkWithCb)("paymentFinished",t),"iap"===n?(0,c.default)("payment/"+n,i):(delete i.payUrl,(0,c.default)("payment/"+n+"/"+encodeURIComponent(r),i))}),listenrank:l(function(e){return(0,c.default)("listenrank",e)}),login:l(function(e){return"string"==typeof e?(0,c.default)("login",{rurl:e}):(0,c.default)("login",e)}),pointlogin:l(function(e){return s?"string"==typeof e?(0,c.default)("pointlogin",{rurl:e}):(0,c.default)("pointlogin",e):""}),anonymousPay:l(function(e){s&&(0,f.linkWithCb)("anonymousPay",e)}),stopplay:l(function(){return d("stopplay")}),back:l(function(){return d("back")}),popwebview:l(function(){return d("clientbackbutton/popwebview")}),backwebview:l(function(){return d("clientbackbutton/back")}),backconfirm:l(function(e){return"string"==typeof e?(0,c.default)("clientbackbutton/confirm",{message:e}):(0,c.default)("clientbackbutton/confirm",e)}),setnavtt:l(function(e){return"string"==typeof e?(0,c.default)("setnavigationtitle",{title:e}):(0,c.default)("setnavigationtitle",e)}),flowstatus:l(function(e){return(0,c.default)("flow/status/change",e)}),backcntladd:l(function(e){return(0,f.linkWithCb)("backaction",e),(0,c.default)("backcntl/security/1")}),backcntldel:l(function(){return(0,c.default)("backcntl/security/0")}),ringtone:l(function(e){return u?(0,c.default)("ringtone/cmcc/pay",e):""}),ringtonephone:l(function(e,t){return u?((0,f.linkWithCb)("getSysPhone",t),"string"==typeof e||"number"==typeof e?(0,c.default)("ringtone/cmcc/getsysphone",{ringid:e}):(0,c.default)("ringtone/cmcc/getsysphone",e)):""}),replacellphone:l(function(e){return(0,c.default)("replacellphone",e)}),relogin:l(function(e){return"string"==typeof e?(0,c.default)("relogin/cellphone",{sign:e}):(0,c.default)("relogin/cellphone",e)}),location:l(function(e,t,n){return"function"==typeof t&&(0,f.linkWithCb)("location",t),"function"==typeof n&&(0,f.linkWithCb)("locationfail",n),"string"==typeof e?(0,c.default)("location",{sign:e}):(0,c.default)("location",e)}),collegeedit:l(function(e){return(0,f.linkWithCb)("colledit",e),d("college/edit")}),theme:l(function(){return d("theme")}),themedetail:l(function(e){return(0,c.default)("theme",e)}),alarmclock:l(function(){return d("alarmclock")}),rewardpaysucc:l(function(e){return(0,c.default)("reward/paysuccess",e)}),feedback:l(function(){return d("feedback")}),rewardpay:l(function(e){return(0,c.default)("reward/pay",e)}),rewardtoplist:l(function(e){return(0,c.default)("reward/toplist",e)}),open:l(function(e){return(0,c.default)("open",e)}),calendarevent:l(function(e,t){return s?((0,f.linkWithCb)("calendarCb",t),(0,c.default)("calendarevent",e)):""}),querycalendar:l(function(e,t){return s?((0,f.linkWithCb)("calendarQueryCb",t),(0,c.default)("querycalendar",e)):""}),replace:l(function(e){return(0,f.linkCommonUrl)("replace",e)}),clearhistory:l(function(e){return(0,f.linkCommonUrl)("clearhistory",e)}),privatemsg:l(function(e){var t=e.userid,n=e;return delete n.userid,(0,c.default)("privatemsg/"+t,n)}),checknotification:l(function(e){return(0,c.default)("checknotificationprivacyaftershare",e)}),getThemeColor:l(function(e){return(0,f.linkWithCb)("themeColorCb",e),(0,c.default)("getThemeColor")}),getStatusBarColor:l(function(e){return(0,f.linkWithCb)("statusBarColorCb",e),(0,c.default)("getStatusBarColor")}),openRadioCategory:l(function(e){return(0,c.default)("openRadioCategory",e)}),settopbutton:l(function(e){var t=e.callback,n=e;return t&&"function"==typeof t&&(window.onShare=t,n=r({},e,{callback:"onShare()"})),(0,c.default)("settopbutton",n)}),shareResource:l(function(e){if("string"==typeof e)return(0,c.default)("shareResource/"+e);var t=e.type,n=e.resourceId,r=e.shareDataJson;return(0,c.default)("shareResource/"+t+"/"+n+"/"+r)}),pastecopy:l(function(e){return(0,c.default)("pasteboard/copy",e)}),pasteclear:l(function(){return d("pasteboard/clear")}),profilemodify:l(function(){return d("settings/profilemodify")}),bindaccount:l(function(){return d("settings/bindaccount")}),shortvideo:l(function(e){return(0,c.default)("shortvideo",e)}),videotab:l(function(){return d("discovery/video")}),passsharetext:l(function(e){(0,f.linkWithCb)("passsharetext",e)}),systemsetting:l(function(){return s?d("systemsetting"):""}),refreshUMGsingle:l(function(e){if("string"==typeof e||"number"==typeof e)return(0,c.default)("refreshUMGsingle/"+e);var t=e.singleId;return(0,c.default)("refreshUMGsingle/"+t)}),systemManage:l(function(){return s?d("systemManageSubscriptions"):""}),autopay:l(function(e){return(0,f.linkWithCb)("restoreCb",e),d("restore/autopay")}),loginAndroid:l(function(e){return u?"string"==typeof e?(0,c.default)("login",{rurl2:e}):(0,c.default)("login",e):""}),app:l(function(e){return(0,c.default)("app",e)}),refreshUMG:l(function(){return d("refreshUMG")}),toolsfrbd:l(function(){return d("toolsforbidden")}),pointsecurity:l(function(){return d("pointsecurity/finished")}),fmtrain:l(function(){return d("fmtrain/finished")}),telios:l(function(e){return s?(0,c.default)("tel",e):""}),tipdialog:l(function(e){return(0,c.default)("topbar/tipdialog",e,!0)}),musician:l(function(e){return(0,c.default)("musician",e)}),download:l(function(e){return(0,c.default)("download",e)}),testflight:l(function(){return s?d("testflight"):""}),mydgalbum:l(function(){return d("mydgalbum")}),loginprotectfinish:l(function(){return d("loginprotectfinish")}),loginprotectbind:l(function(e){return(0,c.default)("loginprotectbind",e)}),device:l(function(e){return(0,c.default)("device",e)}),effect:l(function(e){return(0,c.default)("effect",e)}),effectdetail:l(function(e){return(0,c.default)("effectdetail",e)}),deviceeffect:l(function(){return d("deviceeffect")}),effectheme:l(function(e){return(0,c.default)("effectheme",e)}),identify:l(function(e){return(0,c.default)("identify",e)}),playlistCollection:l(function(e){return(0,c.default)("playlistCollection",e)}),videolist:l(function(e){return(0,c.default)("videolist",e)}),radioToplistType:l(function(e){return(0,c.default)("radioToplistType",e)}),babyhomepage:l(function(){return d("babyhomepage")}),vbox:l(function(){return d("vbox")}),artistallshow:l(function(e){return(0,c.default)("artistallshow",e)}),xiaoice:l(function(e){return(0,c.default)("xiaoice",e)}),playlive:l(function(e){return(0,c.default)("playlive",e)}),onScreencapture:l(function(e){(0,f.linkWithCb)("onScreencapture",e)}),uicontrol:l(function(e){return(0,c.default)("ui",e)}),loadOrderStatus:l(function(e){return(0,c.default)("loadOrderStatus",e)}),loadOrderCb:l(function(e){(0,f.linkWithCb)("loadOrderCb",e)}),babyfm:l(function(){return d("babyfm")}),babyfmsong:l(function(){return d("babyfm/song")}),babyfmstory:l(function(){return d("babyfm/story")}),artistlist:l(function(){return d("artistlist")}),recompage:l(function(){return d("discovery/recommend")}),musicianlist:l(function(){return d("musicianlist")}),settings:l(function(){return d("settings")}),privatefm:l(function(){return d("privatefm")}),fanssucc:l(function(e){return(0,c.default)("fanssucc",e)}),rechargesucc:l(function(){return d("rechargesucc")}),musicianSaidInvite:l(function(e){return(0,c.default)("nm/comment/musicianSaidInvite",e)}),nmMine:l(function(){return d("nm/main/mine")}),lottery:l(function(e){return(0,c.default)("lottery",e)})},e.exports=t.default},OMJ6:function(e,t,n){"use strict";t.__esModule=!0;var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=n("Do9G"),_=1,M=1,i=1,T=function(){return!1};"undefined"!=typeof window&&function(){var n=window.document;_=n.documentElement.clientWidth,M=n.documentElement.clientHeight;var e;e=window.devicePixelRatio||Math.sqrt(screen.deviceXDPI*screen.deviceYDPI)/96||1,isNaN(e)&&(e=1),i=e;var r=void 0;T=function(){if(void 0!==r)return r;r=!1;var e=n.createElement("canvas");if(e.getContext&&e.getContext("2d")){var t=0===e.toDataURL("image/webp").indexOf("data:image/webp");e=null,r=t}return r}}();var S=[".music.126.net",".iplay.126.net",".netease.com"],U={dpr:i,setParam:1,paramWidth:0,heightRatio:0,enlarge:!1,tostatic:!1,quality:void 0,webp:!0,cut:!1,cutParam:[0,0,Math.ceil(_*i),Math.ceil(M*i)],whitelist:void 0,restrain:!1},k=function(e){return e<=40?40:e<=60?60:e<=80?80:e},r=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=x({},U,e);t.webp=t.webp&&T();var n=t.dpr,r=t.webp,i=t.cut,o=t.cutParam,a=t.setParam,s=t.paramWidth,c=t.heightRatio,u=t.quality,l=t.enlarge,f=t.tostatic,d=t.whitelist,p=t.restrain,h=S.concat();"string"==typeof d?h.push(d):d instanceof Array&&(h=h.concat(d));var m={imageView:1};if(r&&(m.type="webp"),i)m.crop=o.join("_");else if(1===a){var g=s||_;p&&(g=k(g));var v=Math.ceil(n*g);m.thumbnail=c?v+"y"+Math.ceil(v*c):v+"x0"}else if(2===a){var y=s||M;p&&(y=k(y));var b=Math.ceil(n*y);m.thumbnail=c?Math.ceil(b*c)+"y"+b:"0x"+b}return isNaN(u)||(m.quality=u),l&&(m.enlarge=1),m.thumbnail&&f&&(m.tostatic=1),m=(0,w.stringify)(m),function(e){if(!e)return e;var t=e,n=(0,w.createUrl)(e);return h.some(function(e){return 0<=n.hostname.indexOf(e)})&&(t=-1<t.indexOf("?")?t.split("?")[0]:t,m&&(t+="?"+m)),t}},o={directSuffix:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(t)(e)},suffix:r};t.default=o,e.exports=t.default},OP3Y:function(e,t,n){var r=n("aagx"),i=n("S/j/"),o=n("YTvA")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},ORHi:function(module,exports,__webpack_require__){var Awc;Awc=function(){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=r,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=8)}([function(e,t,n){var r=n(3),i=r.asrsea,o=r.ecnonasr,a=n(4),s=a.emj2code,c=a.BASE_CODE;e.exports={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e},obj2query:function(e){var t="";for(var n in e)void 0!==e[n]&&(t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&");return t.slice(0,-1)},query2obj:function(e){var r={};return e.split("&").forEach(function(e){var t=e.split("=");if(t.length){var n=t.shift();n&&(r[decodeURIComponent(n)]=decodeURIComponent(t.join("=")))}}),r},getCookie:function(e){if("undefined"!=typeof document){var t=document.cookie,n="\\b"+e+"=",r=t.search(n);if(r<0)return"";r+=n.length-2;var i=t.indexOf(";",r);return i<0&&(i=t.length),t.substring(r,i)||""}},asrsea:i,ecnonasr:o,emj2code:s,BASE_CODE:c}},function(e,t,n){var i=n(6),o=n(0).extend;e.exports=function(e,t){var r=o({url:e,type:(t=t||{}).type||"json",method:t.method||"get",data:t.body||t.data,crossOrigin:!t.noCrossOrigin,withCredentials:void 0===t.withCredentials||t.withCredentials},t);return!1===t.async?i(r):new Promise(function(t,n){r.error=function(e){n(e)},r.success=function(e){t({json:Promise.resolve.bind(Promise,e)})},i(r)})}},function(e,t){var n,c,r,i,o,u,a,P=function(s,e){var t={},n=t.lib={},r=function(){},i=n.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*s.random()|0);return new c.init(t,e)}}),o=t.enc={},a=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},u=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},l=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,o=r/(4*i);if(e=(o=e?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*i,r=s.min(4*e,r),e){for(var a=0;a<e;a+=i)this._doProcessBlock(n,a);a=n.splice(0,e),t.sigBytes-=r}return new c.init(a,r)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new d.HMAC.init(n,t).finalize(e)}}});var d=t.algo={};return t}(Math);c=(n=P).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map;(r=n.charAt(64))&&-1!=(r=e.indexOf(r))&&(t=r);for(var r=[],i=0,o=0;o<t;o++)if(o%4){var a=n.indexOf(e.charAt(o-1))<<o%4*2,s=n.indexOf(e.charAt(o))>>>6-o%4*2;r[i>>>2]|=(a|s)<<24-i%4*8,i++}return c.create(r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(o){function M(e,t,n,r,i,o,a){return((e=e+(t&n|~t&r)+i+a)<<o|e>>>32-o)+t}function T(e,t,n,r,i,o,a){return((e=e+(t&r|n&~r)+i+a)<<o|e>>>32-o)+t}function S(e,t,n,r,i,o,a){return((e=e+(t^n^r)+i+a)<<o|e>>>32-o)+t}function U(e,t,n,r,i,o,a){return((e=e+(n^(t|~r))+i+a)<<o|e>>>32-o)+t}for(var e=P,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,k=[],i=0;i<64;i++)k[i]=4294967296*o.abs(o.sin(i+1))|0;r=r.MD5=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=e[a=t+n];e[a]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}n=this._hash.words;var i,o,a=e[t+0],s=(r=e[t+1],e[t+2]),c=e[t+3],u=e[t+4],l=e[t+5],f=e[t+6],d=e[t+7],p=e[t+8],h=e[t+9],m=e[t+10],g=e[t+11],v=e[t+12],y=e[t+13],b=e[t+14],x=e[t+15],w=n[0],_=U(_=U(_=U(_=U(_=S(_=S(_=S(_=S(_=T(_=T(_=T(_=T(_=M(_=M(_=M(_=M(_=n[1],o=M(o=n[2],i=M(i=n[3],w=M(w,_,o,i,a,7,k[0]),_,o,r,12,k[1]),w,_,s,17,k[2]),i,w,c,22,k[3]),o=M(o,i=M(i,w=M(w,_,o,i,u,7,k[4]),_,o,l,12,k[5]),w,_,f,17,k[6]),i,w,d,22,k[7]),o=M(o,i=M(i,w=M(w,_,o,i,p,7,k[8]),_,o,h,12,k[9]),w,_,m,17,k[10]),i,w,g,22,k[11]),o=M(o,i=M(i,w=M(w,_,o,i,v,7,k[12]),_,o,y,12,k[13]),w,_,b,17,k[14]),i,w,x,22,k[15]),o=T(o,i=T(i,w=T(w,_,o,i,r,5,k[16]),_,o,f,9,k[17]),w,_,g,14,k[18]),i,w,a,20,k[19]),o=T(o,i=T(i,w=T(w,_,o,i,l,5,k[20]),_,o,m,9,k[21]),w,_,x,14,k[22]),i,w,u,20,k[23]),o=T(o,i=T(i,w=T(w,_,o,i,h,5,k[24]),_,o,b,9,k[25]),w,_,c,14,k[26]),i,w,p,20,k[27]),o=T(o,i=T(i,w=T(w,_,o,i,y,5,k[28]),_,o,s,9,k[29]),w,_,d,14,k[30]),i,w,v,20,k[31]),o=S(o,i=S(i,w=S(w,_,o,i,l,4,k[32]),_,o,p,11,k[33]),w,_,g,16,k[34]),i,w,b,23,k[35]),o=S(o,i=S(i,w=S(w,_,o,i,r,4,k[36]),_,o,u,11,k[37]),w,_,d,16,k[38]),i,w,m,23,k[39]),o=S(o,i=S(i,w=S(w,_,o,i,y,4,k[40]),_,o,a,11,k[41]),w,_,c,16,k[42]),i,w,f,23,k[43]),o=S(o,i=S(i,w=S(w,_,o,i,h,4,k[44]),_,o,v,11,k[45]),w,_,x,16,k[46]),i,w,s,23,k[47]),o=U(o,i=U(i,w=U(w,_,o,i,a,6,k[48]),_,o,d,10,k[49]),w,_,b,15,k[50]),i,w,l,21,k[51]),o=U(o,i=U(i,w=U(w,_,o,i,v,6,k[52]),_,o,c,10,k[53]),w,_,m,15,k[54]),i,w,r,21,k[55]),o=U(o,i=U(i,w=U(w,_,o,i,p,6,k[56]),_,o,x,10,k[57]),w,_,f,15,k[58]),i,w,y,21,k[59]),o=U(o,i=U(i,w=U(w,_,o,i,u,6,k[60]),_,o,g,10,k[61]),w,_,s,15,k[62]),i,w,h,21,k[63]);n[0]=n[0]+w|0,n[1]=n[1]+_|0,n[2]=n[2]+o|0,n[3]=n[3]+i|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32;var i=o.floor(n/4294967296);for(t[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;n<4;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.MD5=n._createHelper(r),e.HmacMD5=n._createHmacHelper(r)}(Math),o=(r=(i=P).lib).Base,u=r.WordArray,a=(r=i.algo).EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:r.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(a=this.cfg).hasher.create(),r=u.create(),i=r.words,o=a.keySize,a=a.iterations;i.length<o;){s&&n.update(s);var s=n.update(e).finalize(t);n.reset();for(var c=1;c<a;c++)s=n.finalize(s),n.reset();r.concat(s)}return r.sigBytes=4*o,r}}),i.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)},P.lib.Cipher||function(e){var t=(p=P).lib,n=t.Base,a=t.WordArray,r=t.BufferedBlockAlgorithm,i=p.enc.Base64,o=p.algo.EvpKDF,s=t.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(r){return{encrypt:function(e,t,n){return("string"==typeof t?h:d).encrypt(r,e,t,n)},decrypt:function(e,t,n){return("string"==typeof t?h:d).decrypt(r,e,t,n)}}}});t.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=p.mode={},u=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},l=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();l.Encryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;u.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),l.Decryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),u.call(this,e,t,r),this._prevBlock=i}}),c=c.CBC=l,l=(p.pad={}).Pkcs7={pad:function(e,t){for(var n,r=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,i=[],o=0;o<n;o+=4)i.push(r);n=a.create(i,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=s.extend({cfg:s.cfg.extend({mode:c,padding:l}),reset:function(){s.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(c=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?a.create([1398893684,1701076831]).concat(e).concat(t):t).toString(i)},parse:function(e){var t=(e=i.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=a.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:c}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,f.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=a.random(8)),e=o.create({keySize:t+n}).compute(e,r),n=a.create(e.words.slice(t),4*n),e.sigBytes=4*t,f.create({key:e,iv:n,salt:r})}},h=t.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:p}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=d.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,d.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=P,t=e.lib.BlockCipher,n=e.algo,a=[],r=[],i=[],o=[],s=[],c=[],u=[],l=[],f=[],d=[],p=[],h=0;h<256;h++)p[h]=h<128?h<<1:h<<1^283;var m=0,g=0;for(h=0;h<256;h++){var v=(v=g^g<<1^g<<2^g<<3^g<<4)>>>8^255&v^99;a[m]=v;var y=p[r[v]=m],b=p[y],x=p[b],w=257*p[v]^16843008*v;i[m]=w<<24|w>>>8,o[m]=w<<16|w>>>16,s[m]=w<<8|w>>>24,c[m]=w,w=16843009*x^65537*b^257*y^16843008*m,u[v]=w<<24|w>>>8,l[v]=w<<16|w>>>16,f[v]=w<<8|w>>>24,d[v]=w,m?(m=y^p[p[p[x^y]]],g^=p[p[g]]):m=g=1}var _=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),r=this._keySchedule=[],i=0;i<n;i++)if(i<t)r[i]=e[i];else{var o=r[i-1];i%t?6<t&&4==i%t&&(o=a[o>>>24]<<24|a[o>>>16&255]<<16|a[o>>>8&255]<<8|a[255&o]):(o=a[(o=o<<8|o>>>24)>>>24]<<24|a[o>>>16&255]<<16|a[o>>>8&255]<<8|a[255&o],o^=_[i/t|0]<<24),r[i]=r[i-t]^o}for(e=this._invKeySchedule=[],t=0;t<n;t++)i=n-t,o=t%4?r[i]:r[i-4],e[t]=t<4||i<=4?o:u[a[o>>>24]]^l[a[o>>>16&255]]^f[a[o>>>8&255]]^d[a[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,o,s,c,a)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,l,f,d,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],d=e[t+3]^n[3],p=4,h=1;h<c;h++){var m=r[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&d]^n[p++],g=r[l>>>24]^i[f>>>16&255]^o[d>>>8&255]^a[255&u]^n[p++],v=r[f>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&l]^n[p++];d=r[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&f]^n[p++],u=m,l=g,f=v}m=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^n[p++],g=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[p++],v=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[p++],d=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[p++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=d},keySize:8});e.AES=t._createHelper(n)}(),e.exports=P},function(e,t,n){var o=n(2),i=n(5);function a(e,t){var n=o.enc.Utf8.parse(t),r=o.enc.Utf8.parse("0102030405060708"),i=o.enc.Utf8.parse(e);return o.AES.encrypt(i,n,{iv:r,mode:o.mode.CBC}).toString()}function s(e,t,n){var r;return i.setMaxDigits(131),r=new i.RSAKeyPair(t,"",n),i.encryptedString(r,e)}e.exports={asrsea:function(e,t,n,r){var i={},o=function(e){var t,n,r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",i="";for(t=0;t<e;t+=1)n=Math.random()*r.length,n=Math.floor(n),i+=r.charAt(n);return i}(16);return i.encText=a(e,r),i.encText=a(i.encText,o),i.encSecKey=s(o,t,n),i},ecnonasr:function(e,t,n,r){var i={};return i.encText=s(e+r,t,n),i}}},function(e,t){var n={"色":"00e0b","流感":"509f6","这边":"259df","弱":"8642d","嘴唇":"bc356","亲":"62901","开心":"477df","呲牙":"22677","憨笑":"ec152","猫":"b5ff6","皱眉":"8ace6","幽灵":"15bb7","蛋糕":"b7251","发怒":"52b3a","大哭":"b17a8","兔子":"76aea","星星":"8a5aa","钟情":"76d2e","牵手":"41762","公鸡":"9ec4e","爱意":"e341f","禁止":"56135","狗":"fccf6","亲亲":"95280","叉":"104e0","礼物":"312ec","晕":"bda92","呆":"557c9","生病":"38701","钻石":"14af6","拜":"c9d05","怒":"c4f7f","示爱":"0c368","汗":"5b7a4","小鸡":"6bee2","痛苦":"55932","撇嘴":"575cc","惶恐":"e10b4","口罩":"24d81","吐舌":"3cfe4","心碎":"875d3","生气":"e8204","可爱":"7b97d","鬼脸":"def52","跳舞":"741d5","男孩":"46b8e","奸笑":"289dc","猪":"6935b","圈":"3ece0","便便":"462db","外星":"0a22b","圣诞":"8e7","流泪":"01000","强":"1","爱心":"0CoJU","女孩":"m6Qyw","惊恐":"8W8ju","大笑":"d"},r=i(["色","流感","这边","弱","嘴唇","亲","开心","呲牙","憨笑","猫","皱眉","幽灵","蛋糕","发怒","大哭","兔子","星星","钟情","牵手","公鸡","爱意","禁止","狗","亲亲","叉","礼物","晕","呆","生病","钻石","拜","怒","示爱","汗","小鸡","痛苦","撇嘴","惶恐","口罩","吐舌","心碎","生气","可爱","鬼脸","跳舞","男孩","奸笑","猪","圈","便便","外星","圣诞"]);function i(e){return e.map(function(e){return n[e]}).join("")}e.exports={emj2code:i,BASE_CODE:r}},function(e,t){function n(e){O=new Array(e);for(var t=0;t<O.length;t++)O[t]=0;I=new b,(R=new b).digits[0]=1}function b(e){this.digits="boolean"==typeof e&&1==e?null:O.slice(0),this.isNeg=!1}function x(e){var t=new b(!0);return t.digits=e.digits.slice(0),t.isNeg=e.isNeg,t}function r(e){var t,n=new b;for(n.isNeg=e<0,e=Math.abs(e),t=0;0<e;)n.digits[t++]=e&G,e>>=V;return n}function o(e){var t,n="";for(t=e.length-1;-1<t;--t)n+=e.charAt(t);return n}function f(e,t){var n,r,i=new b;for(i.digits[0]=t,n=g(e,i),r=L[n[1].digits[0]];1==E(n[0],I);)n=g(n[0],i),digit=n[1].digits[0],r+=L[n[1].digits[0]];return(e.isNeg?"-":"")+o(r)}function a(e){var t="";for(i=0;i<4;++i)t+=N[15&e],e>>>=4;return o(t)}function d(e){var t,n="";for(M(e),t=M(e);-1<t;--t)n+=a(e.digits[t]);return n}function s(e){return 48<=e&&e<=57?e-48:65<=e&&e<=90?10+e-65:97<=e&&e<=122?10+e-97:0}function c(e){var t,n=0,r=Math.min(e.length,4);for(t=0;t<r;++t)n<<=4,n|=s(e.charCodeAt(t));return n}function u(e){var t,n,r=new b;for(t=e.length,n=0;0<t;t-=4,++n)r.digits[n]=c(e.substr(Math.max(t-4,0),Math.min(t,4)));return r}function w(e,t){var n,r,i,o;if(e.isNeg!=t.isNeg)t.isNeg=!t.isNeg,n=_(e,t),t.isNeg=!t.isNeg;else{for(n=new b,o=r=0;o<e.digits.length;++o)i=e.digits[o]+t.digits[o]+r,n.digits[o]=65535&i,r=Number(B<=i);n.isNeg=e.isNeg}return n}function _(e,t){var n,r,i,o;if(e.isNeg!=t.isNeg)t.isNeg=!t.isNeg,n=w(e,t),t.isNeg=!t.isNeg;else{for(n=new b,o=i=0;o<e.digits.length;++o)r=e.digits[o]-t.digits[o]+i,n.digits[o]=65535&r,n.digits[o]<0&&(n.digits[o]+=B),i=0-Number(r<0);if(-1==i){for(o=i=0;o<e.digits.length;++o)r=0-n.digits[o]+i,n.digits[o]=65535&r,n.digits[o]<0&&(n.digits[o]+=B),i=0-Number(r<0);n.isNeg=!e.isNeg}else n.isNeg=e.isNeg}return n}function M(e){for(var t=e.digits.length-1;0<t&&0==e.digits[t];)--t;return t}function T(e){var t,n=M(e),r=e.digits[n],i=(n+1)*Y;for(t=i;i-Y<t&&0==(32768&r);--t)r<<=1;return t}function l(e,t){var n,r,i,o,a=new b,s=M(e),c=M(t);for(o=0;o<=c;++o){for(n=0,i=o,j=0;s>=j;++j,++i)r=a.digits[i]+e.digits[j]*t.digits[o]+n,a.digits[i]=r&G,n=r>>>V;a.digits[o+s+1]=n}return a.isNeg=e.isNeg!=t.isNeg,a}function S(e,t){var n,r,i,o;for(result=new b,n=M(e),o=r=0;o<=n;++o)i=result.digits[o]+e.digits[o]*t+r,result.digits[o]=i&G,r=i>>>V;return result.digits[1+n]=r,result}function p(e,t,n,r,i){var o,a,s=Math.min(t+i,e.length);for(o=t,a=r;o<s;++o,++a)n[a]=e[o]}function U(e,t){var n,r,i,o,a=Math.floor(t/Y),s=new b;for(p(e.digits,0,s.digits,a,s.digits.length-a),r=Y-(n=t%Y),o=(i=s.digits.length-1)-1;0<i;--i,--o)s.digits[i]=s.digits[i]<<n&G|(s.digits[o]&D[n])>>>r;return s.digits[0]=s.digits[i]<<n&G,s.isNeg=e.isNeg,s}function k(e,t){var n,r,i,o,a=Math.floor(t/Y),s=new b;for(p(e.digits,a,s.digits,0,e.digits.length-a),r=Y-(n=t%Y),o=(i=0)+1;i<s.digits.length-1;++i,++o)s.digits[i]=s.digits[i]>>>n|(s.digits[o]&F[n])<<r;return s.digits[s.digits.length-1]>>>=n,s.isNeg=e.isNeg,s}function P(e,t){var n=new b;return p(e.digits,0,n.digits,t,n.digits.length-t),n}function h(e,t){var n=new b;return p(e.digits,t,n.digits,0,n.digits.length-t),n}function m(e,t){var n=new b;return p(e.digits,0,n.digits,0,t),n}function E(e,t){if(e.isNeg!=t.isNeg)return 1-2*Number(e.isNeg);for(var n=e.digits.length-1;0<=n;--n)if(e.digits[n]!=t.digits[n])return e.isNeg?1-2*Number(e.digits[n]>t.digits[n]):1-2*Number(e.digits[n]<t.digits[n]);return 0}function g(e,t){var n,r,i,o,a,s,c,u,l,f,d,p,h,m,g=T(e),v=T(t),y=t.isNeg;if(g<v)return e.isNeg?((n=x(R)).isNeg=!t.isNeg,e.isNeg=!1,t.isNeg=!1,r=_(t,e),e.isNeg=!0,t.isNeg=y):(n=new b,r=x(e)),new Array(n,r);for(n=new b,r=e,i=Math.ceil(v/Y)-1,o=0;t.digits[i]<z;)t=U(t,1),++o,++v,i=Math.ceil(v/Y)-1;for(r=U(r,o),g+=o,s=P(t,(a=Math.ceil(g/Y)-1)-i);-1!=E(r,s);)++n.digits[a-i],r=_(r,s);for(c=a;i<c;--c){for(u=c>=r.digits.length?0:r.digits[c],l=c-1>=r.digits.length?0:r.digits[c-1],f=c-2>=r.digits.length?0:r.digits[c-2],d=i>=t.digits.length?0:t.digits[i],p=i-1>=t.digits.length?0:t.digits[i-1],n.digits[c-i-1]=u==d?G:Math.floor((u*B+l)/d),h=n.digits[c-i-1]*(d*B+p),m=u*H+(l*B+f);m<h;)--n.digits[c-i-1],h=n.digits[c-i-1]*(d*B|p),m=u*B*B+(l*B+f);(r=_(r,S(s=P(t,c-i-1),n.digits[c-i-1]))).isNeg&&(r=w(r,s),--n.digits[c-i-1])}return r=k(r,o),n.isNeg=e.isNeg!=y,e.isNeg&&(n=y?w(n,R):_(n,R),r=_(t=k(t,o),r)),0==r.digits[0]&&0==M(r)&&(r.isNeg=!1),new Array(n,r)}function v(e){this.modulus=x(e),this.k=M(this.modulus)+1;var t,n,r=new b;r.digits[2*this.k]=1,this.mu=(t=r,n=this.modulus,g(t,n)[0]),this.bkplus1=new b,this.bkplus1.digits[this.k+1]=1,this.modulo=y,this.multiplyMod=C,this.powMod=A}function y(e){var t,n=h(l(h(e,this.k-1),this.mu),this.k+1),r=_(m(e,this.k+1),m(l(n,this.modulus),this.k+1));for(r.isNeg&&(r=w(r,this.bkplus1)),t=0<=E(r,this.modulus);t;)t=0<=E(r=_(r,this.modulus),this.modulus);return r}function C(e,t){var n=l(e,t);return this.modulo(n)}function A(e,t){var n,r,i=new b;for(i.digits[0]=1,n=e,r=t;0!=(1&r.digits[0])&&(i=this.multiplyMod(i,n)),0!=(r=k(r,1)).digits[0]||0!=M(r);)n=this.multiplyMod(n,n);return i}var O,I,R,L,N,D,F,V=16,Y=V,B=65536,z=B>>>1,H=B*B,G=B-1;n(20),r(1e15),L=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),N=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),D=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),F=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535),e.exports={RSAKeyPair:function(e,t,n){this.e=u(e),this.d=u(t),this.m=u(n),this.chunkSize=2*M(this.m),this.radix=16,this.barrett=new v(this.m)},setMaxDigits:n,encryptedString:function(e,t){for(var n,r,i,o,a,s,c=new Array,u=t.length,l=0;l<u;)c[l]=t.charCodeAt(l),l++;for(;0!=c.length%e.chunkSize;)c[l++]=0;for(n=c.length,r="",l=0;l<n;l+=e.chunkSize){for(a=new b,i=0,o=l;o<l+e.chunkSize;++i)a.digits[i]=c[o++],a.digits[i]+=c[o++]<<8;s=e.barrett.powMod(a,e.e),r+=(16==e.radix?d(s):f(s,e.radix))+" "}return r.substring(0,r.length-1)}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,QKc;
/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */QKc=function(){var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=__webpack_require__(7)}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0!==e.crossOrigin)return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP");var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")},globalSetupOptions={dataFilter:function(e){return e}};function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var i="undefined"!=typeof FormData&&t.data instanceof FormData;for(n in t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||i||(r[contentType]=t.contentType||defaultHeaders.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,o=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(i),s=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),c=r.match(s),u=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?r=r.replace(s,"$1="+a):a=c[3]:r=urlappend(r,o+"="+a),context[a]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,void 0===u.onreadystatechange||f||(u.htmlFor=u.id="_reqwest_"+i),u.onload=u.onreadystatechange=function(){if(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||l)return!1;u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),l=1},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),l=1}}}function getRequest(e,t){var n,r=this.o,i=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,a=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=i||!a||(o=urlappend(o,a),a=null),"jsonp"==r.type?handleJsonp(r,e,t,o):((n=r.xhr&&r.xhr(r)||xhr(r)).open(i,o,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;0<self._completeHandlers.length;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);0<self._fulfillmentHandlers.length;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;0<self._errorHandlers.length;)self._errorHandlers.shift()(e,t,n);complete(e)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,i,o,a=e.name,s=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),i=e.value,(!n&&!r||e.checked)&&t(a,normalize(n&&""===i?"on":i)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(0<=e.selectedIndex?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&c(e.options[o])}}function eachFormElement(){var e,t,o=this,n=function(e,t){var n,r,i;for(n=0;n<t.length;n++)for(i=e[byTag](t[n]),r=0;r<i.length;r++)serial(i[r],o)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,o),n(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var n={};return eachFormElement.apply(function(e,t){e in n?(n[e]&&!isArray(n[e])&&(n[e]=[n[e]]),n[e].push(t)):n[e]=t},arguments),n}function buildParams(e,t,n,r){var i,o,a,s=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)a=t[o],n||s.test(e)?r(e,a):buildParams(e+"["+("object"==typeof a?o:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var n=[];return eachFormElement.apply(function(e,t){n.push({name:e,value:t})},arguments),n},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t=Array.prototype.slice.call(arguments,0);return(e=t.pop())&&e.nodeType&&t.push(e)&&(e=null),e&&(e=e.type),("map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString).apply(null,t)},reqwest.toQueryString=function(e,t){var n,r,i=t||!1,o=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=a(e)+"="+a(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)s(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],i,s);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){for(var t in e=e||{})globalSetupOptions[t]=e[t]},reqwest},void 0!==module&&module.exports?module.exports=QKc():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=QKc)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t){},function(e,t,n){var r=n(0),s=r.extend,c=r.obj2query,u=r.query2obj,l=r.getCookie,f=r.asrsea,d=(r.ecnonasr,r.emj2code),p=r.BASE_CODE,h=void 0;"undefined"!=typeof window&&(h=n(1));var m="Content-Type",g=/(^|\.com)\/api/;function i(e,t){var n,r={},i=(t=s({},t),e.split("?")),o=t.headers||(t.headers={});if(void 0===t.credentials&&(t.credentials="include"),!g.test(e)||"multipart/form-data"===o[m]||t.noEnc)return h(e,t);o[m]="application/x-www-form-urlencoded",o.Accept,2===i.length&&(r=u(i[1])),e=i[0],["query","data"].forEach(function(e){t[e]&&(r=s(r,"string"==typeof t[e]?u(t[e]):t[e]))});var a=l("__csrf");return a&&(r.csrf_token=a),e=e.replace(/\/api\//,"/weapi/")+(a?"?"+c({csrf_token:r.csrf_token}):""),t.method="post",delete t.query,delete t.data,n=f(JSON.stringify(r),d(["流泪","强"]),p,d(["爱心","女孩","惊恐","大笑"])),t.body=c({params:n.encText,encSecKey:n.encSecKey}),h(e,t)}i.encode=function(e,t){e||(e={}),t&&(e.csrf_token=t);var n=f(JSON.stringify(e),d(["流泪","强"]),p,d(["爱心","女孩","惊恐","大笑"]));return t&&(n.query=c({csrf_token:t})),n},i.util=s({fetch:h},r),e.exports=i}])},module.exports=Awc()},Off7:function(e,t){!function(){if("undefined"!=typeof window){var Ee,Ce,E,Ae,Oe,C,e=(new o).d,t=(new o).d,n=(new o).d,r=(new o).d,i=(new o).d;Ce=[n("44UsY4UP"),n("40UcU7UcUkUsYkP6UxYPUYUcU7"),t("U4UPUVUlU4UPPPPk4c4VUlU0Y6UlU7UPU7Y4"),r("47P6P6UxUsYcUPYkPVUeUPUxUx"),r("40PVk6PkUPUUUPYkUPU7UVUPk6PVUsU7YVk6PVUPYkUcUU"),n("4eUcYkUsUYUcU7Ulk6PVUsU7YVk64Y4k"),t("YVUPYkUcUU"),i("UYUPY44VUlU7Y4UPYeY4")],E=[i("YPU7UcUUUlYkU0VkUU")],Ae=[t(""),i("4YYkUsYcP4UPYeY4"),e("Y6UsYkUPU7Y4"),n("7Phchx7PcxeU"),e("Y6UxYPUYUcU7YV"),t("4sU4UlUkUP4PYe40UsU744UPY4UPUVY4"),n("V6V6VsV6"),t("4YUlUlUYUxUPk64PUsYkY4Uek6P6UxYPUYUcU7"),e("PUUPUPY4UxUPk6P4PUk64VUlYkUP"),r("V6V6V6VY"),r("V6V6V6V4"),t("V6V6V6Vk"),t("V6V6V6VV"),i("V6V6V6V6"),n("V6V6V6Vs"),i("PPU7UcY4Yck6P6UxUsYcUPYk"),t("PVUhYcY6UPk6PYUPUkk6P6UxYPUYUcU7"),t("PYUPUk4hUcY4k0UcU7Y4UPUYYkUcUPYkY4UPk6P6444U"),n("4kUPUxUxk640P4"),n("V6V6V6Ve"),i("UYUPY4PVYPY6Y6UlYkY4UPU44PYeY4UPU7YVUcUlU7YV"),t("YVUPY4P4UcU0UP"),n("V6V6V6Vc"),i("PVUsUUUPPVUPUsYkUVUe"),t("kk"),r("k4"),r("PPU7UcYUUPYkYV"),n("kP"),n("kU"),r("kY"),r("VsVsVsV6"),t("UYUPY4k6Y6UxYPUYUcU7k6YVY4YkUcU7UYk6UPYeUVUPY6Y4UcUlU7"),n("P4UeYkUPUP44PVUeUsU4UlYY"),i("kh"),r("kx"),t("k0"),r("4sYkUsUk"),i("7eehhc7Uc7cx74heh07YhheU7PG7eh"),t("k7"),i("4UPPPG4PPVUeUsYkUP"),i("kl"),t("V6"),e("Vs"),r("Vk"),n("VV"),n("V4"),n("74hhhl7PG7ehPl4Y4kVkVVVsVk"),i("VP"),r("VU"),n("4cU7UsUVY4UcYUUP4VUsY6Y4UcUlU7P4UPYeY4"),r("VY"),t("PY4P4kPG4P47k64kYkUlYYYVUPYkk64PYeY4UPU7YVUcUlU7"),r("Ve"),n("Vc"),i("VG"),i("44UcYUPek64kYkUlYYYVUPYkk6P6UxYPUYk04cU7"),e("Vh"),i("V0"),t("PPY6UxUsYck6P64V"),n("UVUsU7YUUsYVk6UPYeUVUPY6Y4UcUlU7"),r("4s"),e("4k"),i("4V"),i("44"),i("4P"),r("7Ph7G77eh0Gl7ccheP7chhcs"),n("4U"),e("4eUsYkYkUcU7UYY4UlU7"),r("4Y"),r("4e"),r("4c"),e("4G"),n("4YU7UlU0UPk6PVUeUPUxUxk64cU7Y4UPUYYkUsY4UcUlU7"),r("4h"),r("4x"),r("40"),n("47"),r("4l"),e("P6"),t("Ps"),e("Pk"),t("PV"),i("47UcUsUYUsYkUsk6PVUlUxUcU4"),i("P4"),n("PVUPUU4VUxUcUPU7Y4k6P6UxYPUYUcU7"),t("PP"),n("PU"),t("VsVsVsVs"),n("PY"),t("Pe"),i("Pc"),e("PG"),n("4YUlYPU4Yck64lUxU4k6PVY4YcUxUP"),e("Px"),i("PkUlUkUxUlYek64xUsYPU7UVUeUPYkk6P6UxYPUYUcU7"),t("40UcUVYkUlYVUlUUY4k64lUUUUUcUVUPk6VkV6VsVV"),r("PsPs40YPYVUcUV"),e("Us"),n("4PYPYkUlYVY4UcUxUP"),n("Uk"),e("YkU0UlUVYek7PkUPUsUxP6UxUsYcUPYkk64YVkk64VUlU7Y4YkUlUxk7Vs"),e("UV"),t("PVUVYkUcY6Y4UcU7UYk744UcUVY4UcUlU7UsYkYc"),r("U4"),r("74hhhl7PG7eh"),r("UP"),e("UU"),e("UY"),n("Ue"),t("40Usk04VUlU7UUUcUYk7UVUlU0k6Y6UxYPUYUcU7"),t("Uc"),i("VsV6VsV6"),t("4VUsYVYPUsUx"),t("UG"),n("Uh"),n("Ux"),t("U0"),i("U7"),n("Ul"),t("Y6"),e("VsV6V6Ve"),r("UVY4"),t("U4Ul47UlY4P4YkUsUVUh"),i("Ys"),t("YVUPY4P4UcU0UPUlYPY4"),r("74heh07PG7ehk6P6YkUl"),n("Yk"),e("4YUcYVUeUs"),e("UYUPY4P4UcU0UPYGUlU7UP4lUUUUYVUPY4"),i("YV"),t("VsV6V6VP"),i("VsV6V6V4"),e("Y4"),e("YP"),i("VsV6V6VV"),r("YU"),r("VsV6V6Vs"),t("YY"),n("Ye"),n("U4YkUsYY4sYkYkUsYcYV"),i("Yc"),n("YG"),r("Yh"),i("Y0"),e("Y7"),t("UUUlU7Y4"),i("VsV6V6Vc"),e("V0U7YPUxUxVhk6Y6UsY4UeV0klVhk6UPYeY6UcYkUPYVV0"),r("PVUeUPUxUxk7PP4c4eUPUxY6UPYk"),r("Y4Ul44UsY4UsPPPk4x"),r("PYUcU7U4UlYYP4UPYeY4"),n("UxUsU7UYYPUsUYUP"),i("U4Ul"),r("74heh07chhcsk6P6YkUl"),n("4eUcUYUeUxUcUYUeY4P4UPYeY4"),e("U4UcYU"),i("40UPU7YPP4UPYeY4"),n("4s4l4xk640UPU4UcUsk6P6UxUsYcUkUsUVUhk6P6UxYPUYUcU7"),r("4VUcY4YkUcYek6UlU7UxUcU7UPk6Y6UxYPUYk0UcU7"),r("UPUV"),r("44UPYVU4UPU0UlU7Us"),e("4cU7UsUVY4UcYUUP4kUlYkU4UPYk"),r("PkUPUsUxP6UxUsYcUPYk"),t("4e4P4x4x4l"),r("kxk6kYUVUlU4UPkYVG"),e("UPU0"),r("U7Y6P4UlU7UYUkYP4sU4U4UcU7"),n("UVYkUPUsY4UP4PUxUPU0UPU7Y4"),i("Y6UeUsU7Y4UlU0"),e("40PVk6P640UcU7UVUeUl"),t("7UGPhY74h0cV"),t("UPYUUsUx"),r("UPYe"),e("44UcYUPek6PU4l44k64eUPUxY6UPYkk6P6UxYPUYk0UcU7"),r("7UcUh67YhheU7Ucee774h0cV"),t("PsYPUcUVUhP4UcU0UP4VUeUPUVUh4lUkUGUPUVY4k7PsYPUcUVUhP4UcU0UP4VUeUPUVUhk7Vs"),e("4UUxYc4lYk44UcUPk64YUsU0UPYVk6P6UxYPUYUcU7"),n("UsY4Y4UsUVUePVUeUsU4UPYk"),n("P6UxUsYc4lU7k6P6UxYPUYk0UcU7"),r("UYUPY4P4UcU0UP"),n("Vsk7V6Vs"),n("4kYkUlUsU4YYUsYc"),e("UUY6"),n("4sUxUsYYUsYkk647P64sP64ck6YPY4UcUxYV"),t("4UUlYkY4UP"),i("UeUsYVUe4VUlU4UP"),n("7UcUhc7UG0GV7PGYcG74h0cV"),n("4PPV47k6PVUlU7UsYkk64sP64c"),e("4eP644UPY4UPUVY4"),n("4kUcY4U4UPUUUPU7U4UPYkk6PsYPUcUVUhPVUVUsU7"),e("4c4Pk6P4UsUkk6Y6UxYPUYUcU7"),i("kYkx"),e("4kYPY4Y4UlU74UUsUVUP"),n("UVY6YP4VUxUsYVYV"),i("4VUPU7Y4YPYkYck64YUlY4UeUcUV"),r("4lU7UxUcU7UPk6PVY4UlYkUsUYUPk6Y6UxYPUYk0UcU7"),e("PVUsUUUPYkk6PPY6U4UsY4UP"),t("40YVYeU0UxVkk7444l4044UlUVYPU0UPU7Y4"),t("4PU7UYYkUsYUUPYkYVk640P4"),t("PVUcUxYUUPYkUxUcUYUeY4k6P6UxYPUYk04cU7"),i("4YUlUlUYUxUPk64YUPUsYkYVk6V6k7VPk7VVVVk7V6"),i("4VUcY4YkUcYek64c4V4sk64VUxUcUPU7Y4"),t("UsUxY6UeUsUkUPY4UcUV"),e("PU44UlYYU7UxUlUsU4UPYk"),n("7Pe0e77UcUeY7UGPhY74h0cV"),r("UsY4Y4YkPUUPYkY4UPYe"),i("7PG7eh74h0cV"),r("UVUlUlUhUcUP"),i("kPVkVk"),e("kPVkVU"),i("4VUPU7Y4UsYPYk"),i("V4UYUsU0UP"),n("PkUlUVUhYYUPUxUx"),n("4xUlUY40UP4cU7k6P6UxYPUYUcU7k6Vsk7V6k7V6k7VcVUVs"),i("4lUVY4UlYVUeUsY6UPk6PVY4YkUPUsU0UcU7UYk6PVUPYkYUUcUVUPYV"),n("Y4Ul4Y40P4PVY4YkUcU7UY"),t("Y4UeV0kl"),t("PVYPU0UsY4YkUsP6444Uk64kYkUlYYYVUPYkk6P6UxYPUYUcU7"),e("P6444Uk7P6U4UU4VY4YkUx"),i("UUUcUxUxPVY4YcUxUP"),t("UGUP"),r("4sU4UlUkUPk640UcU7UYk6PVY4U4"),i("P4UlYkUVUe4eUPUxY6UPYk"),n("4UYkUsU7UhUxUcU7k64YUlY4UeUcUVk64eUPUsYUYc"),r("7Pe0e77UcUeY74hhhl7PG7eh"),i("4eUsYkU0UlU7Yck6P6UxYPUYk04cU7"),t("4YUcUYUc"),r("YUVsk7Vs"),i("4hUcU7Ulk640P4"),r("PVUcU04eUPUc"),e("4sUxUcPVPV4l4xUlUYUcU7k6Y6UxYPUYUcU7"),e("PkUPUsUxP6UxUsYcUPYkk7PkUPUsUxP6UxUsYcUPYkkeY4U0kck64sUVY4UcYUUPPek64VUlU7Y4YkUlUxk6keVVVkk0UkUcY4kc"),t("PcUsU7U4UPYek6P6444Uk6PUUcUPYYUPYk"),i("4VUcY4YkUcYek6PkUPUVUPUcYUUPYkk6P6UxYPUYk0UcU7"),i("U0UsUc"),i("Y4UlY6"),t("4sUVYkUlP6444Uk7P6444U"),i("UVUsU7YUUsYVk6UsY6Uck6UPYeUVUPY6Y4UcUlU7"),t("4cU7UsUVY4UcYUUP4VUsY6Y4UcUlU7"),i("40UPU7YP"),t("Y6YkUPUVUcYVUcUlU7k6U0UPU4UcYPU0Y6k6UUUxUlUsY4Vhk6YUUsYkYcUcU7UYk6YUUPUVVkk6YUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPVhk6YUUlUcU4k6U0UsUcU7kekck6Yhk6k6k6UYUxPl4UYkUsUY4VUlUxUlYkk6V0k6YUUPUVV4keYUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPkxk6V6kxk6VskcVhk6Y0"),i("PsPsVkV6VsVVk64UUcYkUPUUUlYek6P6UxYPUYUcU7"),r("4YUlUlUYUxUPk6PPY6U4UsY4UP"),e("7Pe0e77UcUeY7Ph0Gc74hGcs"),e("UP40YPYVUcUVP6UxYPUYUcU7k6444x40VU"),r("PYUPUkk64VUlU0Y6UlU7UPU7Y4YV"),n("4kUsUkYcUxUlU7k6P4UlUlUx4kUsYk"),i("4VUlUlYYUlU7k6PPY6U4UsY4UP"),e("4cU7UUUlP4UPYeY4"),r("YkU0UlUVYek7PkUPUsUxP6UxUsYcUPYkk64YVkk64VUlU7Y4YkUlUx"),t("Uc40UPYVUek6Y6UxYPUYUcU7"),n("PkUPUsUx44UlYYU7UxUlUsU4UPYkk6P6UxYPUYUcU7"),n("PVYcU0UsU7Y4UPUVk6P64h4ck64VUxUcUPU7Y4"),i("PlY6UeUsU7Y4UlU0"),i("4Y444xk64lUkUGUPUVY4k6PYUPUkk6P6UxYPUYk0UcU7k6VsVUk7V6V6"),t("YYUPUkUYUx"),e("7Pe0e77UcUeY7PG7eh74h0cV"),i("YVUVYkUPUPU7"),e("UkUlU4Yc"),r("P4Pk4c4s474Y4x4PPlPVP4Pk4cP6"),e("U7V0"),t("P4UxYYUY40UlU7Ul"),r("kYVGkY"),e("4xUlUY40UP4cU7k6P6UxYPUYUcU7k6Vsk7V6k7V6k7VcVVVP"),t("UUYPU7UVY4UcUlU7"),n("UVUlU7Y4UPYeY4k7UeUsYVUe4VUlU4UP"),e("4sYkUVUeUc4V4s44"),i("PU4PPkP44PPePlPV4e4s444PPk"),e("PPUkYPU7Y4YP"),t("4UUsUVUPUkUlUlUhk6P6UxYPUYUcU7"),n("4sUVY4UcYUUP4VUsY6Y4UcUlU7"),i("7YhheU7Ucee774h0cV"),e("40UsUxUYYPU7k64YUlY4UeUcUV"),n("47UPYYYVk64YUlY4UeUcUVk640P4"),n("4VUsY6Y4UcUlU7P4UPYeY4"),e("UsPGUkPcV6UVPeU4PYVsUPPUUUVkPPUYVVP4UeV4PVUcPkVPUGPsUhVUP6Ux4lVYU047U7Ve40Ul4xVcY64hYs4GYk4cYV4eY44YYP4UYU4PYY44Ye4VYc4kYG4s"),n("44UPUGUsPUYPk64x4Y4Vk6PVUsU7YVk640UlU7Ul"),e("4VUlY6Y6UPYkY6UxUsY4UPk64YUlY4UeUcUVk64xUcUYUeY4"),n("PVUPUYUlUPk6P6YkUcU7Y4"),i("PVUsYYUsYVU4UPUP"),t("4kUsYPUeUsYPYVk6VcVV"),r("4VUeUsUxUhU4YPYVY4UPYk"),i("4sUkUsU4Uck640P4k64VUlU7U4UPU7YVUPU4k64xUcUYUeY4"),r("4xYPUVUcU4Usk64kYkUcUYUeY4"),i("PYUcU4UPk64xUsY4UcU7"),i("UUUlU7Y4k6U4UPY4UPUVY4k6UPYkYkUlYk"),r("4hUlYGYPUhUsk64YUlY4UeUcUVk6P6YkVU47"),t("4eY4U0UxVPk6UxUlUVUsY4UcUlU7k6Y6YkUlYUUcU4UPYk"),r("44UcYUPek6P6UxYPYVk6PYUPUkk6P6UxUsYcUPYk"),r("PUUxUsU4UcU0UcYkk6PVUVYkUcY6Y4"),t("4UUcUxUPk644UlYYU7UxUlUsU4UPYkk6P6UxYPUYk0UcU7"),r("UlUk"),t("4sU4UlU4Ukk7PVY4YkUPUsU0"),t("40UPU7UxUl"),n("UVUsUxUxP6UeUsU7Y4UlU0"),e("PYUlUxUUYkUsU0k640UsY4UeUPU0UsY4UcUVUs"),n("4VUsY4UsUxUcU7Us4YYkUlYPY6k6PPY6U4UsY4UP"),e("4PYkUsYVk64kUlUxU4k64cP44V"),n("44UPYUUsUxPUPkPe4VY4YkUxk744UPYUUsUxPUPkPe4VY4YkUxk7Vs"),e("4GPV4PPVPV4c4l474c44k0PYPcPcPc"),i("7Pe0e77UcUeY7YhheU7chhcs"),e("UsU4U44kUPUeUsYUUcUlYk"),e("Y6Us"),e("4kUcY4YVY4YkUPUsU0k6PUUPYkUsk6PVUPYkUcUU"),t("keUUYPU7UVY4UcUlU7kekcYhYkUPY4YPYkU7k6VsVkVVVhY0kckekcVh"),t("Y6Uc"),t("P4UPU7UVUPU7Y4k64UP447k6Y6UxYPUYk0UcU7"),e("YkUPU0UlYUUP4VUeUcUxU4"),r("4UUlUxYek6VVk64kYkUlYYYVUPYkk6P6UxYPUYUcU7"),e("YPYVUPP6YkUlUYYkUsU0"),r("UeUlYVY4U7UsU0UP"),r("Y6UeUsU7Y4UlU0k7UcU7UGUPUVY44GYV"),r("PVUeUlUVUhYYUsYUUP4UUxUsYVUek7PVUeUlUVUhYYUsYUUP4UUxUsYVUe"),t("YkUYUkUskeVsV6Vkkxk6VkV6V4kxk6V6kxk6V6k7VYkc"),n("4sU4UkUxUlUVUhP6UxYPUYUcU7"),n("4kUsUVUhUYYkUlYPU7U4"),i("4sUY4VUlU7Y4YkUlUxk74sUY4VUlU7Y4YkUlUx"),n("P6UeUlY4Ul4VUPU7Y4UPYkP6UxYPUYUcU7Vsk7Vsk7Vkk7Vk"),i("4YYPU7UYPVUPUl"),n("YVV0"),t("U4UPUVUlU4UPPPPk4c"),i("7UcUhc7UG0GV7eeeck74h0cV"),t("7Pe0e77UcUeY7UcUh67cG0el"),t("VsVkVV"),i("YYUPUkUYUxk6UPYeUVUPY6Y4UcUlU7"),r("YkUP"),e("PY40P6UxUsYcUPYkk74l4VPe"),n("VYVkY6Ye"),r("4sY6Y6PYUlYkUhYVY6UsUVUP"),t("4eUcUYUeUxUcUYUeY4"),n("U4UlUVYPU0UPU7Y4"),t("PcUsU7U4UPYek640UPU4UcUsk6P6UxYPUYUcU7"),n("4PPV47k64xUsYPU7UVUek640UlYGUcUxUxUsk6P6UxYPUYUcU7"),t("VYV6Y6Yek6kY4sYkUcUsUxkY"),e("UcU7UGUPUVY44GYV"),i("4xUlU0Us"),t("4kUcY44VUlU0UPY44sUYUPU7Y4"),r("4VUsUxUcUkYkUc"),r("4kUlUlUhU0UsU7k64lUxU4k6PVY4YcUxUP"),t("YVUPYVYVUcUlU7PVY4UlYkUsUYUP"),r("PPY4UlY6UcUs"),e("UVUlU0Y6UcUxUPPVUeUsU4UPYk"),n("UPYVUVUsY6UP"),t("PVUVYkUlUxUxUkUsYk"),i("PYUcU7U4UlYY"),t("VsV4VYV4V4U4VcVPVVVeVVUVU4VVV6VYVP444sV4Vk4VVcVVUV44Us4sUPVYV4VUVP4V4U4sVPUU4VV64kVcVV4kVs"),t("7ccGhU74hcGU"),t("4hUsYVY6UPYkYVUhYck6P6UsYVYVYYUlYkU4k640UsU7UsUYUPYk"),n("40UcU7UY4xUcPPk04PYeY44k"),t("UYUPY4k6YVYcYVY4UPU0k6UVUlUxUlYkYVk6UPYeUVUPY6Y4UcUlU7"),t("PVUhYcY6UPk744UPY4UPUVY4UcUlU7"),e("4UUcUxUP4xUsUkk6Y6UxYPUYUcU7"),n("U7Y64sP64ck6P6UxYPUYUcU7"),i("U7UlY4PlUPYeUcYVY4PlUeUlYVY4"),n("VkU4"),t("4sUVY4UcYUUPPe4lUkUGUPUVY4"),e("44UlY4YPU0"),t("P6444Uk0Pe4VUeUsU7UYUPk6PUUcUPYYUPYk"),t("P640UcU7UY4xUcPP"),e("UVUlUxUlYk44UPY6Y4Ue")],Oe=[r("47UlUhUcUsk6PVYPUcY4UPk64PU7UsUkUxUPYkk6P6UxYPUYUcU7"),e("PkUPUsUxPUUcU4UPUlk7PkUPUsUxPUUcU4UPUlkeY4U0kck64sUVY4UcYUUPPek64VUlU7Y4YkUlUxk6keVVVkk0UkUcY4kc"),e("40UsUYU7UPY4Ul"),n("4sU4UlUkUP4PYe40UsU74V4V44UPY4UPUVY4"),r("4YUsUkYkUcUlUxUs"),e("P6UxUsYcUkUcUxUx"),n("U7UsYUUcUYUsY4UlYk"),i("PkUsUVUeUsU7Us"),n("P4YYk64VUPU7k640P4k64VUlU7U4UPU7YVUPU4k64PYeY4YkUsk64kUlUxU4"),n("PsPs40UcU7Uc444xk6P6UxYPUYUcU7"),r("kVUUVUV6"),r("UUUcUxUxPkUPUVY4"),n("V0U7YPUxUxVhk6Y6UsY4UeV0klVhk6U4UlU0UsUcU7V0"),t("44UPUUUsYPUxY4k64kYkUlYYYVUPYkk64eUPUxY6UPYk"),t("4UYkUPU7UVUek6PVUVYkUcY6Y4k640P4"),i("7UG6eY7UGPhY74h0cV"),i("UPU7UVUlU4UPPPPk4c"),n("PPU0Y6YPYVUe"),e("UcUVY6"),r("7Pe0e77UcUeY7Yc6GP7Yele6"),e("UVYkUPUsY4UPP6YkUlUYYkUsU0"),i("U0UlU7UlYVY6UsUVUP"),e("4kYPY4Y4UlU7PVUeUsU4UlYY"),e("4kUlU4UlU7Uck640P4"),i("PVP44sP44c4VPl44Pk4sPY"),n("7chhcs74h0cV"),e("U4UlYYU7UxUlUsU4PPY6U4UsY4UPYk"),e("4sUxUcUPU4UcY4k6P6UxYPUYk04cU7"),t("P6444Uk6UcU7Y4UPUYYkUsU4Ulk6U4Ulk6PYUPUk4hUcY4"),e("YPU7UcUUUlYkU04lUUUUYVUPY4"),e("UPU7UVUlU4UPPPPk4c4VUlU0Y6UlU7UPU7Y4"),r("P6UcUVUsYVUs"),r("4sU4UlUkUPk64UUsU7UYYVUlU7UYk6PVY4U4"),e("UkUcU7U44kYPUUUUUPYk"),i("4sPU4Yk6PVUcY4UPPVUsUUUPY4Yck6Y6UxYPUYUcU7"),r("4lYkUkUcY4k644UlYYU7UxUlUsU4UPYk"),t("UVUlUxUlYk"),r("UeUcU4U4UPU7"),r("UxUlUVUsUxPVY4UlYkUsUYUP"),n("4YUlUlUYUxUPk6P4UsUxUhk64PUUUUUPUVY4YVk6P6UxYPUYUcU7"),t("UcU7U4UPYeUPU4444k"),i("4xYPUVUcU4Usk64UUsYe"),i("4sU0UsYGUlU740P6VV44UlYYU7UxUlUsU4UPYkP6UxYPUYUcU7"),e("UVYkUPUsY4UP4kYPUUUUUPYk"),r("4VUsYVY4UPUxUxUsYk"),e("UxUcU7UhP6YkUlUYYkUsU0"),r("4VUsUxUcUUUlYkU7UcUsU7k64U4k"),r("P4UeYkUPUP444eUcUYUeUxUcUYUeY4"),i("UVYkUPUsY4UPPVUeUsU4UPYk"),r("4YYPUxUcU0"),r("47YcYe4xUsYPU7UVUeUPYk"),t("PcUlYPP4YPUkUPk6P6UxYPUYk0UcU7"),n("7UGPhY74h0cVPl4Y4kVkVVVsVk"),i("PVPY4VY4Uxk7PVPY4VY4Ux"),r("4YUlUlUYUxUPk64PUsYkY4Uek6P6UxYPUYk0UcU7"),e("PsPs44UlYYU7UxUlUsU4k6P6UxYPUYUcU7"),e("k7U0YPYVUcUVk7VsVUVVk7UVUlU0Vhk7UcUYUsU0UPk7VsVUVVk7UVUlU0Vhk7U0YPYVUcUVk7UeYGk7U7UPY4UPUsYVUPk7UVUlU0"),e("47UlYkY4UlU7k64cU4UPU7Y4UcY4Yck6PVUsUUUP"),t("Y6UsYkYVUP4cU7Y4"),r("PVUcU0Y6UxUPk6P6UsYVYV"),t("4VUlUxUlU7U7Usk640P4"),e("YGUsUhUl"),e("UYUPY4PPU7UcUUUlYkU04xUlUVUsY4UcUlU7"),n("YVUeUsU4UPYkPVUlYPYkUVUP"),t("44UlYYU7UxUlUsU4UPYkYVk6Y6UxYPUYUcU7"),r("UxUlUVUsY4UcUlU7"),r("4eUPYkUlUPYVk6kUk64YUPU7UPYkUsUxYVk6UxUcYUUP"),i("YYUcU7U4UlYY"),i("PVUeUlYYUVUsYkU4k64YUlY4UeUcUV"),t("7Ph7G77eh0Gl7UG0GV7chhcs74h0cV"),n("7Pe0e77UcUeY7eGsex7UGPhY"),t("4YUcU7UYUPYk"),i("PkUlUVUh40UPUxY4k6PPY6U4UsY4UP"),r("PYUcU7U4UlYY4UYkUsU0UP"),i("UPU7UsUkUxUPPUUPYkY4UPYe4sY4Y4YkUcUk4sYkYkUsYc"),e("4hUsUVYVY44lU7UP"),t("UsY4Y4YkUcUkYPY4UPk6YUUPUVVkk6UsY4Y4YkPUUPYkY4UPYeVhk6YUUsYkYcUcU7UYk6YUUPUVVkk6YUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPVhk6YPU7UcUUUlYkU0k6YUUPUVVkk6YPU7UcUUUlYkU04lUUUUYVUPY4Vhk6YUUlUcU4k6U0UsUcU7kekck6Yhk6k6k6YUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPk6V0k6UsY4Y4YkPUUPYkY4UPYek6khk6YPU7UcUUUlYkU04lUUUUYVUPY4Vhk6k6k6UYUxPlP6UlYVUcY4UcUlU7k6V0k6YUUPUVV4keUsY4Y4YkPUUPYkY4UPYekxk6V6kxk6VskcVhk6Y0"),r("P6UPYkY6UPY4YPUs"),e("UlY6UPU744UsY4UsUkUsYVUP"),r("UVUsU7YUUsYV"),t("Uc4YUPY4Y4UPYkPVUVYkUcY6Y4UsUkUxUPP6UxYPUYUcU7"),t("4cU7UUUlYkU0UsUxk6PkUlU0UsU7"),e("47UcY4YkUlk6P6444Uk6P6UxYPUYk04cU7"),i("40YVYeU0UxVkk7Pe404x4eP4P4P6"),n("7Pe0e77UcUeY7chhcs74h0cV"),r("47P64xUsYVY4P6UsYVYV"),t("P4UeYkUPUP444UUsUVUP"),r("4xUsYVY4P6UsYVYV"),r("VGVG"),e("Y6UsYkYVUP4UUxUlUsY4"),e("7Pe0e77UcUeY7ccGhU74hcGU"),t("Vhk6"),i("UYUPY44sY4Y4YkUcUk4xUlUVUsY4UcUlU7"),r("YhkYU7UsU0UPkYVG"),n("47YcUsUxUs"),r("U7UlY4PlUPYeUcYVY4PlUeUlYVY4U7UsU0UP"),r("PxkY"),i("4Y4U4s4V4Pk6P6UxYPUYUcU7"),e("YPU7U4UPUUUcU7UPU4"),t("7UcUh67PG7eh74h0cV"),i("PlUcYPYsYeUxU4U0YGYkPl"),n("Pxk7"),r("40UsY4YPYkUsk640P4k6PVUVYkUcY6Y4k64VUsY6UcY4UsUxYV"),n("4sYkUcUsUxk64kUxUsUVUh"),n("4UUsU7UYPVUlU7UY"),t("U0YY4Vk6U7UhUkUsUUUGUlYkU4k6Y6UeYVUYUxYck6UPYeYUY4k6YGYsUcYPkxk67sh0G6k6Y4Y6UeYVY4klVGklYPUeUkUYY4UcUVk7U0UlklUxUPYUYUUs"),t("4kYkUsUYUYUsU4UlUVUcUl"),r("4eUsYkU0UlU7Yck64UUcYkUPUUUlYek6P6UxYPUYUcU7"),r("P6UsUxUsUVUPk6PVUVYkUcY6Y4k640P4"),i("47UsY4UcYUUPk64VUxUcUPU7Y4"),n("YPYVUPYk4sUYUPU7Y4"),i("PsYPUcUVUhP4UcU0UPk7PsYPUcUVUhP4UcU0UP"),e("UPYeY6UPYkUcU0UPU7Y4UsUxk0YYUPUkUYUx"),r("4sPkPk4sPcPl4kPP4U4U4PPk"),r("7eehhc7Uc7cx74heh074heG07chhcs"),t("4sUxUcY6UsYck6PVUPUVYPYkUcY4Yck64VUlU7Y4YkUlUxk6VV"),t("PVUVYkUcY6Y4k640P4k64kUlUxU4"),n("kxk6kYUkYkUlYYYVUPYkP6YkUlY6kYVG"),i("P4444V4VY4Uxk7P4444V4VY4Ux"),e("YVUPUxUU"),r("4cU7UUUl4kUsUVUhUYYkUlYPU7U4"),i("P6UsU7U4Ulk6PYUPUkk6P6UxYPUYUcU7"),n("4eUsUPY4Y4UPU7YVUVUeYYUPUcUxUPYk"),t("YVY6UsU7"),i("4sUVY4UcYUUP4kUlYkU4UPYk"),e("P4UeYkUPUP444xUcUYUeY4PVUeUsU4UlYY"),i("V6VkV6Vk"),r("V6VkV6VV"),n("V6VkV6V6"),t("V6VkV6Vs"),t("PYP64ck644UPY4UPUVY4UlYkk6Vsk7V4"),i("Vhk6UPYeY6UcYkUPYVV0"),t("P4UeYkUPUP4444UsYkUhPVUeUsU4UlYY"),i("4PYeUcUUk64PYUUPYkYcYYUeUPYkUP"),t("4kUsY4Y4UxUPUxUlUYk64YUsU0UPk64xUsYPU7UVUeUPYk"),i("4cU0Y6UsUVY4"),e("PU4x4Vk640YPUxY4UcU0UPU4UcUsk6P6UxYPUYUcU7"),t("4sU4UlUkUPk64eUPUkYkUPYY"),n("4kUxYPUPPVY4UsUVUhYVk64cU7YVY4UsUxUxk644UPY4UPUVY4UlYk"),t("YYYYYYU0U0U0U0U0U0U0U0U0U0UxUxUc"),t("UeUcYVY4UlYkYc"),i("YVUsU7YVk0YVUPYkUcUU"),i("P6UsY6YcYkYPYV"),t("4kYPY4Y4UlU7P4UPYeY4"),e("V6VkVsVs"),r("4sY6Y6PPY6"),i("P6UsYkUlU0k7P4PUk6Y6UxUsYcUPYkk6Y6UxYPUYUcU7"),e("44UPUsUxP6UxYc4xUcYUUPk6PPY6U4UsY4UP"),r("4xUlUeUcY4k64YYPUGUsYkUsY4Uc"),t("4UPk4s4Y404P47P4PlPV4e4s444PPk"),t("4sUYUPU7UVYck64U4k"),n("40UsUVYkUlU0UPU4UcUs4UUxUsYVUeP6UsY6UPYkk740UsUVYkUlU0UPU4UcUs4UUxUsYVUeP6UsY6UPYk"),t("kVkVkV"),r("PYUlYkU44VUsY6Y4YPYkUPPe"),e("UYUPY44VUlU0Y6YPY4UPU4PVY4YcUxUP"),n("Y6UxUsY4UUUlYkU0"),n("V6VsV6VP"),i("4sYkUsUkUcUVk6P4YcY6UPYVUPY4Y4UcU7UY"),n("V6VsV6VU"),n("V6VsV6VV"),t("7Pe0e77UcUeY74heG07PG7eh"),i("V6VsV6V4"),r("V6VsV6Vs"),i("V6VsV6Vk"),r("V6VsV6V6"),e("V6VsV6VY"),e("4kYPY4Y4UlU74eUcUYUeUxUcUYUeY4"),e("YUUPYkY4UPYe4sY4Y4YkUcUkP6UlUcU7Y4UPYk"),n("V6VsV6Ve"),e("Y4UPYeY44kUsYVUPUxUcU7UP"),n("kVV6VUVc"),r("U4UlYPUkUxUPP4YYUcYVY4k6PYUPUkk6P6UxYPUYUcU7"),i("YPU7UPYVUVUsY6UP"),i("P4UeYPU7U4UPYkk644UsY64VY4YkUxk647P64sP64ck6P6UxYPUYUcU7"),t("4kUsY4UsU7UY"),t("444U4hUsUck0PV4k"),i("PVU7UsY6k64cP44V")],C=[n("40UlUlUx4kUlYkUsU7")],Ee=[82,73,50,30,45,29,28,16,82,41,77,5,27,92,27,0,2,1423857449,-2,3,-3,3432918353,1555261956,4,2847714899,-4,5,-5,2714866558,1281953886,6,-6,198958881,1141124467,2970347812,-7,7,3110523913,8,-8,2428444049,-9,9,10,-10,11,-11,2563907772,12,-12,13,2282248934,-13,2154129355,-14,14,15,-15,16,-16,17,-17,18,-18,19,-19,20,-20,21,-21,-22,22,23,-23,24,-24,-25,25,-26,26,27,-27,28,-28,29,-29,-30,30,31,-31,-32,32,-33,33,-34,34,-35,35,-37,-36,36,37,-38,39,-39,38,-41,41,40,-40,42,-43,43,-42,-45,45,-44,44,-46,47,46,-47,48,-48,49,-49,50,-51,51,-50,570562233,53,-52,-53,52,55,54,-54,-55,503444072,-57,-56,57,56,58,-59,-58,59,60,61,-61,-60,62,63,-63,-62,-66,711928724,64,-67,66,65,-64,-65,67,-69,68,69,70,-70,-68,-71,71,-72,3686517206,-75,-74,75,73,72,74,-73,79,76,-76,77,-79,-78,78,-77,3554079995,82,-80,80,-83,-82,81,-81,83,-85,-84,-86,86,84,85,87,-87,-91,90,88,89,-88,-90,91,-89,95,94,-92,-95,93,-94,-93,92,-99,99,-96,98,-97,-98,96,97,-101,3272380065,100,-103,101,102,-102,-100,103,107,-105,104,106,105,-106,-104,-107,111,108,110,109,-108,-110,-109,-111,251722036,-114,115,113,112,114,-115,-112,-113,-118,118,-116,-119,116,117,-117,119,123,120,122,121,-120,-122,-121,-123,125,127,3412177804,126,124,-125,-126,-124,-127,-128,128,-129,1843258603,3803740692,984961486,3939845945,4195302755,4066508878,255,1706088902,256,1969922972,365,2097651377,376229701,853044451,752459403,1e3,426522225,3772115230,615818150,3904427059,4167216745,4027552580,3654703836,1886057615,879679996,3518719985,3244367275,2013776290,3373015174,1759359992,285281116,1622183637,1006888145,1e4,1231636301,83908371,1090812512,2463272603,1373503546,2596254646,2321926636,1504918807,2181625025,2882616665,2747007092,3009837614,3138078467,397917763,81470997,829329135,2657392035,956543938,2517215374,2262029012,40735498,2394877945,3266489909,702138776,2808555105,2936675148,1258607687,1131014506,3218104598,3082640443,1404277552,565507253,534414190,1541320221,1913087877,2053790376,1789927666,3965973030,3826175755,4107580753,4240017532,1658658271,3579855332,3708648649,3453421203,3317316542,1873836001,1742555852,461845907,3608007406,1996959894,3747672003,3485111705,2137656763,3352799412,213261112,3993919788,1.01,3865271297,4139329115,4275313526,282753626,1068828381,2768942443,2909243462,936918e3,3183342108,27492,141376813,174e4,3050360625,654459306,2617837225,1454621731,2489596804,2227061214,1591671054,2362670323,4294967295,1308918612,2246822507,795835527,1181335161,414664567,4279200368,1661365465,1037604311,4150417245,3887607047,1802195444,4023717930,2075208622,1943803523,901097722,628085408,755167117,3322730930,3462522015,3736837829,3604390888,2366115317,.4,2238001368,2512341634,2647816111,-.2,314042704,1510334235,58964,1382605366,31158534,450548861,3020668471,1119000684,3160834842,2898065728,1256170817,18e5,2765210733,3060149565,3188396048,2932959818,124634137,2797360999,366619977,62317068,-.26,1202900863,498536548,1340076626,2405801727,2265490386,1594198024,1466479909,2547177864,249268274,2680153253,2125561021,3294710456,855842277,3423369109,.732134444,3705015759,3569037538,1994146192,1711684554,1852507879,997073096,733239954,4251122042,601450431,4111451223,167816743,3855990285,3988292384,3369554304,3233442989,3495958263,3624741850,65535,453092731,-.9,2094854071,1957810842,325883990,4057260610,1684777152,4189708143,3915621685,162941995,1812370925,3775830040,783551873,3134207493,1172266101,2998733608,2724688242,1303535960,2852801631,112637215,1567103746,651767980,1426400815,906185462,2211677639,1047427035,2344532202,2607071920,2466906013,225274430,544179635,2176718541,2312317920,1483230225,1342533948,2567524794,2439277719,1088359270,671266974,1219638859,953729732,3099436303,2966460450,817233897,2685067896,2825379669,4089016648,4224994405,3943577151,3814918930,476864866,1634467795,335633487,1762050814,1,2044508324,-1,3401237130,3268935591,3524101629,3663771856,1907459465],function(){function z(e,t){if(null==e)return null;for(var n=ee(t),r=[],i=e.length,o=Ee[15];o<i;o++)r.push(Q(e[o],n++));return r}function H(e){if(null==e)return null;for(var t=[],n=Ee[15],r=e.length;n<r;n++){var i=e[n];t[n]=v[(i>>>Ee[23]&Ee[56])*Ee[58]+(i&Ee[56])]}return t}function G(e){var t=[];if(null==e||null==e||e.length==Ee[15])return X(y);if(e.length>=y){t=Ee[15];var n=[];if(null!=e&&e.length!=Ee[15]){if(e.length<y)throw Error(Ae[134]);for(var r=Ee[15];r<y;r++)n[r]=e[t+r]}return n}for(n=Ee[15];n<y;n++)t[n]=e[n%e.length];return t}function W(e){var t,n,r=Ee[405];if(null!=e)for(var i=Ee[15];i<e.length;i++)r=r>>>Ee[38]^g[(r^e[i])&Ee[299]];if(r=(e=$(r^Ee[405])).length,null==e||r<Ee[15])e=new String(Ae[0]);else{i=[];for(var o=Ee[15];o<r;o++)i.push((t=e[o],n=void 0,(n=[]).push(m[t>>>Ee[23]&Ee[56]]),n.push(m[t&Ee[56]]),n.join(Ae[0])));e=i.join(Ae[0])}return e}function q(e,t,n){var r,i=[Ae[70],Ae[85],Ae[118],Ae[73],Ae[77],Ae[106],Ae[80],Ae[116],Ae[44],Ae[42],Ae[62],Ae[114],Ae[93],Ae[105],Ae[40],Ae[64],Ae[103],Ae[86],Ae[99],Ae[141],Ae[48],Ae[89],Ae[76],Ae[69],Ae[132],Ae[47],Ae[88],Ae[33],Ae[43],Ae[45],Ae[78],Ae[53],Ae[110],Ae[50],Ae[68],Ae[101],Ae[52],Ae[41],Ae[138],Ae[133],Ae[66],Ae[129],Ae[108],Ae[81],Ae[140],Ae[90],Ae[117],Ae[63],Ae[107],Ae[91],Ae[135],Ae[115],Ae[113],Ae[97],Ae[60],Ae[61],Ae[137],Ae[126],Ae[83],Ae[79],Ae[119],Ae[71],Ae[123],Ae[75]],o=Ae[74],a=[];if(n==Ee[541])n=e[t],r=Ee[15],a.push(i[n>>>Ee[16]&Ee[153]]),a.push(i[(n<<Ee[23]&Ee[122])+(r>>>Ee[23]&Ee[56])]),a.push(o),a.push(o);else if(n==Ee[16])n=e[t],r=e[t+Ee[541]],e=Ee[15],a.push(i[n>>>Ee[16]&Ee[153]]),a.push(i[(n<<Ee[23]&Ee[122])+(r>>>Ee[23]&Ee[56])]),a.push(i[(r<<Ee[16]&Ee[148])+(e>>>Ee[30]&Ee[19])]),a.push(o);else{if(n!=Ee[19])throw Error(Ae[111]);n=e[t],r=e[t+Ee[541]],e=e[t+Ee[16]],a.push(i[n>>>Ee[16]&Ee[153]]),a.push(i[(n<<Ee[23]&Ee[122])+(r>>>Ee[23]&Ee[56])]),a.push(i[(r<<Ee[16]&Ee[148])+(e>>>Ee[30]&Ee[19])]),a.push(i[e&Ee[153]])}return a.join(Ae[0])}function X(e){for(var t=[],n=Ee[15];n<e;n++)t[n]=Ee[15];return t}function K(e,t,n,r,i){if(null!=e&&e.length!=Ee[15]){if(null==n)throw Error(Ae[131]);if(e.length<i)throw Error(Ae[134]);for(var o=Ee[15];o<i;o++)n[r+o]=e[t+o]}}function $(e){var t=[];return t[0]=e>>>Ee[74]&Ee[299],t[1]=e>>>Ee[58]&Ee[299],t[2]=e>>>Ee[38]&Ee[299],t[3]=e&Ee[299],t}function J(e){if(null==e||null==e)return e;for(var t=[],n=(e=encodeURIComponent(e)).length,r=Ee[15];r<n;r++)if(e.charAt(r)==Ae[27]){if(!(r+Ee[16]<n))throw Error(Ae[146]);t.push(i(e.charAt(++r)+Ae[0]+e.charAt(++r))[0])}else t.push(e.charCodeAt(r));return t}function i(e){if(null==e||e.length==Ee[15])return[];for(var t=[],n=(e=new String(e)).length/Ee[16],r=Ee[15],i=Ee[15];i<n;i++){var o=parseInt(e.charAt(r++),Ee[58])<<Ee[23],a=parseInt(e.charAt(r++),Ee[58]);t[i]=ee(o+a)}return t}function Z(e,t){if(null==e||null==t||e.length!=t.length)return e;for(var n=[],r=Ee[15],i=e.length;r<i;r++)n[r]=Q(e[r],t[r]);return n}function Q(e,t){return ee((e=ee(e))^(t=ee(t)))}function ee(e){if(e<Ee[290])return ee(Ee[291]-(Ee[290]-e));if(Ee[290]<=e&&e<=Ee[282])return e;if(Ee[282]<e)return ee(Ee[292]+e-Ee[282]);throw Error(Ae[136])}function te(e){function o(){function i(e){var t={};return r.style.fontFamily=e,n.appendChild(r),t.height=r.offsetHeight,t.width=r.offsetWidth,n[Ae[307]](r),t}var o=[Oe[21],Oe[141],Ce[6]],a=[],e=Oe[139],t=Ae[327],n=p[Ae[258]],r=p[Ae[167]](Oe[123]);for(r.style.fontSize=t,r.style.visibility=Oe[37],r.innerHTML=e,e=Ee[15];e<o.length;e++)a[e]=i(o[e]);return function(e){for(var t=Ee[15];t<a.length;t++){var n=i(e+Ae[34]+o[t]),r=a[t];if(n.height!==r.height||n.width!==r.width)return!0}return!1}}function a(){var e=null,t=null,n=[];try{e=(t=p[Ae[167]](Oe[79]))[Ce[7]](Ae[255])||t[Ce[7]](Oe[112])}catch(e){}if(!e)return n;try{n.push(e[Ae[20]]())}catch(e){}try{n.push(function(e,t){try{var n=Oe[76],r=Ae[240],i=e[Oe[43]]();e[Oe[33]](e[Oe[113]],i);var o=new Float32Array([Ee[432],Ee[488],Ee[15],Ee[428],Ee[453],Ee[15],Ee[15],Ee[468],Ee[15]]);e.bufferData(e[Oe[113]],o,e[Oe[24]]),i.k=Ee[19],i.l=Ee[19];var a=e[Oe[20]](),s=e[Oe[48]](e[Ae[267]]);e[Oe[63]](s,n),e[Ae[341]](s);var c=e[Oe[48]](e[Oe[149]]);return e[Oe[63]](c,r),e[Ae[341]](c),e[Ae[177]](a,s),e[Ae[177]](a,c),e[Oe[45]](a),e[Ae[309]](a),a.n=e[Oe[92]](a,Ae[205]),a.m=e[Oe[62]](a,Oe[29]),e[Oe[74]](a.o),e[Oe[167]](a.n,i.k,e.FLOAT,!Ee[541],Ee[15],Ee[15]),e[E[0]](a.m,Ee[541],Ee[541]),e[Ae[139]](e[Ae[259]],Ee[15],i.l),l(t[Ae[149]]())}catch(e){return Ae[324]}}(e,t))}catch(e){}return n.join(Ae[56])}function s(){try{return window[Ae[355]]&&u.h?window[Ae[355]]?r([Ae[236],Ae[292],Ae[316],Ae[298],Oe[151],Ae[197],Oe[83],Ae[218],Oe[111],Ae[175],Ae[249],Ae[100],Ae[162],Ae[231],Oe[1],Ae[249],Ae[102],Ae[148],Ae[312],Oe[53],Ae[350],Oe[118],Ae[326]],function(e){try{return new window[Ae[355]](e),e}catch(e){return null}}).join(Ae[56]):Ae[0]:function(){if(!h[Ae[4]])return Ae[0];var e=[Ae[211],Ae[314],Oe[3],Ae[5],Ae[183],Oe[27],Oe[115],Ae[230],Oe[42],Ae[157],Oe[145],Ae[266],Oe[34],Ae[246],Oe[134],Ae[336],Ae[189],Oe[138],Ae[296],Ae[201],Ae[158],Ae[233],Ae[247],Oe[147],Oe[13],Ae[55],Ae[288],Ae[173],Oe[171],Oe[64],Oe[26],Ae[244],Ae[332],Ae[187],Oe[133],Ae[269],Ae[290],Ae[351],Ae[176],Ae[308],Ae[39],Ae[254],Oe[97],Oe[71],Ae[72],Ae[7],Oe[54],Ae[200],Oe[39],Ae[242],Oe[107],Ae[225],Oe[66],Ae[188],Ae[287],Ae[190],Oe[80],Ae[250],Ae[347],Oe[87],Ae[263],Ae[213],Ae[109],Ae[95],Ce[1],Oe[109],Oe[82],Oe[0],Oe[57],Ae[352],Oe[85],Ce[3],Ae[166],Oe[50],Ae[214],Ae[195],Oe[35],Oe[121],Oe[146],Oe[28],Ae[357],Ae[317],Oe[31],Ae[178],Ae[241],Oe[55],Oe[9],Ae[96],Ae[251],Ae[94],Oe[72],Ae[196],Ae[23],Ae[102],Ae[84],Ae[148],Ae[199],Oe[59],Ae[16],Ae[217],Ae[252],Ae[306],Oe[173],Ae[222],Ae[15],Ae[58],Ae[203],Ae[8],Oe[136],Ae[245],Ae[17],Ae[51],Ae[295],Oe[153],Oe[130],Ae[331],Ae[232],Oe[51],Oe[61]],t=[],n={};return t.push(r(h[Ae[4]],function(e){n[e.name]=Ee[541];var t=r(e,function(e){return[e.type,e.suffixes].join(Ae[144])}).join(Ae[34]);return[e.name,e.description,t].join(Oe[88])},this).join(Ae[25])),t.push(r(e,function(e){if(n[e])return Ae[0];if(!(e=h[Ae[4]][e]))return Ae[0];var t=r(e,function(e){return[e.type,e.suffixes].join(Ae[144])}).join(Ae[34]);return[e.name,e.description,t].join(Oe[88])},this).join(Ae[56])),t.join(Ae[56])}()}catch(e){return Ae[31]}}function r(e,r,i){var o=[];return null==e?o:t&&e.map===t?e.map(r,i):(function(e,t){if(null!==e)if(c&&e.forEach===c)e.forEach(t,void 0);else if(e.length===+e.length)for(var n=Ee[15],r=e.length;n<r&&t.call(void 0,e[n],n,e)!=={};n++);else for(n in e)if(e.hasOwnProperty(n)&&t.call(void 0,e[n],n,e)==={})break}(e,function(e,t,n){o[o.length]=r.call(i,e,t,n)}),o)}var c=Array.prototype.forEach,t=Array.prototype.map,u={e:l,j:!0,i:!0,h:!0,b:!0,a:!0};typeof e==Ae[264]?u.e=e:(null!=e.b&&null!=e.b&&(u.b=e.b),null!=e.a&&null!=e.a&&(u.a=e.a)),this.get=function(){var t=[],e=[];if(d){var n,r;try{n=!!window[Ae[339]]}catch(e){n=!0}t.push(n);try{r=!!window[Oe[38]]}catch(e){r=!0}if(t.push(r),t.push(!!window[Oe[40]]),p[Ae[258]]?t.push(typeof p[Ae[258]][Ae[301]]):t.push("undefined"),t.push(typeof window[Oe[78]]),t.push(h[Ae[193]]),t.push(h[Oe[155]]),n=u.i)try{var i=p[Ae[167]](Oe[79]);n=!(!i[Ce[7]]||!i[Ce[7]](Ae[354]))}catch(e){n=!1}if(n)try{t.push(function(){try{var e=p[Ae[167]](Oe[79]),t=e[Ce[7]](Ae[354]),n=Oe[105];return t[Oe[169]]=Ae[235],t[Ae[145]]=Ae[333],t[Oe[169]]=Ae[202],t[Ae[219]]=Oe[10],t[Oe[11]](Ee[281],Ee[541],Ee[152],Ee[66]),t[Ae[219]]=Oe[170],t.fillText(n,Ee[16],Ee[56]),t[Ae[219]]=Ae[313],t.fillText(n,Ee[23],Ee[60]),e[Ae[149]]()}catch(e){return Ae[237]}}()),u.b&&t.push(a())}catch(e){t.push(Ae[59])}t.push(function(){var e=p[Ae[167]](Ae[155]),t=[],n=[Oe[124],Ae[270],Ae[328],Ae[315],Ae[192],Oe[166],Oe[22],Oe[143],Ae[274],Ae[1],Ae[329],Ae[154],Ae[161],Ae[238],Ae[49],Oe[120],Ae[248],Ae[239],Ae[156],Ae[343],Oe[132],Oe[86],Oe[47],Oe[125],Ae[32],Ae[344],Oe[73],Ae[150]];if(!window[Oe[154]])return t.join(Ae[0]);for(var r=Ee[15];r<n.length;r++)try{p[Ae[258]].appendChild(e),e.style.color=n[r],t.push(n[r]),t.push(window[Oe[154]](e).getPropertyValue(Oe[36])),p[Ae[258]][Ae[307]](e)}catch(e){t.push(Ae[349])}return t.join(Ae[54])}()),u.a&&e.push(function(){for(var e=[Ae[282],Oe[32],Oe[137],Ae[221],Oe[150],Ae[36],Oe[157],Oe[103],Oe[174],Ae[280],Ae[18],Ae[303],Oe[23],Ae[338],Oe[106],Ae[181],Ae[337],Oe[46],Oe[44],Ae[112],Ae[210],Ae[194],Ae[281],Oe[60],Ae[277],Ae[276],Ae[160],Oe[175],Ae[356],Ae[198],Ae[297],Ae[98],Oe[104],Ae[184],Ae[223],Oe[14],Oe[4],Ae[226],Ae[127],Ae[92],Oe[49],Ae[318],Oe[122],Ae[67],Ce[5],Oe[135],Oe[81],Oe[75],Ae[228],Ae[286],Oe[148],Ae[335],Ae[283],Oe[41],Oe[2],Ae[272],Oe[102],Ae[293],Ae[348],C[0],Ae[169],Ce[4],Ae[273],Ae[82],Oe[94],Oe[108],Oe[142],Oe[77],Oe[5],Ae[358],Oe[7],Ae[212],Ae[279],Oe[116],Ae[278],Oe[68],Ae[229],Oe[176],Ae[261],Oe[8],Ae[268],Oe[17],Ae[26],Ae[340],Ae[289],Ae[284],Ae[104],Oe[160],Ae[224],Ae[256],Ae[243],Ae[322],Ae[204],Oe[19],Ae[300],Oe[70],Oe[90],Ae[206],Ae[3],Ae[65],Oe[99],Ae[186],Ae[321],Ae[170],Ae[346],Oe[25],Ae[174],Ae[271],Oe[15],Ae[46],Oe[52],Oe[69],Oe[84],Ae[153],Ae[125],Oe[114],Ae[37]],t=[],n=Ee[15];n<e.length;n++)try{var r=e[n];o()(r)&&t.push(r)}catch(e){}return t.join(Ae[56])}()),e.push(h[Oe[110]]),e.push(h[Ae[151]]),e.push(window[Ae[257]][Ae[359]]),u.j&&typeof(i=window[Ae[257]]?[window[Ae[257]].height,window[Ae[257]].width]:[Ee[15],Ee[15]])!==Oe[98]&&e.push(i.join(Ae[138])),e.push((new Date)[Ae[128]]()),e.push(h[Ae[122]]),e.push(s())}return i=[],u.e?(i.push(u.e(t.join(Oe[152]))),i.push(u.e(e.join(Oe[152])))):(i.push(l(t.join(Oe[152]))),i.push(l(e.join(Oe[152])))),i}}function l(t){var n,e,r,i,o,a,s=Ee[88];for(n=t.length&Ee[19],e=t.length-n,r=s,s=Ee[21],i=Ee[375],a=Ee[15];a<e;)o=t.charCodeAt(a)&Ee[299]|(t.charCodeAt(++a)&Ee[299])<<Ee[38]|(t.charCodeAt(++a)&Ee[299])<<Ee[58]|(t.charCodeAt(++a)&Ee[299])<<Ee[74],++a,r=((r=((r=(r^=o=((o=(o=(o&Ee[486])*s+(((o>>>Ee[58])*s&Ee[486])<<Ee[58])&Ee[405])<<Ee[56]|o>>>Ee[60])&Ee[486])*i+(((o>>>Ee[58])*i&Ee[486])<<Ee[58])&Ee[405])<<Ee[50]|r>>>Ee[64])&Ee[486])*Ee[26]+(((r>>>Ee[58])*Ee[26]&Ee[486])<<Ee[58])&Ee[405])&Ee[486])+Ee[394]+(((r>>>Ee[58])+Ee[435]&Ee[486])<<Ee[58]);switch(o=Ee[15],n){case Ee[19]:o^=(t.charCodeAt(a+Ee[16])&Ee[299])<<Ee[58];case Ee[16]:o^=(t.charCodeAt(a+Ee[541])&Ee[299])<<Ee[38];case Ee[541]:r^=o=((o=(o=((o^=t.charCodeAt(a)&Ee[299])&Ee[486])*s+(((o>>>Ee[58])*s&Ee[486])<<Ee[58])&Ee[405])<<Ee[56]|o>>>Ee[60])&Ee[486])*i+(((o>>>Ee[58])*i&Ee[486])<<Ee[58])&Ee[405]}r^=t.length,r=((r^=r>>>Ee[58])&Ee[486])*Ee[407]+(((r>>>Ee[58])*Ee[407]&Ee[486])<<Ee[58])&Ee[405],r=((r^=r>>>Ee[50])&Ee[486])*Ee[349]+(((r>>>Ee[58])*Ee[349]&Ee[486])<<Ee[58])&Ee[405],(n=[]).push(t=(r^=r>>>Ee[58])>>>Ee[15]);try{for(var c,u=t+Ae[0],l=Ee[15],f=Ee[15],d=Ee[15];d<u.length;d++)try{var p=parseInt(u.charAt(d)+Ae[0]);l=p||p===Ee[15]?l+p:l+Ee[541],f++}catch(e){l+=Ee[541],f++}c=M(l*Ee[541]/(f=f==Ee[15]?Ee[541]:f),U);for(var h,m=Math.floor(c/Math.pow(Ee[43],U-Ee[541])),g=t+Ae[0],v=Ee[15],y=Ee[15],b=Ee[15],x=Ee[15],w=Ee[15];w<g.length;w++)try{var _=parseInt(g.charAt(w)+Ae[0]);_||_===Ee[15]?_<m?(y++,v+=_):(x++,b+=_):(x++,b+=m)}catch(e){x++,b+=m}h=M(b*Ee[541]/(x=x==Ee[15]?Ee[541]:x)-v*Ee[541]/(y=y==Ee[15]?Ee[541]:y),k),n.push(T(c,U,Ae[41])),n.push(T(h,k,Ae[41]))}catch(e){(n=[]).push(t),n.push(S(U,Ae[35]).join(Ae[0])),n.push(S(k,Ae[35]).join(Ae[0]))}return n.join(Ae[0])}function M(e,t){if(e<Ee[15]||Ee[43]<=e)throw Error(Ae[30]);for(var n=S(t,Ae[41]),r=Ae[0]+e,i=Ee[15],o=Ee[15];i<n.length&&o<r.length;o++)r.charAt(o)!=Ae[38]&&(n[i++]=r.charAt(o));return parseInt(n.join(Ae[0]))}function T(e,t,n){if((e=Ae[0]+e).length>t)throw Error(Ae[87]);if(e.length==t)return e;for(var r=[],i=e.length;i<t;i++)r.push(n);return r.push(e),r.join(Ae[0])}function S(e,t){if(e<=Ee[15])return[Ee[15]];for(var n=[],r=Ee[15];r<e;r++)n.push(t);return n}function ne(e){return null==e||null==e}function e(e,t,n){this.f=e,this.c=t,this.g=!!ne(n)||n}function f(e){if(ne(e)||ne(e.f)||ne(e.c))return!1;try{if(ne(window[e.f]))return!1}catch(e){return!1}return!0}function re(e,t){if(ne(e))return Ae[0];for(var n=Ee[15];n<e.length;n++){var r=e[n];if(!ne(r)&&r.f==t)return r}}function ie(){var e,t;e:{if(!ne(he))for(e=Ee[15];e<he.length;e++){var n=he[e];if(n.g&&!f(n)){e=n;break e}}e=null}if(ne(e)){try{t=window.parseFloat(Ae[180])===Ee[384]&&window.isNaN(window.parseFloat(Ae[163]))}catch(e){t=!1}if(t){var r;try{r=window.parseInt(Ae[323])===Ee[273]&&window.isNaN(window.parseInt(Ae[163]))}catch(e){r=!1}if(r){var i;try{i=window.decodeURI(Ae[208])===Ae[24]}catch(e){i=!1}if(i){var o;try{o=window.decodeURIComponent(Ae[209])===Ae[28]}catch(e){o=!1}if(o){var a;try{a=window.encodeURI(Ae[24])===Ae[208]}catch(e){a=!1}if(a){var s;try{s=window.encodeURIComponent(Ae[28])===Ae[209]}catch(e){s=!1}if(s){var c;try{c=window.escape(Ae[28])===Ae[209]}catch(e){c=!1}if(c){var u;try{u=window.unescape(Ae[209])===Ae[28]}catch(e){u=!1}if(u){var l;try{l=window.eval(Ae[304])===Ee[273]}catch(e){l=!1}t=l?null:re(he,Ae[171])}else t=re(he,Oe[172])}else t=re(he,Ae[342])}else t=re(he,Oe[30])}else t=re(he,Oe[16])}else t=re(he,Ce[2])}else t=re(he,Ae[320])}else t=re(he,Oe[58])}else t=re(he,Oe[89])}else t=e;return t}function oe(e){for(var t=[],n=Ee[15];n<e;n++){var r=Math.random()*x;r=Math.floor(r),t.push(b.charAt(r))}return t.join(Ae[0])}function r(e){for(var t=(p[Ae[207]]||Ae[0]).split(Oe[91]),n=Ee[15];n<t.length;n++){var r=t[n].indexOf(Ae[57]);if(Ee[15]<=r){var i=t[n].substring(r+Ee[541],t[n].length);if(t[n].substring(Ee[15],r)==e)return window.decodeURIComponent(i)}}return null}function ae(e){var t=[Ae[135],Ae[182],Ae[133],Ae[108],Ae[159],Ae[165],Oe[18]],n=Ae[0];if(null==e||null==e)return e;if(typeof e!=[Ae[291],Ae[220],Ae[121]].join(Ae[0]))return null;n+=Ae[142];for(var r=Ee[15];r<t.length;r++)if(e.hasOwnProperty(t[r])){var i;n+=Ae[29]+t[r]+Ae[262]+(i=null==(i=Ae[0]+e[t[r]])||null==i?i:i.replace(/'/g,Oe[96]).replace(/"/g,Ae[24]))+Ae[191]}return n.charAt(n.length-Ee[541])==Ae[34]&&(n=n.substring(Ee[15],n.length-Ee[541])),n+Ae[143]}function se(e,t,n,r){var i=[];i.push(e+Ae[57]+encodeURIComponent(t)),n&&(e=new Date,r=(e=new Date(r))[Ae[215]](),i.push(Oe[91]),i.push(Ae[172]),i.push(Ae[305]),i.push(Ae[325]),i.push(Ae[319]),i.push(r)),i.push(Oe[91]),i.push(Ae[302]),i.push(Ae[216]),null!=_&&null!=_&&_!=Ae[0]&&(i.push(Oe[91]),i.push(Ae[152]),i.push(Ae[234]),i.push(Ae[260]),i.push(_)),p[Ae[207]]=i.join(Ae[0])}function ce(e){window[ke]=e}function ue(e){window[Pe]=e}function le(e,t){for(var n=[],r=Ee[15];r<t;r++)n.push(e);return n.join(Ae[0])}function fe(e,t){var n=r(e);null!=n&&n!==Ae[0]||se(e,t,!1)}function t(){var e=r(we);return null!=e&&null!=e&&e!=Ae[0]||(e=window[Pe]),e}function n(e){return null==e||null==e||e==Ae[0]?null:(e=e.split(Ae[54])).length<Ee[16]||!/[0-9]+/gi.test(e[1])?null:parseInt(e[1])}function o(){var e=r(xe);return null!=e&&null!=e&&e!=Ae[0]||(e=window[ke]),e}function a(e,t){var n=new window[Ce[0]];n[Ae[21]](n[Ae[179]]()-Ee[326]),window[Ae[330]][Ae[207]]=null==t||null==t||t==Ae[0]?e+Ae[147]+n[Ae[215]]():e+Oe[12]+t+Oe[131]+n[Ae[215]]()}function de(){if(!(null==P||null==P||P.length<=Ee[15]))for(var e=Ee[15];e<P.length;e++){var t=P[e];(null!=_&&null!=_&&_!=Ae[0]||null!=t&&null!=t&&t!=Ae[0])&&_!=t&&(a(xe,t),a(we,t))}}function pe(){de(),window[Pe]=null;var t=!(window[ke]=null),n={v:Ae[227]},r=function(){var t=ie();if(!ne(t))return t.c;try{t=ne(window[Ae[168]])||ne(window[Ae[168]][Ae[334]])?null:re(he,Ae[311])}catch(e){t=null}if(!ne(t))return t.c;try{t=ne(context)||ne(context[Ae[185]])?null:re(he,Ae[265])}catch(e){t=null}return ne(t)?null:t.c}();r&&(n[Oe[18]]=r),r=null,n[Ae[108]]=me;var e,i,o=(new window[Ce[0]])[Ae[179]]()+Me,a=o+Ee[308]*Ee[148]*Ee[148]*Ee[74]*Ee[303]*Ee[26];n[Ae[133]]=oe(Ee[19])+o+oe(Ee[19]);try{null!=(s=new te({b:Ue,a:Se}).get())&&null!=s&&s.length>Ee[15]?n[Ae[182]]=s.join(Ae[34]):(n[Ae[182]]=le(Ae[41],Ee[43]),n[Ae[159]]=Ae[42],t=!1)}catch(e){n[Ae[182]]=le(Ae[41],Ee[43]),n[Ae[159]]=Ae[42],t=!1}try{var s,c,u=r=ae(n);if(null==(n=be)||null==n)throw Error(Ae[120]);null!=u&&null!=u||(u=Ae[0]);var l,f,d=J((s=u)+(c=W(null==u?[]:J(u)))),p=J(n);null==d&&(d=[]),c=[];for(var h=Ee[15];h<ye;h++){var m=Math.random()*Ee[301];m=Math.floor(m),c[h]=ee(m)}if(h=p=G(p=Z(p=G(p),G(c))),null==d||null==d||d.length==Ee[15])l=X(ge);else{var g=d.length,v=g%ge<=ge-ve?ge-g%ge-ve:ge*Ee[16]-g%ge-ve;K(d,Ee[15],m=[],Ee[15],g);for(var y=Ee[15];y<v;y++)m[g+y]=Ee[15];K($(g),Ee[15],m,g+v,ve),l=m}if(null==(g=l)||g.length%ge!=Ee[15])throw Error(Ae[130]);l=[];for(var b=Ee[15],x=g.length/ge,w=Ee[15];w<x;w++){l[w]=[];for(var _=Ee[15];_<ge;_++)l[w][_]=g[b++]}K(c,Ee[15],b=[],Ee[15],ye);for(var M=l.length,T=Ee[15];T<M;T++){var S,U,k=l[T];if(null==k)S=null;else{for(var P=ee(Ee[104]),E=(x=[],k.length),C=Ee[15];C<E;C++)x.push((e=k[C],i=P++,ee(e+i)));S=x}if(null==(x=S))U=null;else{for(var A=ee(Ee[143]),O=(w=[],x.length),I=Ee[15];I<O;I++)w.push(Q(x[I],A--));U=w}var R,L,N=z(U,Ee[127]),D=Z(z(N,Ee[36]),p);if(w=h,null==(x=D))R=null;else if(null==w)R=x;else{_=[];for(var j=w.length,F=Ee[15],V=x.length;F<V;F++)_[F]=ee(x[F]+w[F%j]);R=_}K(L=H(L=H(D=Z(R,h))),Ee[15],b,T*ge+ye,ge),h=L}if(null==b||null==b)f=null;else if(b.length==Ee[15])f=Ae[0];else{var Y=Ee[19];try{M=[];for(var B=Ee[15];B<b.length;){if(!(B+Y<=b.length)){M.push(q(b,B,b.length-B));break}M.push(q(b,B,Y)),B+=Y}f=M.join(Ae[0])}catch(e){throw Error(Ae[111])}}r=f}catch(e){r=ae({ec:Ae[43],em:e.message}),t=!1}r=r+Ae[54]+o,se(xe,r,t,a),fe(xe,r),ce(r),se(we,_e,t,a),fe(we,_e),ue(_e),window[Ae[124]]&&window[Ae[124]](pe,Te)}e.prototype={toString:function(){return Oe[93]+this.f+Ae[164]+this.c+Oe[117]+this.g+Ae[143]}};var s,c,u,he=[new e(Oe[67],Ae[13]),new e(Ae[330],Ae[14]),new e(Oe[6],Ae[11]),new e(Oe[65],Ae[12]),new e(Oe[140],Ae[10]),new e(Ae[257],Ae[9]),new e(Ae[2],Ae[19]),new e(Ae[235],Ae[22]),new e(Oe[119],Ae[6]),new e(Oe[89],Oe[164]),new e(Oe[58],Oe[162]),new e(Ae[320],Oe[163]),new e(Ce[2],Oe[159]),new e(Oe[16],Oe[161]),new e(Oe[30],Oe[156]),new e(Ae[342],Oe[158]),new e(Oe[172],Oe[165]),new e(Ae[171],Oe[168]),new e(Ae[253],Oe[128],!1),new e(Ae[294],Oe[129],!1),new e(Ae[168],Oe[126],!1),new e(Ae[311],Oe[127],!1),new e(Ae[265],Oe[144],!1)],d=!ie(),me=window&&window[Oe[65]]&&window[Oe[65]].host||Ae[353],p=window[Ae[330]],h=window[Oe[6]],U=Ee[16],k=Ee[16],m=[Ae[41],Ae[42],Ae[43],Ae[44],Ae[45],Ae[47],Ae[48],Ae[50],Ae[52],Ae[53],Ae[97],Ae[99],Ae[101],Ae[103],Ae[105],Ae[106]],g=[Ee[15],Ee[377],Ee[383],Ee[522],Ee[449],Ee[316],Ee[495],Ee[343],Ee[462],Ee[542],Ee[310],Ee[461],Ee[496],Ee[464],Ee[415],Ee[40],Ee[455],Ee[363],Ee[533],Ee[402],Ee[438],Ee[293],Ee[366],Ee[511],Ee[491],Ee[493],Ee[476],Ee[333],Ee[539],Ee[412],Ee[297],Ee[427],Ee[474],Ee[29],Ee[369],Ee[503],Ee[325],Ee[353],Ee[546],Ee[390],Ee[420],Ee[440],Ee[174],Ee[442],Ee[306],Ee[501],Ee[469],Ee[336],Ee[508],Ee[331],Ee[482],Ee[355],Ee[358],Ee[400],Ee[379],Ee[528],Ee[525],Ee[459],Ee[423],Ee[34],Ee[408],Ee[520],Ee[319],Ee[446],Ee[471],Ee[437],Ee[47],Ee[417],Ee[548],Ee[506],Ee[463],Ee[312],Ee[320],Ee[256],Ee[345],Ee[498],Ee[380],Ee[395],Ee[523],Ee[385],Ee[416],Ee[537],Ee[429],Ee[298],Ee[497],Ee[487],Ee[335],Ee[478],Ee[300],Ee[433],Ee[513],Ee[367],Ee[368],Ee[451],Ee[404],Ee[534],Ee[504],Ee[295],Ee[337],Ee[470],Ee[443],Ee[413],Ee[445],Ee[190],Ee[354],Ee[317],Ee[391],Ee[547],Ee[33],Ee[466],Ee[505],Ee[370],Ee[521],Ee[398],Ee[447],Ee[321],Ee[460],Ee[517],Ee[37],Ee[424],Ee[403],Ee[350],Ee[529],Ee[381],Ee[334],Ee[499],Ee[356],Ee[483],Ee[481],Ee[332],Ee[452],Ee[490],Ee[296],Ee[431],Ee[341],Ee[419],Ee[536],Ee[401],Ee[516],Ee[362],Ee[365],Ee[515],Ee[479],Ee[304],Ee[314],Ee[458],Ee[139],Ee[540],Ee[414],Ee[53],Ee[309],Ee[473],Ee[387],Ee[519],Ee[388],Ee[374],Ee[494],Ee[348],Ee[340],Ee[324],Ee[426],Ee[28],Ee[527],Ee[456],Ee[318],Ee[450],Ee[389],Ee[526],Ee[485],Ee[352],Ee[510],Ee[329],Ee[378],Ee[532],Ee[342],Ee[409],Ee[283],Ee[441],Ee[421],Ee[436],Ee[467],Ee[339],Ee[130],Ee[509],Ee[372],Ee[502],Ee[475],Ee[22],Ee[545],Ee[397],Ee[307],Ee[360],Ee[514],Ee[364],Ee[302],Ee[347],Ee[399],Ee[535],Ee[361],Ee[328],Ee[430],Ee[294],Ee[418],Ee[382],Ee[330],Ee[480],Ee[489],Ee[32],Ee[346],Ee[492],Ee[322],Ee[359],Ee[518],Ee[386],Ee[373],Ee[410],Ee[51],Ee[411],Ee[472],Ee[323],Ee[457],Ee[313],Ee[538],Ee[305],Ee[531],Ee[376],Ee[406],Ee[344],Ee[351],Ee[484],Ee[327],Ee[512],Ee[448],Ee[315],Ee[524],Ee[392],Ee[24],Ee[425],Ee[454],Ee[530],Ee[393],Ee[544],Ee[357],Ee[311],Ee[500],Ee[371],Ee[17],Ee[477],Ee[338],Ee[465],Ee[507],Ee[157],Ee[439],Ee[232],Ee[434],Ee[422]],v=[Ee[76],Ee[182],Ee[199],Ee[231],Ee[165],Ee[156],Ee[75],Ee[207],Ee[166],Ee[19],Ee[158],Ee[223],Ee[191],Ee[102],Ee[35],Ee[94],Ee[126],Ee[127],Ee[248],Ee[192],Ee[56],Ee[66],Ee[284],Ee[274],Ee[82],Ee[110],Ee[257],Ee[258],Ee[175],Ee[275],Ee[86],Ee[215],Ee[224],Ee[95],Ee[167],Ee[168],Ee[193],Ee[233],Ee[64],Ee[285],Ee[159],Ee[70],Ee[153],Ee[240],Ee[208],Ee[45],Ee[173],Ee[241],Ee[140],Ee[83],Ee[65],Ee[103],Ee[152],Ee[135],Ee[194],Ee[209],Ee[144],Ee[38],Ee[276],Ee[46],Ee[114],Ee[265],Ee[68],Ee[131],Ee[106],Ee[242],Ee[243],Ee[225],Ee[136],Ee[71],Ee[132],Ee[145],Ee[128],Ee[183],Ee[60],Ee[44],Ee[286],Ee[118],Ee[266],Ee[72],Ee[90],Ee[18],Ee[267],Ee[200],Ee[73],Ee[123],Ee[169],Ee[111],Ee[137],Ee[115],Ee[244],Ee[277],Ee[98],Ee[216],Ee[74],Ee[26],Ee[124],Ee[282],Ee[27],Ee[133],Ee[259],Ee[281],Ee[31],Ee[217],Ee[249],Ee[41],Ee[96],Ee[78],Ee[23],Ee[160],Ee[176],Ee[184],Ee[250],Ee[201],Ee[119],Ee[226],Ee[62],Ee[16],Ee[251],Ee[59],Ee[48],Ee[227],Ee[148],Ee[129],Ee[116],Ee[290],Ee[170],Ee[107],Ee[99],Ee[234],Ee[87],Ee[134],Ee[245],Ee[210],Ee[84],Ee[235],Ee[195],Ee[260],Ee[91],Ee[261],Ee[92],Ee[211],Ee[100],Ee[80],Ee[262],Ee[268],Ee[112],Ee[185],Ee[218],Ee[79],Ee[122],Ee[269],Ee[104],Ee[120],Ee[177],Ee[20],Ee[263],Ee[149],Ee[61],Ee[77],Ee[154],Ee[36],Ee[150],Ee[125],Ee[89],Ee[219],Ee[101],Ee[252],Ee[113],Ee[141],Ee[121],Ee[220],Ee[273],Ee[186],Ee[253],Ee[178],Ee[202],Ee[246],Ee[108],Ee[187],Ee[81],Ee[117],Ee[49],Ee[203],Ee[30],Ee[264],Ee[270],Ee[142],Ee[271],Ee[212],Ee[138],Ee[52],Ee[221],Ee[88],Ee[109],Ee[222],Ee[143],Ee[236],Ee[54],Ee[97],Ee[272],Ee[287],Ee[541],Ee[228],Ee[247],Ee[146],Ee[63],Ee[278],Ee[67],Ee[254],Ee[161],Ee[15],Ee[543],Ee[213],Ee[204],Ee[214],Ee[188],Ee[179],Ee[196],Ee[58],Ee[229],Ee[288],Ee[237],Ee[55],Ee[279],Ee[162],Ee[50],Ee[155],Ee[289],Ee[69],Ee[197],Ee[180],Ee[280],Ee[151],Ee[93],Ee[230],Ee[181],Ee[39],Ee[85],Ee[238],Ee[105],Ee[25],Ee[255],Ee[171],Ee[189],Ee[42],Ee[198],Ee[57],Ee[163],Ee[164],Ee[205],Ee[239],Ee[172],Ee[206],Ee[147],Ee[43]],ge=Ee[158],y=Ee[158],ve=Ee[23],ye=Ee[23],z=function(e,t){if(null==e)return null;for(var n=ee(t),r=[],i=e.length,o=Ee[15];o<i;o++)r.push(Q(e[o],n++));return r},be=Ae[345],xe=Ae[299],we=Oe[100],_e=Ee[91],b=Ae[275],x=b.length,Me=Ee[444],Te=Ee[396],Se=!1,Ue=!1,w=window&&window[Oe[65]]&&window[Oe[65]][Ae[310]]||Oe[95],_=function(e,t){if(null==e||null==e||e==Ae[0]||null==t||null==t||t.length<=Ee[15])return null;t=t.split(Ae[56]);for(var n=Ee[15];n<t.length;n++){var r=new RegExp(t[n].replace(/\./g,Oe[101])+Ae[25]);if(null!=e.match(r)||null!=(Ae[38]+e).match(r))return t[n]}return null}(w,_=Oe[56]),ke=xe.replace(/[^a-zA-Z0-9$]/g,Ae[0]).toLowerCase(),Pe=we.replace(/[^a-zA-Z0-9$]/g,Ae[0]).toLowerCase(),P=function(e){var t=[];if(!e)return t;e=e.split(Ae[38]);for(var n=Ae[0],r=Ee[15];r<e.length;r++)r<e.length-Ee[541]&&(n=Ae[38]+e[e.length-Ee[541]-r]+n,t.push(n));return t}(w);P.push(null),P.push(Ae[38]+w),function(e){for(var t=Ee[15],n=(p[Ae[207]]||Ae[0]).split(Oe[91]),r=Ee[15];r<n.length;r++){var i=n[r].indexOf(Ae[57]);Ee[15]<=i&&n[r].substring(Ee[15],i)==e&&(t+=Ee[541])}return t}(xe)>Ee[541]&&de(),(u=null!=(u=o())&&null!=u&&u!=Ae[0]&&((c=function(){var e=t();if(null==e||null==e||e==Ae[0])return!1;try{return!!((e=parseInt(e))&&_e<=e)}catch(e){return!1}}())&&(c=!(null==(u=n(u))||u-(new window[Ce[0]])[Ae[179]]()<=Me-Te)),c))?(ce(o()),ue(t()),w=null==(s=o())||null==s||s==Ae[0]?Ee[15]:null==(s=n(s))?Ee[15]:s-(Me-Te)-(new window[Ce[0]])[Ae[179]](),window[Ae[124]]&&window[Ae[124]](pe,w)):pe()}()}function o(){var o="6skV4PUYecGhx07l".split("");this.d=function(e){if(null==e||null==e)return e;if(0!=e.length%2)throw Error("1100");for(var t=[],n=0;n<e.length;n++){0==n%2&&t.push("%");for(var r=o,i=0;i<r.length;i++)if(e.charAt(n)==r[i]){t.push(i.toString(16));break}}return decodeURIComponent(t.join(""))}}}()},OjQg:function(e,t,n){
/*!
 * vConsole v3.2.0 (https://github.com/Tencent/vConsole)
 * 
 * Tencent is pleased to support the open source community by making vConsole available.
 * Copyright (C) 2017 THL A29 Limited, a Tencent company. All rights reserved.
 * Licensed under the MIT License (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
 * http://opensource.org/licenses/MIT
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
e.exports=function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(1);var i=n(2),o=r(i),a=n(18),s=r(a);o.default.VConsolePlugin=s.default,t.default=o.default,e.exports=t.default},function(e,t){"use strict";if("undefined"==typeof Symbol){window.Symbol=function(){};var n="__symbol_iterator_key";window.Symbol.iterator=n,Array.prototype[n]=function(){var e=this,t=0;return{next:function(){return{done:e.length===t,value:e.length===t?void 0:e[t++]}}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(3),a=r(o),s=n(4),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),u=n(5),l=r(u);n(7);var f=n(11),d=r(f),p=n(12),h=r(p),m=n(13),g=r(m),v=n(14),y=r(v),b=n(15),x=r(b),w=n(16),_=r(w),M=n(24),T=r(M),S=n(26),U=r(S),k=n(30),P=r(k),E=n(37),C=r(E),A="#__vconsole",O=function(){function o(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),l.default.one(A))console.debug("vConsole is already exists.");else{var t=this;if(this.version=a.default.version,this.$dom=null,this.isInited=!1,this.option={defaultPlugins:["system","network","element","storage"]},this.activedTab="",this.tabList=[],this.pluginList={},this.switchPos={x:10,y:10,startX:0,startY:0,endX:0,endY:0},this.tool=c,this.$=l.default,c.isObject(e))for(var n in e)this.option[n]=e[n];this._addBuiltInPlugins();var r,i=function(){t.isInited||(t._render(),t._mockTap(),t._bindEvent(),t._autoRun())};void 0!==document?"complete"==document.readyState?i():l.default.bind(window,"load",i):(r=void 0,r=setTimeout(function e(){document&&"complete"==document.readyState?(r&&clearTimeout(r),i()):r=setTimeout(e,1)},1))}}return i(o,[{key:"_addBuiltInPlugins",value:function(){this.addPlugin(new _.default("default","Log"));var e=this.option.defaultPlugins,t={system:{proto:T.default,name:"System"},network:{proto:U.default,name:"Network"},element:{proto:P.default,name:"Element"},storage:{proto:C.default,name:"Storage"}};if(e&&c.isArray(e))for(var n=0;n<e.length;n++){var r=t[e[n]];r?this.addPlugin(new r.proto(e[n],r.name)):console.debug("Unrecognized default plugin ID:",e[n])}}},{key:"_render",value:function(){if(!l.default.one(A)){var e=document.createElement("div");e.innerHTML=d.default,document.documentElement.insertAdjacentElement("beforeend",e.children[0])}this.$dom=l.default.one(A);var t=l.default.one(".vc-switch",this.$dom),n=1*c.getStorage("switch_x"),r=1*c.getStorage("switch_y");(n||r)&&(n+t.offsetWidth>document.documentElement.offsetWidth&&(n=document.documentElement.offsetWidth-t.offsetWidth),r+t.offsetHeight>document.documentElement.offsetHeight&&(r=document.documentElement.offsetHeight-t.offsetHeight),n<0&&(n=0),r<0&&(r=0),this.switchPos.x=n,this.switchPos.y=r,l.default.one(".vc-switch").style.right=n+"px",l.default.one(".vc-switch").style.bottom=r+"px");var i=window.devicePixelRatio||1,o=document.querySelector('[name="viewport"]');if(o&&o.content){var a=o.content.match(/initial\-scale\=\d+(\.\d+)?/),s=a?parseFloat(a[0].split("=")[1]):1;s<1&&(this.$dom.style.fontSize=13*i+"px")}l.default.one(".vc-mask",this.$dom).style.display="none"}},{key:"_mockTap",value:function(){var o=void 0,n=void 0,r=void 0,a=!1,s=null;this.$dom.addEventListener("touchstart",function(e){if(void 0===o){var t=e.targetTouches[0];n=t.pageX,r=t.pageY,o=e.timeStamp,s=e.target.nodeType===Node.TEXT_NODE?e.target.parentNode:e.target}},!1),this.$dom.addEventListener("touchmove",function(e){var t=e.changedTouches[0];(10<Math.abs(t.pageX-n)||10<Math.abs(t.pageY-r))&&(a=!0)}),this.$dom.addEventListener("touchend",function(e){if(!1===a&&e.timeStamp-o<700&&null!=s){var t=s.tagName.toLowerCase(),n=!1;switch(t){case"textarea":n=!0;break;case"input":switch(s.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":n=!1;break;default:n=!s.disabled&&!s.readOnly}}n?s.focus():e.preventDefault();var r=e.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,i.initEvent("click",!0,!0),s.dispatchEvent(i)}o=void 0,a=!1,s=null},!1)}},{key:"_bindEvent",value:function(){var o=this,a=l.default.one(".vc-switch",o.$dom);l.default.bind(a,"touchstart",function(e){o.switchPos.startX=e.touches[0].pageX,o.switchPos.startY=e.touches[0].pageY}),l.default.bind(a,"touchend",function(e){o.switchPos.x=o.switchPos.endX,o.switchPos.y=o.switchPos.endY,o.switchPos.startX=0,o.switchPos.startY=0,o.switchPos.endX=0,o.switchPos.endY=0,c.setStorage("switch_x",o.switchPos.x),c.setStorage("switch_y",o.switchPos.y)}),l.default.bind(a,"touchmove",function(e){if(0<e.touches.length){var t=e.touches[0].pageX-o.switchPos.startX,n=e.touches[0].pageY-o.switchPos.startY,r=o.switchPos.x-t,i=o.switchPos.y-n;r+a.offsetWidth>document.documentElement.offsetWidth&&(r=document.documentElement.offsetWidth-a.offsetWidth),i+a.offsetHeight>document.documentElement.offsetHeight&&(i=document.documentElement.offsetHeight-a.offsetHeight),r<0&&(r=0),i<0&&(i=0),a.style.right=r+"px",a.style.bottom=i+"px",o.switchPos.endX=r,o.switchPos.endY=i,e.preventDefault()}}),l.default.bind(l.default.one(".vc-switch",o.$dom),"click",function(){o.show()}),l.default.bind(l.default.one(".vc-hide",o.$dom),"click",function(){o.hide()}),l.default.bind(l.default.one(".vc-mask",o.$dom),"click",function(e){return e.target==l.default.one(".vc-mask")&&void o.hide()}),l.default.delegate(l.default.one(".vc-tabbar",o.$dom),"click",".vc-tab",function(e){var t=this.dataset.tab;t!=o.activedTab&&o.showTab(t)}),l.default.bind(l.default.one(".vc-panel",o.$dom),"transitionend webkitTransitionEnd oTransitionEnd otransitionend",function(e){return e.target==l.default.one(".vc-panel")&&void(l.default.hasClass(o.$dom,"vc-toggle")||(e.target.style.display="none"))});var i=l.default.one(".vc-content",o.$dom),s=!1;l.default.bind(i,"touchstart",function(e){var t=i.scrollTop,n=i.scrollHeight,r=t+i.offsetHeight;0===t?(i.scrollTop=1,0===i.scrollTop&&(l.default.hasClass(e.target,"vc-cmd-input")||(s=!0))):r===n&&(i.scrollTop=t-1,i.scrollTop===t&&(l.default.hasClass(e.target,"vc-cmd-input")||(s=!0)))}),l.default.bind(i,"touchmove",function(e){s&&e.preventDefault()}),l.default.bind(i,"touchend",function(e){s=!1})}},{key:"_autoRun",value:function(){for(var e in this.isInited=!0,this.pluginList)this._initPlugin(this.pluginList[e]);0<this.tabList.length&&this.showTab(this.tabList[0]),this.triggerEvent("ready")}},{key:"triggerEvent",value:function(e,t){e="on"+e.charAt(0).toUpperCase()+e.slice(1),c.isFunction(this.option[e])&&this.option[e].apply(this,t)}},{key:"_initPlugin",value:function(a){var s=this;a.vConsole=this,a.trigger("init"),a.trigger("renderTab",function(e){s.tabList.push(a.id);var t=l.default.render(h.default,{id:a.id,name:a.name});l.default.one(".vc-tabbar",s.$dom).insertAdjacentElement("beforeend",t);var n=l.default.render(g.default,{id:a.id});e&&(c.isString(e)?n.innerHTML+=e:c.isFunction(e.appendTo)?e.appendTo(n):c.isElement(e)&&n.insertAdjacentElement("beforeend",e)),l.default.one(".vc-content",s.$dom).insertAdjacentElement("beforeend",n)}),a.trigger("addTopBar",function(i){if(i)for(var o=l.default.one(".vc-topbar",s.$dom),e=function(e){var n=i[e],r=l.default.render(y.default,{name:n.name||"Undefined",className:n.className||"",pluginID:a.id});if(n.data)for(var t in n.data)r.dataset[t]=n.data[t];c.isFunction(n.onClick)&&l.default.bind(r,"click",function(e){var t=n.onClick.call(r);!1===t||(l.default.removeClass(l.default.all(".vc-topbar-"+a.id),"vc-actived"),l.default.addClass(r,"vc-actived"))}),o.insertAdjacentElement("beforeend",r)},t=0;t<i.length;t++)e(t)}),a.trigger("addTool",function(r){if(r)for(var i=l.default.one(".vc-tool-last",s.$dom),e=function(e){var t=r[e],n=l.default.render(x.default,{name:t.name||"Undefined",pluginID:a.id});1==t.global&&l.default.addClass(n,"vc-global-tool"),c.isFunction(t.onClick)&&l.default.bind(n,"click",function(e){t.onClick.call(n)}),i.parentNode.insertBefore(n,i)},t=0;t<r.length;t++)e(t)}),a.isReady=!0,a.trigger("ready")}},{key:"_triggerPluginsEvent",value:function(e){for(var t in this.pluginList)this.pluginList[t].isReady&&this.pluginList[t].trigger(e)}},{key:"_triggerPluginEvent",value:function(e,t){var n=this.pluginList[e];n&&n.isReady&&n.trigger(t)}},{key:"addPlugin",value:function(e){return void 0!==this.pluginList[e.id]?(console.debug("Plugin "+e.id+" has already been added."),!1):(this.pluginList[e.id]=e,this.isInited&&(this._initPlugin(e),1==this.tabList.length&&this.showTab(this.tabList[0])),!0)}},{key:"removePlugin",value:function(t){t=(t+"").toLowerCase();var e=this.pluginList[t];if(void 0===e)return console.debug("Plugin "+t+" does not exist."),!1;if(e.trigger("remove"),this.isInited){var n=l.default.one("#__vc_tab_"+t);n&&n.parentNode.removeChild(n);for(var r=l.default.all(".vc-topbar-"+t,this.$dom),i=0;i<r.length;i++)r[i].parentNode.removeChild(r[i]);var o=l.default.one("#__vc_log_"+t);o&&o.parentNode.removeChild(o);for(var a=l.default.all(".vc-tool-"+t,this.$dom),s=0;s<a.length;s++)a[s].parentNode.removeChild(a[s])}var c=this.tabList.indexOf(t);-1<c&&this.tabList.splice(c,1);try{delete this.pluginList[t]}catch(e){this.pluginList[t]=void 0}return this.activedTab==t&&0<this.tabList.length&&this.showTab(this.tabList[0]),!0}},{key:"show",value:function(){if(this.isInited){var t=this,e=l.default.one(".vc-panel",this.$dom);e.style.display="block",setTimeout(function(){l.default.addClass(t.$dom,"vc-toggle"),t._triggerPluginsEvent("showConsole");var e=l.default.one(".vc-mask",t.$dom);e.style.display="block"},10)}}},{key:"hide",value:function(){if(this.isInited){l.default.removeClass(this.$dom,"vc-toggle"),this._triggerPluginsEvent("hideConsole");var t=l.default.one(".vc-mask",this.$dom),n=l.default.one(".vc-panel",this.$dom);l.default.bind(t,"transitionend",function(e){t.style.display="none",n.style.display="none"})}}},{key:"showSwitch",value:function(){if(this.isInited){var e=l.default.one(".vc-switch",this.$dom);e.style.display="block"}}},{key:"hideSwitch",value:function(){if(this.isInited){var e=l.default.one(".vc-switch",this.$dom);e.style.display="none"}}},{key:"showTab",value:function(e){if(this.isInited){var t=l.default.one("#__vc_log_"+e);l.default.removeClass(l.default.all(".vc-tab",this.$dom),"vc-actived"),l.default.addClass(l.default.one("#__vc_tab_"+e),"vc-actived"),l.default.removeClass(l.default.all(".vc-logbox",this.$dom),"vc-actived"),l.default.addClass(t,"vc-actived");var n=l.default.all(".vc-topbar-"+e,this.$dom);l.default.removeClass(l.default.all(".vc-toptab",this.$dom),"vc-toggle"),l.default.addClass(n,"vc-toggle"),0<n.length?l.default.addClass(l.default.one(".vc-content",this.$dom),"vc-has-topbar"):l.default.removeClass(l.default.one(".vc-content",this.$dom),"vc-has-topbar"),l.default.removeClass(l.default.all(".vc-tool",this.$dom),"vc-toggle"),l.default.addClass(l.default.all(".vc-tool-"+e,this.$dom),"vc-toggle"),this.activedTab&&this._triggerPluginEvent(this.activedTab,"hide"),this.activedTab=e,this._triggerPluginEvent(this.activedTab,"show")}}},{key:"setOption",value:function(e,t){if(c.isString(e))this.option[e]=t,this._triggerPluginsEvent("updateOption");else if(c.isObject(e)){for(var n in e)this.option[n]=e[n];this._triggerPluginsEvent("updateOption")}else console.debug("The first parameter of vConsole.setOption() must be a string or an object.")}},{key:"destroy",value:function(){if(this.isInited){for(var e=Object.keys(this.pluginList),t=e.length-1;0<=t;t--)this.removePlugin(e[t]);this.$dom.parentNode.removeChild(this.$dom)}}}]),o}();t.default=O,e.exports=t.default},function(e,t){e.exports={name:"vconsole",version:"3.2.0",description:"A lightweight, extendable front-end developer tool for mobile web page.",homepage:"https://github.com/Tencent/vConsole",main:"dist/vconsole.min.js",scripts:{test:"mocha",dist:"webpack"},keywords:["console","debug","mobile"],repository:{type:"git",url:"git+https://github.com/Tencent/vConsole.git"},dependencies:{},devDependencies:{"babel-core":"^6.7.7","babel-loader":"^6.2.4","babel-plugin-add-module-exports":"^0.1.4","babel-preset-es2015":"^6.6.0","babel-preset-stage-3":"^6.5.0",chai:"^3.5.0","css-loader":"^0.23.1","extract-text-webpack-plugin":"^1.0.1","html-loader":"^0.4.3",jsdom:"^9.2.1","json-loader":"^0.5.4",less:"^2.5.3","less-loader":"^2.2.3",mocha:"^2.5.3","style-loader":"^0.13.1",webpack:"~1.12.11"},author:"Tencent",license:"MIT"}},function(e,t){"use strict";function n(e){return"[object Number]"==Object.prototype.toString.call(e)}function r(e){return"[object String]"==Object.prototype.toString.call(e)}function i(e){return"[object Array]"==Object.prototype.toString.call(e)}function o(e){return"[object Boolean]"==Object.prototype.toString.call(e)}function a(e){return"[object Undefined]"==Object.prototype.toString.call(e)}function s(e){return"[object Null]"==Object.prototype.toString.call(e)}function c(e){return"[object Symbol]"==Object.prototype.toString.call(e)}function u(e){return!("[object Object]"!=Object.prototype.toString.call(e)&&(n(e)||r(e)||o(e)||i(e)||s(e)||l(e)||a(e)||c(e)))}function l(e){return"[object Function]"==Object.prototype.toString.call(e)}function f(e){var t=Object.prototype.toString.call(e);return"[object global]"==t||"[object Window]"==t||"[object DOMWindow]"==t}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.getDate=function(e){var t=0<e?new Date(e):new Date,n=t.getDate()<10?"0"+t.getDate():t.getDate(),r=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getFullYear(),o=t.getHours()<10?"0"+t.getHours():t.getHours(),a=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),c=t.getMilliseconds()<10?"0"+t.getMilliseconds():t.getMilliseconds();return c<100&&(c="0"+c),{time:+t,year:i,month:r,day:n,hour:o,minute:a,second:s,millisecond:c}},t.isNumber=n,t.isString=r,t.isArray=i,t.isBoolean=o,t.isUndefined=a,t.isNull=s,t.isSymbol=c,t.isObject=u,t.isFunction=l,t.isElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":d(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":d(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},t.isWindow=f,t.isPlainObject=function(e){var t=Object.prototype.hasOwnProperty;if(!e||"object"!==(void 0===e?"undefined":d(e))||e.nodeType||f(e))return!1;try{if(e.constructor&&!t.call(e,"constructor")&&!t.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n=void 0;for(n in e);return void 0===n||t.call(e,n)},t.htmlEncode=function(e){return document.createElement("a").appendChild(document.createTextNode(e)).parentNode.innerHTML},t.JSONStringify=function(e){var t=arguments.length<=1||void 0===arguments[1]?"\t":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"CIRCULAR_DEPENDECY_OBJECT":arguments[2],r=[],i=JSON.stringify(e,function(e,t){if("object"===(void 0===t?"undefined":d(t))&&null!==t){if(~r.indexOf(t))return n;r.push(t)}return t},t);return r=null,i},t.getObjAllKeys=function(e){if(!u(e)&&!i(e))return[];var t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=[];for(var r in e)t.indexOf(r)<0&&n.push(r);return n=n.sort()},t.getObjName=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},t.setStorage=function(e,t){window.localStorage&&(e="vConsole_"+e,localStorage.setItem(e,t))},t.getStorage=function(e){return window.localStorage?(e="vConsole_"+e,localStorage.getItem(e)):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(4),i=n(6),a=(r=i)&&r.__esModule?r:{default:r},s={one:function(e,t){return t?t.querySelector(e):document.querySelector(e)},all:function(e,t){var n=void 0,r=[];return(n=t?t.querySelectorAll(e):document.querySelectorAll(e))&&0<n.length&&(r=Array.prototype.slice.call(n)),r},addClass:function(e,t){if(e){(0,o.isArray)(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n].className||"",i=r.split(" ");-1<i.indexOf(t)||(i.push(t),e[n].className=i.join(" "))}}},removeClass:function(e,t){if(e){(0,o.isArray)(e)||(e=[e]);for(var n=0;n<e.length;n++){for(var r=e[n].className.split(" "),i=0;i<r.length;i++)r[i]==t&&(r[i]="");e[n].className=r.join(" ").trim()}}},hasClass:function(e,t){if(!e)return!1;for(var n=e.className.split(" "),r=0;r<n.length;r++)if(n[r]==t)return!0;return!1},bind:function(e,t,n,r){if(e){void 0===r&&(r=!1),(0,o.isArray)(e)||(e=[e]);for(var i=0;i<e.length;i++)e[i].addEventListener(t,n,r)}},delegate:function(i,e,o,a){i&&i.addEventListener(e,function(e){var t=s.all(o,i);if(t)e:for(var n=0;n<t.length;n++)for(var r=e.target;r;){if(r==t[n]){a.call(r,e);break e}if((r=r.parentNode)==i)break}},!1)}};s.render=a.default,t.default=s,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=/\{\{([^\}]+)\}\}/g,i="",o="",a=0,s=[],c=function(e,t){""!==e&&(i+=t?e.match(/^ ?else/g)?"} "+e+" {\n":e.match(/\/(if|for|switch)/g)?"}\n":e.match(/^ ?if|for|switch/g)?e+" {\n":e.match(/^ ?(break|continue) ?$/g)?e+";\n":e.match(/^ ?(case|default)/g)?e+":\n":"arr.push("+e+");\n":'arr.push("'+e.replace(/"/g,'\\"')+'");\n')};for(window.__mito_data=t,window.__mito_code="",window.__mito_result="",e=(e=e.replace(/(\{\{ ?switch(.+?)\}\})[\r\n\t ]+\{\{/g,"$1{{")).replace(/^[\r\n]/,"").replace(/\n/g,"\\\n").replace(/\r/g,"\\\r"),o="(function(){\n",i="var arr = [];\n";s=r.exec(e);)c(e.slice(a,s.index),!1),c(s[1],!0),a=s.index+s[0].length;c(e.substr(a,e.length-a),!1),o+=i="with (__mito_data) {\n"+(i+='__mito_result = arr.join("");')+"\n}",o+="})();";var u=document.getElementsByTagName("script"),l="";0<u.length&&(l=u[0].getAttribute("nonce")||"");var f=document.createElement("SCRIPT");f.innerHTML=o,f.setAttribute("nonce",l),document.documentElement.appendChild(f);var d=__mito_result;if(document.documentElement.removeChild(f),!n){var p=document.createElement("DIV");p.innerHTML=d,d=p.children[0]}return d},e.exports=t.default},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.id,r,""]]),n(10)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)()).push([e.id,'#__vconsole{color:#000;font-size:13px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#__vconsole .vc-max-height{max-height:19.23076923em}#__vconsole .vc-max-height-line{max-height:3.38461538em}#__vconsole .vc-min-height{min-height:3.07692308em}#__vconsole dd,#__vconsole dl,#__vconsole pre{margin:0}#__vconsole .vc-switch{display:block;position:fixed;right:.76923077em;bottom:.76923077em;color:#fff;background-color:#04be02;line-height:1;font-size:1.07692308em;padding:.61538462em 1.23076923em;z-index:10000;border-radius:.30769231em;box-shadow:0 0 .61538462em rgba(0,0,0,.4)}#__vconsole .vc-mask{top:0;background:transparent;z-index:10001;transition:background .3s;-webkit-tap-highlight-color:transparent;overflow-y:scroll}#__vconsole .vc-mask,#__vconsole .vc-panel{display:none;position:fixed;left:0;right:0;bottom:0}#__vconsole .vc-panel{min-height:85%;z-index:10002;background-color:#efeff4;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:translateY(100%);transform:translateY(100%)}#__vconsole .vc-tabbar{border-bottom:1px solid #d9d9d9;overflow-x:auto;height:3em;width:auto;white-space:nowrap}#__vconsole .vc-tabbar .vc-tab{display:inline-block;line-height:3em;padding:0 1.15384615em;border-right:1px solid #d9d9d9;text-decoration:none;color:#000;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}#__vconsole .vc-tabbar .vc-tab:active{background-color:rgba(0,0,0,.15)}#__vconsole .vc-tabbar .vc-tab.vc-actived{background-color:#fff}#__vconsole .vc-content{background-color:#fff;overflow-x:hidden;overflow-y:auto;position:absolute;top:3.07692308em;left:0;right:0;bottom:3.07692308em;-webkit-overflow-scrolling:touch}#__vconsole .vc-content.vc-has-topbar{top:5.46153846em}#__vconsole .vc-topbar{background-color:#fbf9fe;display:flex;display:-webkit-box;flex-direction:row;flex-wrap:wrap;-webkit-box-direction:row;-webkit-flex-wrap:wrap;width:100%}#__vconsole .vc-topbar .vc-toptab{display:none;flex:1;-webkit-box-flex:1;line-height:2.30769231em;padding:0 1.15384615em;border-bottom:1px solid #d9d9d9;text-decoration:none;text-align:center;color:#000;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}#__vconsole .vc-topbar .vc-toptab.vc-toggle{display:block}#__vconsole .vc-topbar .vc-toptab:active{background-color:rgba(0,0,0,.15)}#__vconsole .vc-topbar .vc-toptab.vc-actived{border-bottom:1px solid #3e82f7}#__vconsole .vc-logbox{display:none;position:relative;min-height:100%}#__vconsole .vc-logbox i{font-style:normal}#__vconsole .vc-logbox .vc-log{padding-bottom:3em;-webkit-tap-highlight-color:transparent}#__vconsole .vc-logbox .vc-log:empty:before{content:"Empty";color:#999;position:absolute;top:45%;left:0;right:0;bottom:0;font-size:1.15384615em;text-align:center}#__vconsole .vc-logbox .vc-item{margin:0;padding:.46153846em .61538462em;overflow:hidden;line-height:1.3;border-bottom:1px solid #eee;word-break:break-word}#__vconsole .vc-logbox .vc-item-info{color:#6a5acd}#__vconsole .vc-logbox .vc-item-debug{color:#daa520}#__vconsole .vc-logbox .vc-item-warn{color:orange;border-color:#ffb930;background-color:#fffacd}#__vconsole .vc-logbox .vc-item-error{color:#dc143c;border-color:#f4a0ab;background-color:#ffe4e1}#__vconsole .vc-logbox .vc-log.vc-log-partly .vc-item{display:none}#__vconsole .vc-logbox .vc-log.vc-log-partly-error .vc-item-error,#__vconsole .vc-logbox .vc-log.vc-log-partly-info .vc-item-info,#__vconsole .vc-logbox .vc-log.vc-log-partly-log .vc-item-log,#__vconsole .vc-logbox .vc-log.vc-log-partly-warn .vc-item-warn{display:block}#__vconsole .vc-logbox .vc-item .vc-item-content{margin-right:4.61538462em;display:block}#__vconsole .vc-logbox .vc-item .vc-item-meta{color:#888;float:right;width:4.61538462em;text-align:right}#__vconsole .vc-logbox .vc-item.vc-item-nometa .vc-item-content{margin-right:0}#__vconsole .vc-logbox .vc-item.vc-item-nometa .vc-item-meta{display:none}#__vconsole .vc-logbox .vc-item .vc-item-code{display:block;white-space:pre-wrap;overflow:auto;position:relative}#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-input,#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output{padding-left:.92307692em}#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-input:before,#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output:before{content:"\\203A";position:absolute;top:-.23076923em;left:0;font-size:1.23076923em;color:#6a5acd}#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output:before{content:"\\2039"}#__vconsole .vc-logbox .vc-item .vc-fold{display:block;overflow:auto;-webkit-overflow-scrolling:touch}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer{display:block;font-style:italic;padding-left:.76923077em;position:relative}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer:active{background-color:#e6e6e6}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer:before{content:"";position:absolute;top:.30769231em;left:.15384615em;width:0;height:0;border:.30769231em solid transparent;border-left-color:#000}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer.vc-toggle:before{top:.46153846em;left:0;border-top-color:#000;border-left-color:transparent}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner{display:none;margin-left:.76923077em}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner.vc-toggle{display:block}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner .vc-code-key{margin-left:.76923077em}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer .vc-code-key{margin-left:0}#__vconsole .vc-logbox .vc-code-key{color:#905}#__vconsole .vc-logbox .vc-code-private-key{color:#d391b5}#__vconsole .vc-logbox .vc-code-function{color:#905;font-style:italic}#__vconsole .vc-logbox .vc-code-boolean,#__vconsole .vc-logbox .vc-code-number{color:#0086b3}#__vconsole .vc-logbox .vc-code-string{color:#183691}#__vconsole .vc-logbox .vc-code-null,#__vconsole .vc-logbox .vc-code-undefined{color:#666}#__vconsole .vc-logbox .vc-cmd{position:absolute;height:3.07692308em;left:0;right:0;bottom:0;border-top:1px solid #d9d9d9;display:block!important}#__vconsole .vc-logbox .vc-cmd .vc-cmd-input-wrap{display:block;height:2.15384615em;margin-right:3.07692308em;padding:.46153846em .61538462em}#__vconsole .vc-logbox .vc-cmd .vc-cmd-input{width:100%;border:none;resize:none;outline:none;padding:0;font-size:.92307692em}#__vconsole .vc-logbox .vc-cmd .vc-cmd-input::-webkit-input-placeholder{line-height:2.15384615em}#__vconsole .vc-logbox .vc-cmd .vc-cmd-btn{position:absolute;top:0;right:0;bottom:0;width:3.07692308em;border:none;background-color:#efeff4;outline:none;-webkit-touch-callout:none;font-size:1em}#__vconsole .vc-logbox .vc-cmd .vc-cmd-btn:active{background-color:rgba(0,0,0,.15)}#__vconsole .vc-logbox .vc-group .vc-group-preview{-webkit-touch-callout:none}#__vconsole .vc-logbox .vc-group .vc-group-preview:active{background-color:#e6e6e6}#__vconsole .vc-logbox .vc-group .vc-group-detail{display:none;padding:0 0 .76923077em 1.53846154em;border-bottom:1px solid #eee}#__vconsole .vc-logbox .vc-group.vc-actived .vc-group-detail{display:block;background-color:#fbf9fe}#__vconsole .vc-logbox .vc-group.vc-actived .vc-table-row{background-color:#fff}#__vconsole .vc-logbox .vc-group.vc-actived .vc-group-preview{background-color:#fbf9fe}#__vconsole .vc-logbox .vc-table .vc-table-row{display:flex;display:-webkit-flex;flex-direction:row;flex-wrap:wrap;-webkit-box-direction:row;-webkit-flex-wrap:wrap;overflow:hidden;border-bottom:1px solid #eee}#__vconsole .vc-logbox .vc-table .vc-table-row.vc-left-border{border-left:1px solid #eee}#__vconsole .vc-logbox .vc-table .vc-table-col{flex:1;-webkit-box-flex:1;padding:.23076923em .30769231em;border-left:1px solid #eee;overflow:auto;white-space:pre-wrap;word-break:break-word;-webkit-overflow-scrolling:touch}#__vconsole .vc-logbox .vc-table .vc-table-col:first-child{border:none}#__vconsole .vc-logbox .vc-table .vc-small .vc-table-col{padding:0 .30769231em;font-size:.92307692em}#__vconsole .vc-logbox .vc-table .vc-table-col-2{flex:2;-webkit-box-flex:2}#__vconsole .vc-logbox .vc-table .vc-table-col-3{flex:3;-webkit-box-flex:3}#__vconsole .vc-logbox .vc-table .vc-table-col-4{flex:4;-webkit-box-flex:4}#__vconsole .vc-logbox .vc-table .vc-table-col-5{flex:5;-webkit-box-flex:5}#__vconsole .vc-logbox .vc-table .vc-table-col-6{flex:6;-webkit-box-flex:6}#__vconsole .vc-logbox .vc-table .vc-table-row-error{border-color:#f4a0ab;background-color:#ffe4e1}#__vconsole .vc-logbox .vc-table .vc-table-row-error .vc-table-col{color:#dc143c;border-color:#f4a0ab}#__vconsole .vc-logbox .vc-table .vc-table-col-title{font-weight:700}#__vconsole .vc-logbox.vc-actived{display:block}#__vconsole .vc-toolbar{border-top:1px solid #d9d9d9;line-height:3em;position:absolute;left:0;right:0;bottom:0;display:flex;display:-webkit-box;flex-direction:row;-webkit-box-direction:row}#__vconsole .vc-toolbar .vc-tool{display:none;text-decoration:none;color:#000;width:50%;flex:1;-webkit-box-flex:1;text-align:center;position:relative;-webkit-touch-callout:none}#__vconsole .vc-toolbar .vc-tool.vc-global-tool,#__vconsole .vc-toolbar .vc-tool.vc-toggle{display:block}#__vconsole .vc-toolbar .vc-tool:active{background-color:rgba(0,0,0,.15)}#__vconsole .vc-toolbar .vc-tool:after{content:" ";position:absolute;top:.53846154em;bottom:.53846154em;right:0;border-left:1px solid #d9d9d9}#__vconsole .vc-toolbar .vc-tool-last:after{border:none}#__vconsole.vc-toggle .vc-switch{display:none}#__vconsole.vc-toggle .vc-mask{background:rgba(0,0,0,.6);display:block}#__vconsole.vc-toggle .vc-panel{-webkit-transform:translate(0);transform:translate(0)}',""])},function(e,t){"use strict";e.exports=function(){var a=[];return a.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&n[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),a.push(o))}},a}},function(e,t,n){function u(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=h[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(s(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(s(r.parts[o],t));h[r.id]={id:r.id,refs:1,parts:a}}}}function l(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],c=i[3],u={css:a,media:s,sourceMap:c};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function c(e,t){var n=o(),r=a[a.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),a.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function f(e){e.parentNode.removeChild(e);var t=a.indexOf(e);0<=t&&a.splice(t,1)}function d(e){var t=document.createElement("style");return t.type="text/css",c(e,t),t}function s(t,e){var n,r,i,o,a;if(e.singleton){var s=g++;n=m||(m=d(e)),r=p.bind(null,n,s,!1),i=p.bind(null,n,s,!0)}else i=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=e,(a=document.createElement("link")).rel="stylesheet",c(o,a),r=function(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}.bind(null,n=a),function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){f(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function p(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}var h={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},i=r(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),o=r(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,a=[];e.exports=function(e,s){void 0===(s=s||{}).singleton&&(s.singleton=i()),void 0===s.insertAt&&(s.insertAt="bottom");var c=l(e);return u(c,s),function(e){for(var t=[],n=0;n<c.length;n++){var r=c[n],i=h[r.id];i.refs--,t.push(i)}if(e){var o=l(e);u(o,s)}for(var n=0;n<t.length;n++){var i=t[n];if(0===i.refs){for(var a=0;a<i.parts.length;a++)i.parts[a]();delete h[i.id]}}}};var v,y=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")})},function(e,t){e.exports='<div id="__vconsole" class="">\n  <div class="vc-switch">vConsole</div>\n  <div class="vc-mask">\n  </div>\n  <div class="vc-panel">\n    <div class="vc-tabbar">\n    </div>\n    <div class="vc-topbar">\n    </div>\n    <div class="vc-content">\n    </div>\n    <div class="vc-toolbar">\n      <a class="vc-tool vc-global-tool vc-tool-last vc-hide">Hide</a>\n    </div>\n  </div>\n</div>'},function(e,t){e.exports='<a class="vc-tab" data-tab="{{id}}" id="__vc_tab_{{id}}">{{name}}</a>'},function(e,t){e.exports='<div class="vc-logbox" id="__vc_log_{{id}}">\n  \n</div>'},function(e,t){e.exports='<a class="vc-toptab vc-topbar-{{pluginID}}{{if (className)}} {{className}}{{/if}}">{{name}}</a>'},function(e,t){e.exports='<a class="vc-tool vc-tool-{{pluginID}}">{{name}}</a>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=n(5),c=r(o),s=n(4),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),l=n(17),f=r(l),d=n(22),p=r(d),h=n(23),m=r(h),g=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.tplTabbox=p.default,i.windowOnError=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onReady",value:function(){var r=this;a(Object.getPrototypeOf(o.prototype),"onReady",this).call(this),c.default.bind(c.default.one(".vc-cmd",this.$tabbox),"submit",function(e){e.preventDefault();var t=c.default.one(".vc-cmd-input",e.target),n=t.value;(t.value="")!==n&&r.evalCommand(n)});var e=document.getElementsByTagName("script"),t="";0<e.length&&(t=e[0].getAttribute("nonce")||"");var n=document.createElement("SCRIPT");n.innerHTML="if (!!window) {window.__vConsole_cmd_result = undefined;window.__vConsole_cmd_error = false;}",n.setAttribute("nonce",t),document.documentElement.appendChild(n),document.documentElement.removeChild(n)}},{key:"mockConsole",value:function(){a(Object.getPrototypeOf(o.prototype),"mockConsole",this).call(this);var c=this;u.isFunction(window.onerror)&&(this.windowOnError=window.onerror),window.onerror=function(e,t,n,r,i){var o=e;t&&(o+="\n"+t.replace(location.origin,"")),(n||r)&&(o+=":"+n+":"+r);var a=!!i&&!!i.stack,s=a&&i.stack.toString()||"";c.printLog({logType:"error",logs:[o,s],noOrigin:!0}),u.isFunction(c.windowOnError)&&c.windowOnError.call(window,e,t,n,r,i)}}},{key:"evalCommand",value:function(e){this.printLog({logType:"log",content:c.default.render(m.default,{content:e,type:"input"}),noMeta:!0,style:""});var t="";t+="try {\n",t+="window.__vConsole_cmd_result = (function() {\n",t+="return "+e+";\n",t+="})();\n",t+="window.__vConsole_cmd_error = false;\n",t+="} catch (e) {\n",t+="window.__vConsole_cmd_result = e.message;\n",t+="window.__vConsole_cmd_error = true;\n",t+="}";var n=document.getElementsByTagName("script"),r="";0<n.length&&(r=n[0].getAttribute("nonce")||"");var i=document.createElement("SCRIPT");i.innerHTML=t,i.setAttribute("nonce",r),document.documentElement.appendChild(i);var o=window.__vConsole_cmd_result,a=window.__vConsole_cmd_error;if(document.documentElement.removeChild(i),0==a){var s=void 0;s=u.isArray(o)||u.isObject(o)?this.getFoldedLine(o):(u.isNull(o)?o="null":u.isUndefined(o)?o="undefined":u.isFunction(o)?o="function()":u.isString(o)&&(o='"'+o+'"'),c.default.render(m.default,{content:o,type:"output"})),this.printLog({logType:"log",content:s,noMeta:!0,style:""})}else this.printLog({logType:"error",logs:[o],noMeta:!0,style:""})}}]),o}(f.default);t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(4),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),a=n(5),v=r(a),s=n(18),c=r(s),u=n(19),d=r(u),l=n(20),y=r(l),p=n(21),b=r(p),h=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.tplTabbox="",i.allowUnformattedLog=!0,i.isReady=!1,i.isShow=!1,i.$tabbox=null,i.console={},i.logList=[],i.isInBottom=!0,i.maxLogNumber=1e3,i.logNumber=0,i.mockConsole(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onInit",value:function(){this.$tabbox=v.default.render(this.tplTabbox,{}),this.updateMaxLogNumber()}},{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTopBar",value:function(e){for(var t=this,n=["All","Log","Info","Warn","Error"],r=[],i=0;i<n.length;i++)r.push({name:n[i],data:{type:n[i].toLowerCase()},className:"",onClick:function(){return!v.default.hasClass(this,"vc-actived")&&void t.showLogType(this.dataset.type||"all")}});r[0].className="vc-actived",e(r)}},{key:"onAddTool",value:function(e){var t=this,n=[{name:"Clear",global:!1,onClick:function(){t.clearLog(),t.vConsole.triggerEvent("clearLog")}}];e(n)}},{key:"onReady",value:function(){var r=this;r.isReady=!0;var i=v.default.all(".vc-subtab",r.$tabbox);v.default.bind(i,"click",function(e){if(e.preventDefault(),v.default.hasClass(this,"vc-actived"))return!1;v.default.removeClass(i,"vc-actived"),v.default.addClass(this,"vc-actived");var t=this.dataset.type,n=v.default.one(".vc-log",r.$tabbox);v.default.removeClass(n,"vc-log-partly-log"),v.default.removeClass(n,"vc-log-partly-info"),v.default.removeClass(n,"vc-log-partly-warn"),v.default.removeClass(n,"vc-log-partly-error"),"all"==t?v.default.removeClass(n,"vc-log-partly"):(v.default.addClass(n,"vc-log-partly"),v.default.addClass(n,"vc-log-partly-"+t))});var t=v.default.one(".vc-content");v.default.bind(t,"scroll",function(e){r.isShow&&(t.scrollTop+t.offsetHeight>=t.scrollHeight?r.isInBottom=!0:r.isInBottom=!1)});for(var e=0;e<r.logList.length;e++)r.printLog(r.logList[e]);r.logList=[]}},{key:"onRemove",value:function(){window.console.log=this.console.log,window.console.info=this.console.info,window.console.warn=this.console.warn,window.console.debug=this.console.debug,window.console.error=this.console.error,window.console.time=this.console.time,window.console.timeEnd=this.console.timeEnd,window.console.clear=this.console.clear,this.console={}}},{key:"onShow",value:function(){this.isShow=!0,1==this.isInBottom&&this.autoScrollToBottom()}},{key:"onHide",value:function(){this.isShow=!1}},{key:"onShowConsole",value:function(){1==this.isInBottom&&this.autoScrollToBottom()}},{key:"onUpdateOption",value:function(){this.vConsole.option.maxLogNumber!=this.maxLogNumber&&(this.updateMaxLogNumber(),this.limitMaxLogs())}},{key:"updateMaxLogNumber",value:function(){this.maxLogNumber=this.vConsole.option.maxLogNumber||1e3,this.maxLogNumber=Math.max(1,this.maxLogNumber)}},{key:"limitMaxLogs",value:function(){if(this.isReady)for(;this.logNumber>this.maxLogNumber;){var e=v.default.one(".vc-item",this.$tabbox);if(!e)break;e.parentNode.removeChild(e),this.logNumber--}}},{key:"showLogType",value:function(e){var t=v.default.one(".vc-log",this.$tabbox);v.default.removeClass(t,"vc-log-partly-log"),v.default.removeClass(t,"vc-log-partly-info"),v.default.removeClass(t,"vc-log-partly-warn"),v.default.removeClass(t,"vc-log-partly-error"),"all"==e?v.default.removeClass(t,"vc-log-partly"):(v.default.addClass(t,"vc-log-partly"),v.default.addClass(t,"vc-log-partly-"+e))}},{key:"autoScrollToBottom",value:function(){this.vConsole.option.disableLogScrolling||this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var e=v.default.one(".vc-content");e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}},{key:"mockConsole",value:function(){var i=this,r=this,e=["log","info","warn","debug","error"];window.console?(e.map(function(e){r.console[e]=window.console[e]}),r.console.time=window.console.time,r.console.timeEnd=window.console.timeEnd,r.console.clear=window.console.clear):window.console={},e.map(function(r){window.console[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.printLog({logType:r,logs:t})}});var n={};window.console.time=function(e){n[e]=Date.now()},window.console.timeEnd=function(e){var t=n[e];t?(console.log(e+":",Date.now()-t+"ms"),delete n[e]):console.log(e+": 0ms")},window.console.clear=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.clearLog(),r.console.clear.apply(window.console,t)}}},{key:"clearLog",value:function(){v.default.one(".vc-log",this.$tabbox).innerHTML=""}},{key:"printOriginLog",value:function(e){"function"==typeof this.console[e.logType]&&this.console[e.logType].apply(window.console,e.logs)}},{key:"printLog",value:function(e){var t=e.logs||[];if(t.length||e.content){t=[].slice.call(t||[]);var n=!0,r=/^\[(\w+)\]$/i,i="";if(g.isString(t[0])){var o=t[0].match(r);null!==o&&0<o.length&&(i=o[1].toLowerCase())}if(i?n=i==this.id:0==this.allowUnformattedLog&&(n=!1),!n)return void(e.noOrigin||this.printOriginLog(e));if(e.date||(e.date=+new Date),!this.isReady)return void this.logList.push(e);if(g.isString(t[0])&&(t[0]=t[0].replace(r,""),""===t[0]&&t.shift()),!e.meta){var a=g.getDate(e.date);e.meta=a.hour+":"+a.minute+":"+a.second}for(var s=v.default.render(d.default,{logType:e.logType,noMeta:!!e.noMeta,meta:e.meta,style:e.style||""}),c=v.default.one(".vc-item-content",s),u=0;u<t.length;u++){var l=void 0;try{if(""===t[u])continue;l=g.isFunction(t[u])?"<span> "+t[u].toString()+"</span>":g.isObject(t[u])||g.isArray(t[u])?this.getFoldedLine(t[u]):"<span> "+g.htmlEncode(t[u]).replace(/\n/g,"<br/>")+"</span>"}catch(e){l="<span> ["+f(t[u])+"]</span>"}l&&("string"==typeof l?c.insertAdjacentHTML("beforeend",l):c.insertAdjacentElement("beforeend",l))}g.isObject(e.content)&&c.insertAdjacentElement("beforeend",e.content),v.default.one(".vc-log",this.$tabbox).insertAdjacentElement("beforeend",s),this.logNumber++,this.limitMaxLogs(),this.isInBottom&&this.autoScrollToBottom(),e.noOrigin||this.printOriginLog(e)}}},{key:"getFoldedLine",value:function(p,e){var h=this;if(!e){var t=g.JSONStringify(p),n=t.substr(0,26);e=g.getObjName(p),26<t.length&&(n+="..."),e+=" "+n}var m=v.default.render(y.default,{outer:e,lineType:"obj"});return v.default.bind(v.default.one(".vc-fold-outer",m),"click",function(e){e.preventDefault(),e.stopPropagation(),v.default.hasClass(m,"vc-toggle")?(v.default.removeClass(m,"vc-toggle"),v.default.removeClass(v.default.one(".vc-fold-inner",m),"vc-toggle"),v.default.removeClass(v.default.one(".vc-fold-outer",m),"vc-toggle")):(v.default.addClass(m,"vc-toggle"),v.default.addClass(v.default.one(".vc-fold-inner",m),"vc-toggle"),v.default.addClass(v.default.one(".vc-fold-outer",m),"vc-toggle"));var t=v.default.one(".vc-fold-inner",m);if(0==t.children.length&&p){for(var n=g.getObjAllKeys(p),r=0;r<n.length;r++){var i=p[n[r]],o="undefined",a="";g.isString(i)?(o="string",i='"'+i+'"'):g.isNumber(i)?o="number":g.isBoolean(i)?o="boolean":g.isNull(i)?i=o="null":g.isUndefined(i)?i=o="undefined":g.isFunction(i)?(o="function",i="function()"):g.isSymbol(i)&&(o="symbol");var s=void 0;if(g.isArray(i)){var c=g.getObjName(i)+"["+i.length+"]";s=h.getFoldedLine(i,v.default.render(b.default,{key:n[r],keyType:a,value:c,valueType:"array"},!0))}else if(g.isObject(i)){var u=g.getObjName(i);s=h.getFoldedLine(i,v.default.render(b.default,{key:g.htmlEncode(n[r]),keyType:a,value:u,valueType:"object"},!0))}else{p.hasOwnProperty&&!p.hasOwnProperty(n[r])&&(a="private");var l={lineType:"kv",key:g.htmlEncode(n[r]),keyType:a,value:g.htmlEncode(i),valueType:o};s=v.default.render(y.default,l)}t.insertAdjacentElement("beforeend",s)}if(g.isObject(p)){var f=p.__proto__,d=void 0;d=g.isObject(f)?h.getFoldedLine(f,v.default.render(b.default,{key:"__proto__",keyType:"private",value:g.getObjName(f),valueType:"object"},!0)):v.default.render(b.default,{key:"__proto__",keyType:"private",value:"null",valueType:"null"}),t.insertAdjacentElement("beforeend",d)}}return!1}),m}}]),o}(c.default);t.default=h,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),n=function(){function n(e){var t=arguments.length<=1||void 0===arguments[1]?"newPlugin":arguments[1];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.id=e,this.name=t,this.isReady=!1,this.eventList={}}return r(n,[{key:"on",value:function(e,t){return this.eventList[e]=t,this}},{key:"trigger",value:function(e,t){if("function"==typeof this.eventList[e])this.eventList[e].call(this,t);else{var n="on"+e.charAt(0).toUpperCase()+e.slice(1);"function"==typeof this[n]&&this[n].call(this,t)}return this}},{key:"id",get:function(){return this._id},set:function(e){if(!e)throw"Plugin ID cannot be empty";this._id=e.toLowerCase()}},{key:"name",get:function(){return this._name},set:function(e){if(!e)throw"Plugin name cannot be empty";this._name=e}},{key:"vConsole",get:function(){return this._vConsole||void 0},set:function(e){if(!e)throw"vConsole cannot be empty";this._vConsole=e}}]),n}();t.default=n,e.exports=t.default},function(e,t){e.exports='<div class="vc-item vc-item-{{logType}} {{if (!noMeta)}}vc-item-nometa{{/if}} {{style}}">\n\t<span class="vc-item-meta">{{if (!noMeta)}}{{meta}}{{/if}}</span>\n\t<div class="vc-item-content"></div>\n</div>'},function(e,t){e.exports='<div class="vc-fold">\n  {{if (lineType == \'obj\')}}\n    <i class="vc-fold-outer">{{outer}}</i>\n    <div class="vc-fold-inner"></div>\n  {{else if (lineType == \'value\')}}\n    <i class="vc-code-{{valueType}}">{{value}}</i>\n  {{else if (lineType == \'kv\')}}\n    <i class="vc-code-key{{if (keyType)}} vc-code-{{keyType}}-key{{/if}}">{{key}}</i>: <i class="vc-code-{{valueType}}">{{value}}</i>\n  {{/if}}\n</div>'},function(e,t){e.exports='<span>\n  <i class="vc-code-key{{if (keyType)}} vc-code-{{keyType}}-key{{/if}}">{{key}}</i>: <i class="vc-code-{{valueType}}">{{value}}</i>\n</span>'},function(e,t){e.exports='<div>\n  <div class="vc-log"></div>\n  <form class="vc-cmd">\n    <button class="vc-cmd-btn" type="submit">OK</button>\n    <div class="vc-cmd-input-wrap">\n      <textarea class="vc-cmd-input" placeholder="command..."></textarea>\n    </div>\n  </form>\n</div>'},function(e,t){e.exports='<pre class="vc-item-code vc-item-code-{{type}}">{{content}}</pre>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(4),a=(function(e){if(!e||!e.__esModule){var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}}(o),n(17)),s=r(a),c=n(25),u=r(c),l=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.tplTabbox=u.default,i.allowUnformattedLog=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onInit",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(Object.getPrototypeOf(o.prototype),"onInit",this).call(this),this.printSystemInfo()}},{key:"printSystemInfo",value:function(){var e=navigator.userAgent,t="",n=e.match(/(ipod).*\s([\d_]+)/i),r=e.match(/(ipad).*\s([\d_]+)/i),i=e.match(/(iphone)\sos\s([\d_]+)/i),o=e.match(/(android)\s([\d\.]+)/i);t="Unknown",o?t="Android "+o[2]:i?t="iPhone, iOS "+i[2].replace(/_/g,"."):r?t="iPad, iOS "+r[2].replace(/_/g,"."):n&&(t="iPod, iOS "+n[2].replace(/_/g,"."));var a=t,s=e.match(/MicroMessenger\/([\d\.]+)/i);t="Unknown",s&&s[1]&&(t=s[1],a+=", WeChat "+t),console.info("[system]","System:",a),t="Unknown",t="https:"==location.protocol?"HTTPS":"http:"==location.protocol?"HTTP":location.protocol.replace(":",""),a=t;var c=e.toLowerCase().match(/ nettype\/([^ ]+)/g);t="Unknown",c&&c[0]?(c=c[0].split("/"),t=c[1],a+=", "+t,console.info("[system]","Network:",a)):console.info("[system]","Protocol:",a),console.info("[system]","UA:",e),setTimeout(function(){var e=window.performance||window.msPerformance||window.webkitPerformance;if(e&&e.timing){var t=e.timing;t.navigationStart&&console.info("[system]","navigationStart:",t.navigationStart),t.navigationStart&&t.domainLookupStart&&console.info("[system]","navigation:",t.domainLookupStart-t.navigationStart+"ms"),t.domainLookupEnd&&t.domainLookupStart&&console.info("[system]","dns:",t.domainLookupEnd-t.domainLookupStart+"ms"),t.connectEnd&&t.connectStart&&(t.connectEnd&&t.secureConnectionStart?console.info("[system]","tcp (ssl):",t.connectEnd-t.connectStart+"ms ("+(t.connectEnd-t.secureConnectionStart)+"ms)"):console.info("[system]","tcp:",t.connectEnd-t.connectStart+"ms")),t.responseStart&&t.requestStart&&console.info("[system]","request:",t.responseStart-t.requestStart+"ms"),t.responseEnd&&t.responseStart&&console.info("[system]","response:",t.responseEnd-t.responseStart+"ms"),t.domComplete&&t.domLoading&&(t.domContentLoadedEventStart&&t.domLoading?console.info("[system]","domComplete (domLoaded):",t.domComplete-t.domLoading+"ms ("+(t.domContentLoadedEventStart-t.domLoading)+"ms)"):console.info("[system]","domComplete:",t.domComplete-t.domLoading+"ms")),t.loadEventEnd&&t.loadEventStart&&console.info("[system]","loadEvent:",t.loadEventEnd-t.loadEventStart+"ms"),t.navigationStart&&t.loadEventEnd&&console.info("[system]","total (DOM):",t.loadEventEnd-t.navigationStart+"ms ("+(t.domComplete-t.navigationStart)+"ms)")}},0)}}]),o}(s.default);t.default=l,e.exports=t.default},function(e,t){e.exports='<div>\n  <div class="vc-log"></div>\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(5),u=r(o),a=n(4),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),s=n(18),c=r(s),l=n(27),f=r(l),d=n(28),p=r(d),h=n(29),m=r(h),g=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.$tabbox=u.default.render(f.default,{}),i.$header=null,i.reqList={},i.domList={},i.isReady=!1,i.isShow=!1,i.isInBottom=!0,i._open=void 0,i._send=void 0,i.mockAjax(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTool",value:function(e){var t=this,n=[{name:"Clear",global:!1,onClick:function(e){t.clearLog()}}];e(n)}},{key:"onReady",value:function(){var r=this;r.isReady=!0,this.renderHeader(),u.default.delegate(u.default.one(".vc-log",this.$tabbox),"click",".vc-group-preview",function(e){var t=this.dataset.reqid,n=this.parentNode;u.default.hasClass(n,"vc-actived")?(u.default.removeClass(n,"vc-actived"),r.updateRequest(t,{actived:!1})):(u.default.addClass(n,"vc-actived"),r.updateRequest(t,{actived:!0})),e.preventDefault()});var t=u.default.one(".vc-content");for(var e in u.default.bind(t,"scroll",function(e){r.isShow&&(t.scrollTop+t.offsetHeight>=t.scrollHeight?r.isInBottom=!0:r.isInBottom=!1)}),r.reqList)r.updateRequest(e,{})}},{key:"onRemove",value:function(){window.XMLHttpRequest&&(window.XMLHttpRequest.prototype.open=this._open,window.XMLHttpRequest.prototype.send=this._send,this._open=void 0,this._send=void 0)}},{key:"onShow",value:function(){this.isShow=!0,1==this.isInBottom&&this.scrollToBottom()}},{key:"onHide",value:function(){this.isShow=!1}},{key:"onShowConsole",value:function(){1==this.isInBottom&&this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var e=u.default.one(".vc-content");e.scrollTop=e.scrollHeight-e.offsetHeight}},{key:"clearLog",value:function(){for(var e in this.reqList={},this.domList)this.domList[e].remove(),this.domList[e]=void 0;this.domList={},this.renderHeader()}},{key:"renderHeader",value:function(){var e=Object.keys(this.reqList).length,t=u.default.render(p.default,{count:e}),n=u.default.one(".vc-log",this.$tabbox);this.$header?this.$header.parentNode.replaceChild(t,this.$header):n.parentNode.insertBefore(t,n),this.$header=t}},{key:"updateRequest",value:function(e,t){var n=Object.keys(this.reqList).length,r=this.reqList[e]||{};for(var i in t)r[i]=t[i];if(this.reqList[e]=r,this.isReady){var o={id:e,url:r.url,status:r.status,method:r.method||"-",costTime:0<r.costTime?r.costTime+"ms":"-",header:r.header||null,getData:r.getData||null,postData:r.postData||null,response:null,actived:!!r.actived};switch(r.responseType){case"":case"text":if(b.isString(r.response))try{o.response=JSON.parse(r.response),o.response=JSON.stringify(o.response,null,1),o.response=b.htmlEncode(o.response)}catch(e){o.response=b.htmlEncode(r.response)}else void 0!==r.response&&(o.response=Object.prototype.toString.call(r.response));break;case"json":void 0!==r.response&&(o.response=JSON.stringify(r.response,null,1));break;case"blob":case"document":case"arraybuffer":default:void 0!==r.response&&(o.response=Object.prototype.toString.call(r.response))}0==r.readyState||1==r.readyState?o.status="Pending":2==r.readyState||3==r.readyState?o.status="Loading":4==r.readyState||(o.status="Unknown");var a=u.default.render(m.default,o),s=this.domList[e];400<=r.status&&u.default.addClass(u.default.one(".vc-group-preview",a),"vc-table-row-error"),s?s.parentNode.replaceChild(a,s):u.default.one(".vc-log",this.$tabbox).insertAdjacentElement("beforeend",a),this.domList[e]=a;var c=Object.keys(this.reqList).length;c!=n&&this.renderHeader(),this.isInBottom&&this.scrollToBottom()}}},{key:"mockAjax",value:function(){var e=window.XMLHttpRequest;if(e){var v=this,o=window.XMLHttpRequest.prototype.open,y=window.XMLHttpRequest.prototype.send;v._open=o,v._send=y,window.XMLHttpRequest.prototype.open=function(){var c=this,e=[].slice.call(arguments),t=e[0],n=e[1],u=v.getUniqueID(),l=null;c._requestID=u,c._method=t,c._url=n;var f=c.onreadystatechange||function(){},r=function(){var e=v.reqList[u]||{};if(e.readyState=c.readyState,e.status=0,1<c.readyState&&(e.status=c.status),e.responseType=c.responseType,0==c.readyState)e.startTime||(e.startTime=+new Date);else if(1==c.readyState)e.startTime||(e.startTime=+new Date);else if(2==c.readyState){e.header={};for(var t=c.getAllResponseHeaders()||"",n=t.split("\n"),r=0;r<n.length;r++){var i=n[r];if(i){var o=i.split(": "),a=o[0],s=o.slice(1).join(": ");e.header[a]=s}}}else 3==c.readyState||(4==c.readyState?(clearInterval(l),e.endTime=+new Date,e.costTime=e.endTime-(e.startTime||e.endTime),e.response=c.response):clearInterval(l));return c._noVConsole||v.updateRequest(u,e),f.apply(c,arguments)};c.onreadystatechange=r;var i=-1;return l=setInterval(function(){i!=c.readyState&&(i=c.readyState,r.call(c))},10),o.apply(c,e)},window.XMLHttpRequest.prototype.send=function(){var e=[].slice.call(arguments),t=e[0],n=v.reqList[this._requestID]||{};n.method=this._method.toUpperCase();var r=this._url.split("?");if(n.url=r.shift(),0<r.length){n.getData={},r=(r=r.join("?")).split("&");var i=!0,o=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;u=u.split("="),n.getData[u[0]]=u[1]}}catch(e){o=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}}if("POST"==n.method)if(b.isString(t)){var l=t.split("&");n.postData={};var f=!0,d=!1,p=void 0;try{for(var h,m=l[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){var g=h.value;g=g.split("="),n.postData[g[0]]=g[1]}}catch(e){d=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(d)throw p}}}else b.isPlainObject(t)&&(n.postData=t);return this._noVConsole||v.updateRequest(this._requestID,n),y.apply(this,e)}}}},{key:"getUniqueID",value:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)});return e}}]),o}(c.default);t.default=g,e.exports=t.default},function(e,t){e.exports='<div class="vc-table">\n  <div class="vc-log"></div>\n</div>'},function(e,t){e.exports='<dl class="vc-table-row">\n  <dd class="vc-table-col vc-table-col-4">Name {{if (count > 0)}}({{count}}){{/if}}</dd>\n  <dd class="vc-table-col">Method</dd>\n  <dd class="vc-table-col">Status</dd>\n  <dd class="vc-table-col">Time</dd>\n</dl>'},function(e,t){e.exports='<div class="vc-group {{actived ? \'vc-actived\' : \'\'}}">\n  <dl class="vc-table-row vc-group-preview" data-reqid="{{id}}">\n    <dd class="vc-table-col vc-table-col-4">{{url}}</dd>\n    <dd class="vc-table-col">{{method}}</dd>\n    <dd class="vc-table-col">{{status}}</dd>\n    <dd class="vc-table-col">{{costTime}}</dd>\n  </dl>\n  <div class="vc-group-detail">\n    {{if (header !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Headers</dt>\n      </dl>\n      {{for (var key in header)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{header[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    {{if (getData !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Query String Parameters</dt>\n      </dl>\n      {{for (var key in getData)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{getData[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    {{if (postData !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Form Data</dt>\n      </dl>\n      {{for (var key in postData)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{postData[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Response</dt>\n      </dl>\n      <div class="vc-table-row vc-left-border vc-small">\n        <pre class="vc-table-col vc-max-height vc-min-height">{{response || \'\'}}</pre>\n      </div>\n    </div>\n  </div>\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n(31);var o=n(18),a=r(o),s=n(33),c=r(s),u=n(34),l=r(u),f=n(4),d=(function(e){if(!e||!e.__esModule){var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}}(f),n(5)),p=r(d),h=function(e){function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(s)).call.apply(e,[this].concat(n))),o=i;o.isInited=!1,o.node={},o.$tabbox=p.default.render(c.default,{}),o.nodes=[],o.activedElem={};var a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;return o.observer=new a(function(e){for(var t=0;t<e.length;t++){var n=e[t];o._isInVConsole(n.target)||o.onMutation(n)}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,e),i(s,[{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTool",value:function(e){var r=this,t=[{name:"Expend",global:!1,onClick:function(e){if(r.activedElem)if(p.default.hasClass(r.activedElem,"vc-toggle"))for(var t=0;t<r.activedElem.childNodes.length;t++){var n=r.activedElem.childNodes[t];if(p.default.hasClass(n,"vcelm-l")&&!p.default.hasClass(n,"vcelm-noc")&&!p.default.hasClass(n,"vc-toggle")){p.default.one(".vcelm-node",n).click();break}}else p.default.one(".vcelm-node",r.activedElem).click()}},{name:"Collapse",global:!1,onClick:function(e){r.activedElem&&(p.default.hasClass(r.activedElem,"vc-toggle")?p.default.one(".vcelm-node",r.activedElem).click():r.activedElem.parentNode&&p.default.hasClass(r.activedElem.parentNode,"vcelm-l")&&p.default.one(".vcelm-node",r.activedElem.parentNode).click())}}];e(t)}},{key:"onShow",value:function(){if(!this.isInited){this.isInited=!0,this.node=this.getNode(document.documentElement);var e=this.renderView(this.node,p.default.one(".vc-log",this.$tabbox)),t=p.default.one(".vcelm-node",e);t&&t.click(),this.observer.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}}},{key:"onRemove",value:function(){this.observer.disconnect()}},{key:"onMutation",value:function(e){switch(e.type){case"childList":0<e.removedNodes.length&&this.onChildRemove(e),0<e.addedNodes.length&&this.onChildAdd(e);break;case"attributes":this.onAttributesChange(e);break;case"characterData":this.onCharacterDataChange(e)}}},{key:"onChildRemove",value:function(e){var t=e.target,n=t.__vconsole_node;if(n){for(var r=0;r<e.removedNodes.length;r++){var i=e.removedNodes[r],o=i.__vconsole_node;o&&o.view&&o.view.parentNode.removeChild(o.view)}this.getNode(t)}}},{key:"onChildAdd",value:function(e){var t=e.target,n=t.__vconsole_node;if(n){this.getNode(t),n.view&&p.default.removeClass(n.view,"vcelm-noc");for(var r=0;r<e.addedNodes.length;r++){var i=e.addedNodes[r],o=i.__vconsole_node;if(o)if(null!==e.nextSibling){var a=e.nextSibling.__vconsole_node;a.view&&this.renderView(o,a.view,"insertBefore")}else n.view&&(n.view.lastChild?this.renderView(o,n.view.lastChild,"insertBefore"):this.renderView(o,n.view))}}}},{key:"onAttributesChange",value:function(e){var t=e.target.__vconsole_node;t&&(t=this.getNode(e.target)).view&&this.renderView(t,t.view,!0)}},{key:"onCharacterDataChange",value:function(e){var t=e.target.__vconsole_node;t&&(t=this.getNode(e.target)).view&&this.renderView(t,t.view,!0)}},{key:"renderView",value:function(o,e,t){var a=this,n=new l.default(o).get();switch(o.view=n,p.default.delegate(n,"click",".vcelm-node",function(e){e.stopPropagation();var t=this.parentNode;if(!p.default.hasClass(t,"vcelm-noc")){a.activedElem=t,p.default.hasClass(t,"vc-toggle")?p.default.removeClass(t,"vc-toggle"):p.default.addClass(t,"vc-toggle");for(var n=-1,r=0;r<t.children.length;r++){var i=t.children[r];p.default.hasClass(i,"vcelm-l")&&(n++,0<i.children.length||(o.childNodes[n]?a.renderView(o.childNodes[n],i,"replace"):i.style.display="none"))}}}),t){case"replace":e.parentNode.replaceChild(n,e);break;case"insertBefore":e.parentNode.insertBefore(n,e);break;default:e.appendChild(n)}return n}},{key:"getNode",value:function(e){if(!this._isIgnoredElement(e)){var t=e.__vconsole_node||{};if(t.nodeType=e.nodeType,t.nodeName=e.nodeName,t.tagName=e.tagName||"",t.textContent="",t.nodeType!=e.TEXT_NODE&&t.nodeType!=e.DOCUMENT_TYPE_NODE||(t.textContent=e.textContent),t.id=e.id||"",t.className=e.className||"",t.attributes=[],e.hasAttributes&&e.hasAttributes())for(var n=0;n<e.attributes.length;n++)t.attributes.push({name:e.attributes[n].name,value:e.attributes[n].value||""});if(t.childNodes=[],0<e.childNodes.length)for(var r=0;r<e.childNodes.length;r++){var i=this.getNode(e.childNodes[r]);i&&t.childNodes.push(i)}return e.__vconsole_node=t}}},{key:"_isIgnoredElement",value:function(e){return e.nodeType==e.TEXT_NODE&&""==e.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g,"")}},{key:"_isInVConsole",value:function(e){for(var t=e;null!=t;){if("__vconsole"==t.id)return!0;t=t.parentNode||void 0}return!1}}]),s}(a.default);t.default=h,e.exports=t.default},function(e,t,n){var r=n(32);"string"==typeof r&&(r=[[e.id,r,""]]),n(10)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)()).push([e.id,'.vcelm-node{color:#183691}.vcelm-k{color:#0086b3}.vcelm-v{color:#905}.vcelm-l{padding-left:8px;position:relative;word-wrap:break-word;line-height:1}.vcelm-l.vc-toggle>.vcelm-node{display:block}.vcelm-l .vcelm-node:active{background-color:rgba(0,0,0,.15)}.vcelm-l.vcelm-noc .vcelm-node:active{background-color:transparent}.vcelm-t{white-space:pre-wrap;word-wrap:break-word}.vcelm-l .vcelm-l{display:none}.vcelm-l.vc-toggle>.vcelm-l{margin-left:4px;display:block}.vcelm-l:before{content:"";display:block;position:absolute;top:6px;left:3px;width:0;height:0;border:3px solid transparent;border-left-color:#000}.vcelm-l.vc-toggle:before{display:block;top:6px;left:0;border-top-color:#000;border-left-color:transparent}.vcelm-l.vcelm-noc:before{display:none}',""])},function(e,t){e.exports='<div>\n  <div class="vc-log"></div>\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(35),l=r(o),a=n(36),f=r(a),s=n(4),c=(function(e){if(!e||!e.__esModule){var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}}(s),n(5)),d=r(c),u=function(){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.node=e,this.view=this._create(this.node)}return i(t,[{key:"get",value:function(){return this.view}},{key:"_create",value:function(e,t){var n=document.createElement("DIV");switch(d.default.addClass(n,"vcelm-l"),e.nodeType){case n.ELEMENT_NODE:this._createElementNode(e,n);break;case n.TEXT_NODE:this._createTextNode(e,n);break;case n.COMMENT_NODE:case n.DOCUMENT_NODE:case n.DOCUMENT_TYPE_NODE:case n.DOCUMENT_FRAGMENT_NODE:}return n}},{key:"_createTextNode",value:function(e,t){var n,r;d.default.addClass(t,"vcelm-t vcelm-noc"),e.textContent&&t.appendChild((r=e.textContent,n=r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),document.createTextNode(n)))}},{key:"_createElementNode",value:function(e,t){var n,r,i=(n=e.tagName,r=["br","hr","img","input","link","meta"],n=n?n.toLowerCase():"",-1<r.indexOf(n)),o=i;0==e.childNodes.length&&(o=!0);var a=d.default.render(l.default,{node:e}),s=d.default.render(f.default,{node:e});if(o)d.default.addClass(t,"vcelm-noc"),t.appendChild(a),i||t.appendChild(s);else{t.appendChild(a);for(var c=0;c<e.childNodes.length;c++){var u=document.createElement("DIV");d.default.addClass(u,"vcelm-l"),t.appendChild(u)}i||t.appendChild(s)}}}]),t}();t.default=u,e.exports=t.default},function(e,t){e.exports='<span class="vcelm-node">&lt;{{node.tagName.toLowerCase()}}{{if (node.className || node.attributes.length)}}\n  <i class="vcelm-k">\n    {{for (var i = 0; i < node.attributes.length; i++)}}\n      {{if (node.attributes[i].value !== \'\')}}\n        {{node.attributes[i].name}}="<i class="vcelm-v">{{node.attributes[i].value}}</i>"{{else}}\n        {{node.attributes[i].name}}{{/if}}{{/for}}</i>{{/if}}&gt;</span>'},function(e,t){e.exports='<span class="vcelm-node">&lt;/{{node.tagName.toLowerCase()}}&gt;</span>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(18),a=r(o),s=n(38),c=r(s),u=n(39),l=r(u),f=n(4),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n(5),h=r(p),m=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.$tabbox=h.default.render(c.default,{}),i.currentType="",i.typeNameMap={cookies:"Cookies",localstorage:"LocalStorage"},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTopBar",value:function(e){for(var t=this,n=["Cookies","LocalStorage"],r=[],i=0;i<n.length;i++)r.push({name:n[i],data:{type:n[i].toLowerCase()},className:"",onClick:function(){return!h.default.hasClass(this,"vc-actived")&&(t.currentType=this.dataset.type,void t.renderStorage())}});r[0].className="vc-actived",e(r)}},{key:"onAddTool",value:function(e){var t=this,n=[{name:"Refresh",global:!1,onClick:function(e){t.renderStorage()}},{name:"Clear",global:!1,onClick:function(e){t.clearLog()}}];e(n)}},{key:"onReady",value:function(){}},{key:"onShow",value:function(){""==this.currentType&&(this.currentType="cookies",this.renderStorage())}},{key:"clearLog",value:function(){if(this.currentType&&window.confirm){var e=window.confirm("Remove all "+this.typeNameMap[this.currentType]+"?");if(!e)return!1}switch(this.currentType){case"cookies":this.clearCookieList();break;case"localstorage":this.clearLocalStorageList();break;default:return!1}this.renderStorage()}},{key:"renderStorage",value:function(){var e=[];switch(this.currentType){case"cookies":e=this.getCookieList();break;case"localstorage":e=this.getLocalStorageList();break;default:return!1}var t=h.default.one(".vc-log",this.$tabbox);if(0==e.length)t.innerHTML="";else{for(var n=0;n<e.length;n++)e[n].name=d.htmlEncode(e[n].name),e[n].value=d.htmlEncode(e[n].value);t.innerHTML=h.default.render(l.default,{list:e},!0)}}},{key:"getCookieList",value:function(){if(!document.cookie||!navigator.cookieEnabled)return[];for(var e=[],t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("="),i=r.shift().replace(/^ /,""),o=r.join("=");e.push({name:decodeURIComponent(i),value:decodeURIComponent(o)})}return e}},{key:"getLocalStorageList",value:function(){if(!window.localStorage)return[];try{for(var e=[],t=0;t<localStorage.length;t++){var n=localStorage.key(t),r=localStorage.getItem(n);e.push({name:n,value:r})}return e}catch(e){return[]}}},{key:"clearCookieList",value:function(){if(document.cookie&&navigator.cookieEnabled){for(var e=this.getCookieList(),t=0;t<e.length;t++)document.cookie=e[t].name+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT";this.renderStorage()}}},{key:"clearLocalStorageList",value:function(){if(window.localStorage)try{localStorage.clear(),this.renderStorage()}catch(e){alert("localStorage.clear() fail.")}}}]),o}(a.default);t.default=m,e.exports=t.default},function(e,t){e.exports='<div class="vc-table">\n  <div class="vc-log"></div>\n</div>'},function(e,t){e.exports='<div>\n  <dl class="vc-table-row">\n    <dd class="vc-table-col">Name</dd>\n    <dd class="vc-table-col vc-table-col-2">Value</dd>\n  </dl>\n  {{for (var i = 0; i < list.length; i++)}}\n  <dl class="vc-table-row">\n    <dd class="vc-table-col">{{list[i].name}}</dd>\n    <dd class="vc-table-col vc-table-col-2">{{list[i].value}}</dd>\n  </dl>\n  {{/for}}\n</div>'}])},Ojgd:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},OnI7:function(e,t,n){var r=n("dyZX"),i=n("g3g5"),o=n("LQAc"),a=n("N8g3"),s=n("hswa").f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},Oyvg:function(e,t,n){var r=n("dyZX"),o=n("Xbzi"),i=n("hswa").f,a=n("kJMx").f,s=n("quPj"),c=n("C/va"),u=r.RegExp,l=u,f=u.prototype,d=/a/g,p=/a/g,h=new u(d)!==d;if(n("nh4g")&&(!h||n("eeVq")(function(){return p[n("K0xU")("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")}))){u=function(e,t){var n=this instanceof u,r=s(e),i=void 0===t;return!n&&r&&e.constructor===u&&i?e:o(h?new l(r&&!i?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&i?c.call(e):t),n?this:f,u)};for(var m=function(t){t in u||i(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},g=a(l),v=0;g.length>v;)m(g[v++]);(f.constructor=u).prototype=f,n("KroJ")(r,"RegExp",u)}n("elZq")("RegExp")},P2sY:function(e,t,n){e.exports={default:n("UbbE"),__esModule:!0}},PAGr:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;r(n("17x9"));var s=r(n("q1tI")),a=n("i8i4"),c=r(n("UnXY"));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(i){var e,t;function n(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=i.call.apply(i,[this].concat(t))||this).handleEnter=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onEnter",0,t)},r.handleEntering=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onEntering",0,t)},r.handleEntered=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onEntered",0,t)},r.handleExit=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onExit",1,t)},r.handleExiting=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onExiting",1,t)},r.handleExited=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onExited",1,t)},r}t=i,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var r=n.prototype;return r.handleLifecycle=function(e,t,n){var r,i=this.props.children,o=s.default.Children.toArray(i)[t];o.props[e]&&(r=o.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},r.render=function(){var e=this.props,t=e.children,n=e.in,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,["children","in"]),i=s.default.Children.toArray(t),o=i[0],a=i[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,s.default.createElement(c.default,r,n?s.default.cloneElement(o,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):s.default.cloneElement(a,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},n}(s.default.Component);i.propTypes={};var o=i;t.default=o,e.exports=t.default},PKUr:function(e,t,n){var r=n("dyZX").parseInt,i=n("qncB").trim,o=n("/e88"),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},QAZZ:function(e,t,n){var f=n("Rb7d");function d(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function p(e,t,n){var r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){var r=f.getOptions(t),i=e.modules.size,o=e.modules.data,a=i+2*r.margin,s=r.color.light.a?"<path "+d(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+d(r.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",i=0,o=!1,a=0,s=0;s<e.length;s++){var c=Math.floor(s%t),u=Math.floor(s/t);c||o||(o=!0),e[s]?(a++,0<s&&0<c&&e[s-1]||(r+=o?p("M",c+n,.5+u+n):p("m",i,0),i=0,o=!1),c+1<t&&e[s+1]||(r+=p("h",a),a=0)):i++}return r}(o,i,r.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+u+' shape-rendering="crispEdges">'+s+c+"</svg>\n";return"function"==typeof n&&n(null,l),l}},QNwp:function(e,t,n){n("7VC1"),e.exports=n("g3g5").String.padEnd},QUaw:function(e,s,t){var l=t("Rb7d");s.render=function(e,t,n){var r=n,i=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=l.getOptions(r);var o,a,s=l.getImageWidth(e.modules.size,r),c=i.getContext("2d"),u=c.createImageData(s,s);return l.qrToImageData(u.data,e,r),o=i,a=s,c.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=a,o.width=a,o.style.height=a+"px",o.style.width=a+"px",c.putImageData(u,0,0),i},s.renderToDataURL=function(e,t,n){var r=n;void 0!==r||t&&t.getContext||(r=t,t=void 0),r||(r={});var i=s.render(e,t,r),o=r.type||"image/png",a=r.rendererOpts||{};return i.toDataURL(o,a.quality)}},QaDb:function(e,t,n){"use strict";var r=n("Kuth"),i=n("RjD/"),o=n("fyDq"),a={};n("Mukb")(a,n("K0xU")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},QbLZ:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("P2sY"),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},"R+7+":function(e,t,n){var s=n("w6GO"),c=n("mqlF"),u=n("NV0k");e.exports=function(e){var t=s(e),n=c.f;if(n)for(var r,i=n(e),o=u.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},R5XZ:function(e,t,n){var r=n("dyZX"),i=n("XKFU"),o=n("ol8x"),a=[].slice,s=/MSIE .\./.test(o),c=function(i){return function(e,t){var n=2<arguments.length,r=!!n&&a.call(arguments,2);return i(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,t)}};i(i.G+i.B+i.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},"RU/L":function(e,t,n){n("Rqdy");var r=n("WEpk").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},RW0V:function(e,t,n){var r=n("S/j/"),i=n("DVgA");n("Xtr8")("keys",function(){return function(e){return i(r(e))}})},RYi7:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},Rb7d:function(e,p){function i(e){if("string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}p.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&21<=e.width?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:i(e.color.dark||"#000000ff"),light:i(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},p.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},p.getImageWidth=function(e,t){var n=p.getScale(e,t);return Math.floor((e+2*t.margin)*n)},p.qrToImageData=function(e,t,n){for(var r=t.modules.size,i=t.modules.data,o=p.getScale(r,n),a=Math.floor((r+2*n.margin)*o),s=n.margin*o,c=[n.color.light,n.color.dark],u=0;u<a;u++)for(var l=0;l<a;l++){var f=4*(u*a+l),d=n.color.light;if(s<=u&&s<=l&&u<a-s&&l<a-s)d=c[i[Math.floor((u-s)/o)*r+Math.floor((l-s)/o)]?1:0];e[f++]=d.r,e[f++]=d.g,e[f++]=d.b,e[f]=d.a}}},RfKB:function(e,t,n){var r=n("2faE").f,i=n("B+OT"),o=n("UWiX")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},"RjD/":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},Rqdy:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperty:n("2faE").f})},"S/j/":function(e,t,n){var r=n("vhPU");e.exports=function(e){return Object(r(e))}},S3Uj:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}}(n("17x9")),o=s(n("q1tI")),i=s(n("i8i4")),a=n("VCL8");n("xfxO");function s(e){return e&&e.__esModule?e:{default:e}}var c="unmounted";t.UNMOUNTED=c;var u="exited";t.EXITED=u;var l="entering";t.ENTERING=l;var f="entered";t.ENTERED=f;var d="exiting";t.EXITING=d;var p=function(a){var e,t;function n(e,t){var n;n=a.call(this,e,t)||this;var r,i=t.transitionGroup,o=i&&!i.isMounting?e.enter:e.appear;return n.appearStatus=null,e.in?o?(r=u,n.appearStatus=l):r=f:r=e.unmountOnExit||e.mountOnEnter?c:u,n.state={status:r},n.nextCallback=null,n}t=a,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var r=n.prototype;return r.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:u}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==f&&(t=l):n!==l&&n!==f||(t=d)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=r.appear),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:c})},r.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts();t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o.enter,function(){n.safeSetState({status:f},function(){n.props.onEntered(e,i)})})})):this.safeSetState({status:f},function(){n.props.onEntered(e)})},r.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:d},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:u},function(){t.props.onExited(e)})})})):this.safeSetState({status:u},function(){t.props.onExited(e)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(t){var n=this,r=!0;return this.nextCallback=function(e){r&&(r=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},n}(o.default.Component);function h(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var m=(0,a.polyfill)(p);t.default=m},SBuE:function(e,t){e.exports={}},SEkw:function(e,t,n){e.exports={default:n("RU/L"),__esModule:!0}},SLVX:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},SMB2:function(e,t,n){"use strict";n("OGtf")("bold",function(e){return function(){return e(this,"b","","")}})},SPin:function(e,t,n){"use strict";var r=n("XKFU"),i=n("eyMr");r(r.P+r.F*!n("LyE8")([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},SQ0G:function(e,t,n){"use strict";var r=n("94Z+");e.exports=function(e){return r(e)&&3==e.nodeType}},SRfc:function(e,t,n){n("IU+Z")("match",1,function(r,i,e){return[function(e){"use strict";var t=r(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},e]})},Si88:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){{if(e&&e.__esModule)return;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}}(n("17x9"));var r=s(n("ycFn")),i=s(n("VOcB")),o=s(n("q1tI")),a=s(n("S3Uj"));n("xfxO");function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,r.default)(t,e)})},l=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,i.default)(t,e)})},f=function(i){var e,t;function n(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=i.call.apply(i,[this].concat(t))||this).onEnter=function(e,t){var n=r.getClassNames(t?"appear":"enter").className;r.removeClasses(e,"exit"),u(e,n),r.props.onEnter&&r.props.onEnter(e)},r.onEntering=function(e,t){var n=r.getClassNames(t?"appear":"enter").activeClassName;r.reflowAndAddClass(e,n),r.props.onEntering&&r.props.onEntering(e)},r.onEntered=function(e,t){var n=r.getClassNames("enter").doneClassName;r.removeClasses(e,t?"appear":"enter"),u(e,n),r.props.onEntered&&r.props.onEntered(e)},r.onExit=function(e){var t=r.getClassNames("exit").className;r.removeClasses(e,"appear"),r.removeClasses(e,"enter"),u(e,t),r.props.onExit&&r.props.onExit(e)},r.onExiting=function(e){var t=r.getClassNames("exit").activeClassName;r.reflowAndAddClass(e,t),r.props.onExiting&&r.props.onExiting(e)},r.onExited=function(e){var t=r.getClassNames("exit").doneClassName;r.removeClasses(e,"exit"),u(e,t),r.props.onExited&&r.props.onExited(e)},r.getClassNames=function(e){var t=r.props.classNames,n="string"!=typeof t?t[e]:t+"-"+e;return{className:n,activeClassName:"string"!=typeof t?t[e+"Active"]:n+"-active",doneClassName:"string"!=typeof t?t[e+"Done"]:n+"-done"}},r}t=i,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var r=n.prototype;return r.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&l(e,r),i&&l(e,i),o&&l(e,o)},r.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},r.render=function(){var e=c({},this.props);return delete e.classNames,o.default.createElement(a.default,c({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(o.default.Component);f.propTypes={};var d=f;t.default=d,e.exports=t.default},SlkY:function(e,t,n){var d=n("m0Pp"),p=n("H6hf"),h=n("M6Qj"),m=n("y3w9"),g=n("ne8i"),v=n("J+6e"),y={},b={};(t=e.exports=function(e,t,n,r,i){var o,a,s,c,u=i?function(){return e}:v(e),l=d(n,r,t?2:1),f=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(h(u)){for(o=g(e.length);f<o;f++)if((c=t?l(m(a=e[f])[0],a[1]):l(e[f]))===y||c===b)return c}else for(s=u.call(e);!(a=s.next()).done;)if((c=p(s,l,a.value,t))===y||c===b)return c}).BREAK=y,t.RETURN=b},T39b:function(e,t,n){"use strict";var r=n("wmvG"),i=n("s5qY");e.exports=n("4LiD")("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},TIpR:function(e,t,n){"use strict";n("VRzm"),n("CX2u"),e.exports=n("g3g5").Promise.finally},TSUN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=/Weibo|MicroMessenger|YDDict|youdao_dict|QQ(?!Browser)|RenRen|Douban|YiXin|TXMicroBlog|NewsApp/i,s=/QQBrowser/gi,c=/NeteaseMusic\/([\d\.]+)?/i,u=/NeteaseMusicIpad\/([\d\.]+)?/i;t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t={},n=e.match(c),r=e.match(u),i=e.match(a),o=e.match(s);t=n?{version:n[1],client:"NeteaseMusic",isNEMapp:!0}:r?{version:r[1],client:"NeteaseMusic",isNEMIpad:!0}:i?{client:i[0].toLowerCase()}:o?{client:o[0].toLowerCase()}:{client:""};return t},e.exports=t.default},TSYQ:function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var i=s.apply(null,n);i&&e.push(i)}else if("object"===r)for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},TWoB:function(e,t,n){"use strict";var r=n("SQ0G");e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},Tdpu:function(e,t,n){n("7DDg")("Float64",8,function(r){return function(e,t,n){return r(this,e,t,n)}})},TjBD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.compareVersion=function(e,t){if(void 0===e||void 0===t)return 0;for(var n=e.toString().split("."),r=t.toString().split("."),i=Math.max(n.length,r.length),o=0;o<i;o+=1){var a=parseInt(n[o],10)||0,s=parseInt(r[o],10)||0;if(a<s)return-1;if(s<a)return 1}return 0}},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},Tze0:function(e,t,n){"use strict";n("qncB")("trim",function(e){return function(){return e(this,3)}})},"U+KD":function(e,t,n){var r=n("B+OT"),i=n("JB68"),o=n("VVlx")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},U2t9:function(e,t,n){var r=n("XKFU"),i=Math.asinh;r(r.S+r.F*!(i&&0<1/i(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},UExd:function(e,t,n){var c=n("DVgA"),u=n("aCFj"),l=n("UqcF").f;e.exports=function(s){return function(e){for(var t,n=u(e),r=c(n),i=r.length,o=0,a=[];o<i;)l.call(n,t=r[o++])&&a.push(s?[t,n[t]]:n[t]);return a}}},ULts:function(e,t,n){var r,i;i=this,void 0===(r=function(){return i.PxLoader=function(){function n(e){if(this.all=[],this.first=null,this.length=0,this.lookup={},e){if(Array.isArray(e))this.all=e.slice(0);else if("object"==typeof e)for(var t in e)e.hasOwnProperty(t)&&this.all.push(t);else this.all.push(e);this.length=this.all.length,0<this.length&&(this.first=this.all[0]);for(var n=0;n<this.length;n++)this.lookup[this.all[n]]=!0}}return n.prototype.intersects=function(e){if(0===this.length||0===e.length)return!1;if(1===this.length&&1===e.length)return this.first===e.first;if(e.length<this.length)return e.intersects(this);for(var t in this.lookup)if(e.lookup[t])return!0;return!1},function(s){s=s||{},null==(this.settings=s).statusInterval&&(s.statusInterval=5e3),null==s.loggingDelay&&(s.loggingDelay=2e4),null==s.noProgressTimeout&&(s.noProgressTimeout=1/0);var a,c=[],u=[],l=[],f=Date.now(),d={QUEUED:0,WAITING:1,LOADED:2,ERROR:3,TIMEOUT:4};this.add=function(e){e.tags=new n(e.tags),null==e.priority&&(e.priority=1/0),c.push({resource:e,status:d.QUEUED})},this.addProgressListener=function(e,t){l.push({callback:e,tags:new n(t)})},this.addCompletionListener=function(t,e){u.push({tags:new n(e),callback:function(e){e.completedCount===e.totalCount&&t(e)}})};var o=function(o){var e;o=null==(e=o)?[]:Array.isArray(e)?e:[e];var i=function(e){for(var t=e.resource,n=1/0,r=0;r<t.tags.length;r++)for(var i=0;i<Math.min(o.length,n)&&!(t.tags.all[r]===o[i]&&i<n&&0===(n=i))&&0!==n;i++);return n};return function(e,t){var n=i(e),r=i(t);return n<r?-1:r<n?1:e.priority<t.priority?-1:e.priority>t.priority?1:0}};this.start=function(e){a=Date.now();var t=o(e);c.sort(t);for(var n=0,r=c.length;n<r;n++){var i=c[n];i.status=d.WAITING,i.resource.start(this)}setTimeout(p,100)};var p=function(){for(var e=!1,t=Date.now()-f,n=t>=s.noProgressTimeout,r=t>=s.loggingDelay,i=0,o=c.length;i<o;i++){var a=c[i];a.status===d.WAITING&&(a.resource.checkStatus&&a.resource.checkStatus(),a.status===d.WAITING&&(n?a.resource.onTimeout():e=!0))}r&&e&&m(),e&&setTimeout(p,s.statusInterval)};this.isBusy=function(){for(var e=0,t=c.length;e<t;e++)if(c[e].status===d.QUEUED||c[e].status===d.WAITING)return!0;return!1};var t=function(e,t){var n,r,i,o,a=null;for(n=0,r=c.length;n<r;n++)if(c[n].resource===e){a=c[n];break}if(null!=a&&a.status===d.WAITING)for(a.status=t,f=Date.now(),i=l.concat(u),n=0,r=i.length;n<r;n++)(0===(o=i[n]).tags.length||e.tags.intersects(o.tags))&&h(a,o)};this.onLoad=function(e){t(e,d.LOADED)},this.onError=function(e){t(e,d.ERROR)},this.onTimeout=function(e){t(e,d.TIMEOUT)};var h=function(e,t){var n,r,i,o=0,a=0;for(n=0,r=c.length;n<r;n++)i=c[n],(0===t.tags.length||i.resource.tags.intersects(t.tags))&&(a++,i.status!==d.LOADED&&i.status!==d.ERROR&&i.status!==d.TIMEOUT||o++);t.callback({resource:e.resource,loaded:e.status===d.LOADED,error:e.status===d.ERROR,timeout:e.status===d.TIMEOUT,completedCount:o,totalCount:a})},m=this.log=function(e){if(window.console){var t=Math.round((Date.now()-a)/1e3);window.console.log("PxLoader elapsed: "+t+" sec");for(var n=0,r=c.length;n<r;n++){var i=c[n];if(e||i.status===d.WAITING){var o="PxLoader: #"+n+" "+i.resource.getName();switch(i.status){case d.QUEUED:o+=" (Not Started)";break;case d.WAITING:o+=" (Waiting)";break;case d.LOADED:o+=" (Loaded)";break;case d.ERROR:o+=" (Error)";break;case d.TIMEOUT:o+=" (Timeout)"}0<i.resource.tags.length&&(o+=" Tags: ["+i.resource.tags.all.join(",")+"]"),window.console.log(o)}}}}}}()}.apply(t,[]))||(e.exports=r)},UO39:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},UUeW:function(e,t,n){var r=n("K0xU")("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},UWiX:function(e,t,n){var r=n("29s/")("wks"),i=n("YqAc"),o=n("5T2Y").Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},UbbE:function(e,t,n){n("o8NH"),e.exports=n("WEpk").Object.assign},UnXY:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n("17x9")),o=s(n("q1tI")),i=n("VCL8"),a=n("8PcY");function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},f=function(i){var e,t;function n(e,t){var n,r=(n=i.call(this,e,t)||this).handleExited.bind(u(u(n)));return n.state={handleExited:r,firstRender:!0},n}t=i,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var r=n.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0},n.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},r.handleExited=function(n,e){var t=(0,a.getChildMapping)(this.props.children);n.key in t||(n.props.onExited&&n.props.onExited(e),this.setState(function(e){var t=c({},e.children);return delete t[n.key],{children:t}}))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,["component","childFactory"]),i=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i:o.default.createElement(t,r,i)},n}(o.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,i.polyfill)(f);t.default=d,e.exports=t.default},UqcF:function(e,t){t.f={}.propertyIsEnumerable},UxbX:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){function e(i,o){return function(e,t,n,r){e[i]?e[i](t,n,r):e[o]&&e[o]("on"+t,n)}}return{add:e("addEventListener","attachEvent"),remove:e("removeEventListener","detachEvent")}})?r.call(t,n,t,e):r)||(e.exports=i)},"V+eJ":function(e,t,n){"use strict";var r=n("XKFU"),i=n("w2a5")(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n("LyE8")(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},"V/DX":function(e,t,n){var r=n("0/R4");n("Xtr8")("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},V35J:function(e,t,n){var r=n("Wogr");function i(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new r(e*e),this.data.fill(0),this.reservedBit=new r(e*e),this.reservedBit.fill(0)}i.prototype.set=function(e,t,n,r){var i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},i.prototype.get=function(e,t){return this.data[e*this.size+t]},i.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},i.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=i},V7oC:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("SEkw"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}()},VCL8:function(e,t,n){"use strict";function c(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function u(n){this.setState(function(e){var t=this.constructor.getDerivedStateFromProps(n,e);return null!=t?t:null}.bind(this))}function l(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function r(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=c,t.componentWillReceiveProps=u),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=l;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",function(){return r}),l.__suppressDeprecationWarning=u.__suppressDeprecationWarning=c.__suppressDeprecationWarning=!0},VKir:function(e,t,n){"use strict";var r=n("XKFU"),i=n("eeVq"),o=n("vvmO"),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},VOcB:function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},VRzm:function(e,t,n){"use strict";var r,i,o,a,s=n("LQAc"),c=n("dyZX"),u=n("m0Pp"),l=n("I8a+"),f=n("XKFU"),d=n("0/R4"),p=n("2OiF"),h=n("9gX7"),m=n("SlkY"),g=n("69bn"),v=n("GZEu").set,y=n("gHnn")(),b=n("pbhE"),x=n("nICZ"),w=n("ol8x"),_=n("vKrd"),M="Promise",T=c.TypeError,S=c.process,U=S&&S.versions,k=U&&U.v8||"",P=c[M],E="process"==l(S),C=function(){},A=i=b.f,O=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n("K0xU")("species")]=function(e){e(C,C)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==k.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(l,n){if(!l._n){l._n=!0;var r=l._c;y(function(){for(var c=l._v,u=1==l._s,e=0,t=function(e){var t,n,r,i=u?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain;try{i?(u||(2==l._h&&D(l),l._h=1),!0===i?t=c:(s&&s.enter(),t=i(c),s&&(s.exit(),r=!0)),t===e.promise?a(T("Promise-chain cycle")):(n=I(t))?n.call(t,o,a):o(t)):a(c)}catch(e){s&&!r&&s.exit(),a(e)}};r.length>e;)t(r[e++]);l._c=[],l._n=!1,n&&!l._h&&L(l)})}},L=function(o){v.call(c,function(){var e,t,n,r=o._v,i=N(o);if(i&&(e=x(function(){E?S.emit("unhandledRejection",r,o):(t=c.onunhandledrejection)?t({promise:o,reason:r}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=E||N(o)?2:1),o._a=void 0,i&&e.e)throw e.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(t){v.call(c,function(){var e;E?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},F=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw T("Promise can't be resolved itself");(n=I(e))?y(function(){var t={_w:r,_d:!1};try{n.call(e,u(F,t,1),u(j,t,1))}catch(e){j.call(t,e)}}):(r._v=e,r._s=1,R(r,!1))}catch(e){j.call({_w:r,_d:!1},e)}}};O||(P=function(e){h(this,P,M,"_h"),p(e),r.call(this);try{e(u(F,this,1),u(j,this,1))}catch(e){j.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("3Lyj")(P.prototype,{then:function(e,t){var n=A(g(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(F,e,1),this.reject=u(j,e,1)},b.f=A=function(e){return e===P||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!O,{Promise:P}),n("fyDq")(P,M),n("elZq")(M),a=n("g3g5")[M],f(f.S+f.F*!O,M,{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!O),M,{resolve:function(e){return _(s&&this===a?P:this,e)}}),f(f.S+f.F*!(O&&n("XMVh")(function(e){P.all(e).catch(C)})),M,{all:function(e){var a=this,t=A(a),s=t.resolve,c=t.reject,n=x(function(){var r=[],i=0,o=1;m(e,!1,function(e){var t=i++,n=!1;r.push(void 0),o++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||s(r))},c)}),--o||s(r)});return n.e&&c(n.v),t.promise},race:function(e){var t=this,n=A(t),r=n.reject,i=x(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},VTer:function(e,t,n){var r=n("g3g5"),i=n("dyZX"),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("LQAc")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},VVlx:function(e,t,n){var r=n("29s/")("keys"),i=n("YqAc");e.exports=function(e){return r[e]||(r[e]=i(e))}},Vd3H:function(e,t,n){"use strict";var r=n("XKFU"),i=n("2OiF"),o=n("S/j/"),a=n("eeVq"),s=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n("LyE8")(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},VpUO:function(e,t,n){var r=n("XKFU"),o=n("d/Gc"),a=String.fromCharCode,i=String.fromCodePoint;r(r.S+r.F*(!!i&&1!=i.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;i<r;){if(t=+arguments[i++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},W070:function(e,t,n){var c=n("NsO/"),u=n("tEej"),l=n("D8kY");e.exports=function(s){return function(e,t,n){var r,i=c(e),o=u(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},W9dy:function(e,t,n){n("ioFf"),n("hHhE"),n("HAE/"),n("WLL4"),n("mYba"),n("5Pf0"),n("RW0V"),n("JduL"),n("DW2E"),n("z2o2"),n("mura"),n("Zshi"),n("V/DX"),n("FlsD"),n("91GP"),n("25dN"),n("/SS/"),n("Btvt"),n("2Spj"),n("f3/d"),n("IXt9"),n("GNAe"),n("tyy+"),n("xfY5"),n("A2zW"),n("VKir"),n("Ljet"),n("/KAi"),n("fN96"),n("7h0T"),n("sbF8"),n("h/M4"),n("knhD"),n("XfKG"),n("BP8U"),n("fyVe"),n("U2t9"),n("2atp"),n("+auO"),n("MtdB"),n("Jcmo"),n("nzyx"),n("BC7C"),n("x8ZO"),n("9P93"),n("eHKK"),n("BJ/l"),n("pp/T"),n("CyHz"),n("bBoP"),n("x8Yj"),n("hLT2"),n("VpUO"),n("eI33"),n("Tze0"),n("XfO3"),n("oDIu"),n("rvZc"),n("L9s1"),n("FLlr"),n("9VmF"),n("hEkN"),n("nIY7"),n("+oPb"),n("SMB2"),n("0mN4"),n("bDcW"),n("nsiH"),n("0LDn"),n("tUrg"),n("84bF"),n("FEjr"),n("Zz4T"),n("JCqj"),n("eM6i"),n("AphP"),n("jqX0"),n("h7Nl"),n("yM4b"),n("LK8F"),n("HEwt"),n("6AQ9"),n("Nz9U"),n("I78e"),n("Vd3H"),n("8+KV"),n("bWfx"),n("0l/t"),n("dZ+Y"),n("YJVH"),n("DNiP"),n("SPin"),n("V+eJ"),n("mGWK"),n("dE+T"),n("bHtr"),n("dRSK"),n("INYr"),n("0E+W"),n("yt8O"),n("Oyvg"),n("a1Th"),n("OEbY"),n("SRfc"),n("pIFo"),n("OG14"),n("KKXr"),n("VRzm"),n("9AAn"),n("T39b"),n("EK0E"),n("wCsR"),n("xm80"),n("Ji/l"),n("sFw1"),n("NO8f"),n("aqI/"),n("Faw5"),n("r1bV"),n("tuSo"),n("nCnK"),n("Y9lz"),n("Tdpu"),n("3xty"),n("I5cv"),n("iMoV"),n("uhZd"),n("f/aN"),n("0YWM"),n("694e"),n("LTTk"),n("9rMk"),n("IlFx"),n("xpiv"),n("oZ/O"),n("klPD"),n("knU9"),e.exports=n("g3g5")},WEpk:function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},WLL4:function(e,t,n){var r=n("XKFU");r(r.S+r.F*!n("nh4g"),"Object",{defineProperties:n("FJW5")})},WbBG:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},Wogr:function(e,t,n){"use strict";var a=n("7uVY");var r=(u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())?2147483647:1073741823;function u(e,t,n){return u.TYPED_ARRAY_SUPPORT||this instanceof u?"number"==typeof e?s(this,e):function(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var i;i=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?i.__proto__=u.prototype:i=d(e,i);return i}(e,t,n,r);return"string"!=typeof t?function(e,t){if(u.isBuffer(t)){var n=0|l(t.length),r=f(e,n);return 0===r.length||t.copy(r,0,0,n),r}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?f(e,0):d(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return d(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t):(i=e,o=t,a=0|p(o),s=f(i,a),c=s.write(o),c!==a&&(s=s.slice(0,c)),s);var i,o,a,s,c}(this,e,t,n):new u(e,t,n)}function l(e){if(r<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(e,t){var n;return u.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=u.prototype:(null===(n=e)&&(n=new u(t)),n.length=t),n}function s(e,t){var n=f(e,t<0?0:0|l(t));if(!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)n[r]=0;return n}function d(e,t){for(var n=t.length<0?0:0|l(t.length),r=f(e,n),i=0;i<n;i+=1)r[i]=255&t[i];return r}function c(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function p(e){return u.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:c(e).length)}u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),u.prototype.write=function(e,t,n){void 0===t?(n=this.length,t=0):void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var r,i,o,a=this.length-t;if((void 0===n||a<n)&&(n=a),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return i=t,o=n,function(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}(c(e,(r=this).length-i),r,i,o)},u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=u.isBuffer(e)?e:new u(e),a=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f(null,0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=s(null,t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports=u},XKFU:function(e,t,n){var m=n("dyZX"),g=n("g3g5"),v=n("Mukb"),y=n("KroJ"),b=n("m0Pp"),x="prototype",w=function(e,t,n){var r,i,o,a,s=e&w.F,c=e&w.G,u=e&w.S,l=e&w.P,f=e&w.B,d=c?m:u?m[t]||(m[t]={}):(m[t]||{})[x],p=c?g:g[t]||(g[t]={}),h=p[x]||(p[x]={});for(r in c&&(n=t),n)o=((i=!s&&d&&void 0!==d[r])?d:n)[r],a=f&&i?b(o,m):l&&"function"==typeof o?b(Function.call,o):o,d&&y(d,r,o,e&w.U),p[r]!=o&&v(p,r,a),l&&h[r]!=o&&(h[r]=o)};m.core=g,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,e.exports=w},XMVh:function(e,t,n){var o=n("K0xU")("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},Xbzi:function(e,t,n){var o=n("0/R4"),a=n("i5dc").set;e.exports=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&o(r)&&a&&a(e,r),e}},XfKG:function(e,t,n){var r=n("XKFU"),i=n("11IZ");r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},XfO3:function(e,t,n){"use strict";var r=n("AvRE")(!0);n("Afnz")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},XkRB:function(e,t,n){},Xtr8:function(e,t,n){var i=n("XKFU"),o=n("g3g5"),a=n("eeVq");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},Y7ZC:function(e,t,n){var m=n("5T2Y"),g=n("WEpk"),v=n("2GTP"),y=n("NegM"),b=n("B+OT"),x="prototype",w=function(e,t,n){var r,i,o,a=e&w.F,s=e&w.G,c=e&w.S,u=e&w.P,l=e&w.B,f=e&w.W,d=s?g:g[t]||(g[t]={}),p=d[x],h=s?m:c?m[t]:(m[t]||{})[x];for(r in s&&(n=t),n)(i=!a&&h&&void 0!==h[r])&&b(d,r)||(o=i?h[r]:n[r],d[r]=s&&"function"!=typeof h[r]?n[r]:l&&i?v(o,m):f&&h[r]==o?function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e[x]=r[x],e}(o):u&&"function"==typeof o?v(Function.call,o):o,u&&((d.virtual||(d.virtual={}))[r]=o,e&w.R&&p&&!p[r]&&y(p,r,o)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,e.exports=w},Y9lz:function(e,t,n){n("7DDg")("Float32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},YEIV:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("SEkw"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},YJVH:function(e,t,n){"use strict";var r=n("XKFU"),i=n("CkkT")(4);r(r.P+r.F*!n("LyE8")([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},YTvA:function(e,t,n){var r=n("VTer")("keys"),i=n("ylqs");e.exports=function(e){return r[e]||(r[e]=i(e))}},Ymqv:function(e,t,n){var r=n("LZWt");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},YqAc:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},YsTz:function(e,t,n){"use strict";var r=n("52x2")();e.exports=function(e){return e!==r&&null!==e}},"Yz+Y":function(e,t,n){e.exports={default:n("+plK"),__esModule:!0}},Z2Ku:function(e,t,n){"use strict";var r=n("XKFU"),i=n("w2a5")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n("nGyu")("includes")},Z2l5:function(module,exports){!function(){if("undefined"!=typeof window){var _ntes_nacc,_ntes_nvid="VISITOR_CLIENT_NO_COOKIE_SUPPORT",_ntes_nvtm=0,_ntes_nvfi=0,_ntes_nvsf=1,_ntes_nstm=0,_ntes_nurl="",_ntes_ntit="",_ntes_nref="",_ntes_nres="",_ntes_nlag="",_ntes_nscd="",_ntes_nlmf=0,_ntes_flsh="",_ntes_nssn="",_ntes_surv=0,_ntes_cdmn=ntes_get_domain(),_ntes_cookie_enabled=null,_ntes_src_addr="//analytics.163.com",_ntes_void=function(){},_ntes_hexcase=0,_ntes_chrsz=8;_ntes_nacc="iad",neteaseTracker()}function is_spider(){return/baiduspider/gi.test(window.navigator.userAgent)}function ntes_get_domain(){var e=document.domain,t=e.split("."),n=t.length;if(/^\d+$/g.test(t[n-1]))return e;if(t.length<3)return"."+e;var r,i=["com","net","org","gov","co"],o=!1;for(r=0;r<i.length;r++)t[n-2]==i[r]&&(o=!0);return o?"."+t[n-3]+"."+t[n-2]+"."+t[n-1]:"."+t[n-2]+"."+t[n-1]}function ntes_set_cookie_long(e,t){var n=new Date;n.setTime(n.getTime()+31536e8),document.cookie=e+"="+t+"; expires="+n.toGMTString()+"; path=/; domain="+_ntes_cdmn}function ntes_set_cookie(e,t){var n=new Date;n.setTime(n.getTime()+0),document.cookie=e+"="+t+"; path=/; domain="+_ntes_cdmn}function ntes_set_cookie_new(e,t,n){n&&""!=n||(n=31536e6);var r=new Date;r.setTime(r.getTime()+n),document.cookie=e+"="+t+"; expires="+r.toGMTString()+"; path=/; domain="+_ntes_cdmn}function ntes_get_cookie(e){for(var t=document.cookie,n=e+"=",r=t.length,i=0;i<r;){var o=i+n.length;if(t.substring(i,o)==n){var a=t.indexOf(";",o);return-1==a&&(a=r),unescape(t.substring(o,a))}if(0==(i=t.indexOf(" ",i)+1))break}return-1}function ntes_get_flashver(){var f="",n=navigator;if(n.plugins&&n.plugins.length){for(var ii=0;ii<n.plugins.length;ii++)if(-1!=n.plugins[ii].name.indexOf("Shockwave Flash")){f=n.plugins[ii].description.split("Shockwave Flash")[1];break}}else if(window.ActiveXObject)for(var ii=10;2<=ii;ii--)try{var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if(fl){f=ii+".0";break}}catch(e){}return f}function ntes_hex_md5(e){return binl2hex(ntes_core_md5(str2binl(e),e.length*_ntes_chrsz))}function ntes_core_md5(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,c=r,u=i,l=o;r=md5_ii(r=md5_ii(r=md5_ii(r=md5_ii(r=md5_hh(r=md5_hh(r=md5_hh(r=md5_hh(r=md5_gg(r=md5_gg(r=md5_gg(r=md5_gg(r=md5_ff(r=md5_ff(r=md5_ff(r=md5_ff(r,i=md5_ff(i,o=md5_ff(o,n=md5_ff(n,r,i,o,e[a+0],7,-680876936),r,i,e[a+1],12,-389564586),n,r,e[a+2],17,606105819),o,n,e[a+3],22,-1044525330),i=md5_ff(i,o=md5_ff(o,n=md5_ff(n,r,i,o,e[a+4],7,-176418897),r,i,e[a+5],12,1200080426),n,r,e[a+6],17,-1473231341),o,n,e[a+7],22,-45705983),i=md5_ff(i,o=md5_ff(o,n=md5_ff(n,r,i,o,e[a+8],7,1770035416),r,i,e[a+9],12,-1958414417),n,r,e[a+10],17,-42063),o,n,e[a+11],22,-1990404162),i=md5_ff(i,o=md5_ff(o,n=md5_ff(n,r,i,o,e[a+12],7,1804603682),r,i,e[a+13],12,-40341101),n,r,e[a+14],17,-1502002290),o,n,e[a+15],22,1236535329),i=md5_gg(i,o=md5_gg(o,n=md5_gg(n,r,i,o,e[a+1],5,-165796510),r,i,e[a+6],9,-1069501632),n,r,e[a+11],14,643717713),o,n,e[a+0],20,-373897302),i=md5_gg(i,o=md5_gg(o,n=md5_gg(n,r,i,o,e[a+5],5,-701558691),r,i,e[a+10],9,38016083),n,r,e[a+15],14,-660478335),o,n,e[a+4],20,-405537848),i=md5_gg(i,o=md5_gg(o,n=md5_gg(n,r,i,o,e[a+9],5,568446438),r,i,e[a+14],9,-1019803690),n,r,e[a+3],14,-187363961),o,n,e[a+8],20,1163531501),i=md5_gg(i,o=md5_gg(o,n=md5_gg(n,r,i,o,e[a+13],5,-1444681467),r,i,e[a+2],9,-51403784),n,r,e[a+7],14,1735328473),o,n,e[a+12],20,-1926607734),i=md5_hh(i,o=md5_hh(o,n=md5_hh(n,r,i,o,e[a+5],4,-378558),r,i,e[a+8],11,-2022574463),n,r,e[a+11],16,1839030562),o,n,e[a+14],23,-35309556),i=md5_hh(i,o=md5_hh(o,n=md5_hh(n,r,i,o,e[a+1],4,-1530992060),r,i,e[a+4],11,1272893353),n,r,e[a+7],16,-155497632),o,n,e[a+10],23,-1094730640),i=md5_hh(i,o=md5_hh(o,n=md5_hh(n,r,i,o,e[a+13],4,681279174),r,i,e[a+0],11,-358537222),n,r,e[a+3],16,-722521979),o,n,e[a+6],23,76029189),i=md5_hh(i,o=md5_hh(o,n=md5_hh(n,r,i,o,e[a+9],4,-640364487),r,i,e[a+12],11,-421815835),n,r,e[a+15],16,530742520),o,n,e[a+2],23,-995338651),i=md5_ii(i,o=md5_ii(o,n=md5_ii(n,r,i,o,e[a+0],6,-198630844),r,i,e[a+7],10,1126891415),n,r,e[a+14],15,-1416354905),o,n,e[a+5],21,-57434055),i=md5_ii(i,o=md5_ii(o,n=md5_ii(n,r,i,o,e[a+12],6,1700485571),r,i,e[a+3],10,-1894986606),n,r,e[a+10],15,-1051523),o,n,e[a+1],21,-2054922799),i=md5_ii(i,o=md5_ii(o,n=md5_ii(n,r,i,o,e[a+8],6,1873313359),r,i,e[a+15],10,-30611744),n,r,e[a+6],15,-1560198380),o,n,e[a+13],21,1309151649),i=md5_ii(i,o=md5_ii(o,n=md5_ii(n,r,i,o,e[a+4],6,-145523070),r,i,e[a+11],10,-1120210379),n,r,e[a+2],15,718787259),o,n,e[a+9],21,-343485551),n=safe_add(n,s),r=safe_add(r,c),i=safe_add(i,u),o=safe_add(o,l)}return Array(n,r,i,o)}function md5_cmn(e,t,n,r,i,o){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(r,o)),i),n)}function md5_ff(e,t,n,r,i,o,a){return md5_cmn(t&n|~t&r,e,t,i,o,a)}function md5_gg(e,t,n,r,i,o,a){return md5_cmn(t&r|n&~r,e,t,i,o,a)}function md5_hh(e,t,n,r,i,o,a){return md5_cmn(t^n^r,e,t,i,o,a)}function md5_ii(e,t,n,r,i,o,a){return md5_cmn(n^(t|~r),e,t,i,o,a)}function safe_add(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){for(var t=new Array,n=(1<<_ntes_chrsz)-1,r=0;r<e.length*_ntes_chrsz;r+=_ntes_chrsz)t[r>>5]|=(e.charCodeAt(r/_ntes_chrsz)&n)<<r%32;return t}function binl2hex(e){for(var t=_ntes_hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n}function str_to_ent(e){var t,n="";for(t=0;t<e.length;t++){var r=e.charCodeAt(t),i="";if(255<r){for(;1<=r;)i="0123456789".charAt(r%10)+i,r/=10;""==i&&(i="0"),i="&"+(i="#"+i),n+=i+=";"}else n+=e.charAt(t)}return n}function ntes_get_navigation_info(){_ntes_nlag=_ntes_nscd=_ntes_nres="-";var e=window.self,t=window.screen,n=window.navigator;if(e.screen)_ntes_nres=t.width+"x"+t.height,_ntes_nscd=t.colorDepth+"-bit";else if(e.java){var r=java.awt.Toolkit.getDefaultToolkit().getScreenSize();_ntes_nres=r.width+"x"+r.height}n.language?_ntes_nlag=n.language.toLowerCase():n.browserLanguage&&(_ntes_nlag=n.browserLanguage.toLowerCase());var i=new Date(document.lastModified);_ntes_nlmf=i.getTime()/1e3}function fetch_visitor_hash(){var e=new Date,t=document.body.clientWidth+":"+document.body.clientHeight;return ntes_hex_md5(str_to_ent(e.getTime()+Math.random()+document.location+document.referrer+screen.width+screen.height+navigator.userAgent+document.cookie+t))}function _ntes_sendInfo(e,t,n){var r,i=e+"_"+ +new Date+parseInt(100*Math.random()),o=n||_ntes_void;(r=window[i]=new Image).onload=function(){window[i]=null,o()},r.onerror=function(){window[i]=null,o()},r.src=t,r=null}function neteaseTracker(e,t,n,r){if(!is_spider()){var i=r||_ntes_nacc;_ntes_nurl=escape(t||document.location),_ntes_ntit=escape(n||document.title),_ntes_nref=!0===e?"":escape(e||document.referrer),_ntes_flsh=ntes_get_flashver();var o=(new Date).getTime();if(null==_ntes_cookie_enabled&&(document.cookie="__ntes__test__cookies="+o,_ntes_cookie_enabled=ntes_get_cookie("__ntes__test__cookies")==o,document.cookie="__ntes__test__cookies="+o+"; expires="+new Date("1970/01/01").toUTCString()),"undefined"!=i&&i&&0==_ntes_nurl.indexOf("http")){var a=ntes_get_cookie("_ntes_nnid");if(-1==a)_ntes_cookie_enabled&&(_ntes_nvid=fetch_visitor_hash(),_ntes_nvfi=1,ntes_set_cookie_long("_ntes_nnid",_ntes_nvid+","+(new Date).getTime()),ntes_set_cookie_long("_ntes_nuid",_ntes_nvid));else{var s=a.indexOf(","),c=a.indexOf("|"),u=!1;-1==c&&(c=a.length),_ntes_nvid=a.substr(0,s),0==(_ntes_surv=a.substr(s+1,c-s-1))&&(_ntes_surv=(new Date).getTime(),u=!0),_ntes_nvid||(_ntes_nvid=fetch_visitor_hash(),u=!0),u&&(ntes_set_cookie_long("_ntes_nnid",_ntes_nvid+","+_ntes_surv),ntes_set_cookie_long("_ntes_nuid",_ntes_nvid)),0!=_ntes_surv&&31536e6<o-_ntes_surv&&(_ntes_surv=0,ntes_set_cookie_long("_ntes_nnid",_ntes_nvid+","+(new Date).getTime()),ntes_set_cookie_long("_ntes_nuid",_ntes_nvid))}_ntes_nssn=(_ntes_nssn=l("P_INFO","P_OINFO"))?_ntes_nssn.substr(0,_ntes_nssn.indexOf("|")):"",_ntes_nstm=l("S_INFO","S_OINFO")?1:0,ntes_get_navigation_info();["_nacc=",i,"&_nvid=",_ntes_nvid,"&_nvtm=",_ntes_nvtm,"&_nvsf=",_ntes_nvsf,"&_nvfi=",_ntes_nvfi,"&_nlag=",_ntes_nlag,"&_nlmf=",_ntes_nlmf,"&_nres=",_ntes_nres,"&_nscd=",_ntes_nscd,"&_nstm=",_ntes_nstm,"&_nurl=",_ntes_nurl,"&_ntit=",_ntes_ntit,"&_nref=",_ntes_nref,"&_nfla=",_ntes_flsh,"&_nssn=",_ntes_nssn,"&_nxkey=",(o+""+Math.random()).substring(6,20),"&_end1"].join("");_ntes_nvsf=0,neteaseTracker.callback=null}}function l(e,t){var n=ntes_get_cookie(e),r=ntes_get_cookie(t);return-1==n?-1==r?"":r:n}}}()},Z63m:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,AFd;
/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */AFd=function(){var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=__webpack_require__(0)}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0!==e.crossOrigin)return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP");var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")},globalSetupOptions={dataFilter:function(e){return e}};function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var i="undefined"!=typeof FormData&&t.data instanceof FormData;for(n in t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||i||(r[contentType]=t.contentType||defaultHeaders.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,o=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(i),s=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),c=r.match(s),u=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?r=r.replace(s,"$1="+a):a=c[3]:r=urlappend(r,o+"="+a),context[a]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,void 0===u.onreadystatechange||f||(u.htmlFor=u.id="_reqwest_"+i),u.onload=u.onreadystatechange=function(){if(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||l)return!1;u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),l=1},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),l=1}}}function getRequest(e,t){var n,r=this.o,i=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,a=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=i||!a||(o=urlappend(o,a),a=null),"jsonp"==r.type?handleJsonp(r,e,t,o):((n=r.xhr&&r.xhr(r)||xhr(r)).open(i,o,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;0<self._completeHandlers.length;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);0<self._fulfillmentHandlers.length;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;0<self._errorHandlers.length;)self._errorHandlers.shift()(e,t,n);complete(e)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,i,o,a=e.name,s=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),i=e.value,(!n&&!r||e.checked)&&t(a,normalize(n&&""===i?"on":i)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(0<=e.selectedIndex?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&c(e.options[o])}}function eachFormElement(){var e,t,o=this,n=function(e,t){var n,r,i;for(n=0;n<t.length;n++)for(i=e[byTag](t[n]),r=0;r<i.length;r++)serial(i[r],o)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,o),n(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var n={};return eachFormElement.apply(function(e,t){e in n?(n[e]&&!isArray(n[e])&&(n[e]=[n[e]]),n[e].push(t)):n[e]=t},arguments),n}function buildParams(e,t,n,r){var i,o,a,s=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)a=t[o],n||s.test(e)?r(e,a):buildParams(e+"["+("object"==typeof a?o:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var n=[];return eachFormElement.apply(function(e,t){n.push({name:e,value:t})},arguments),n},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t=Array.prototype.slice.call(arguments,0);return(e=t.pop())&&e.nodeType&&t.push(e)&&(e=null),e&&(e=e.type),("map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString).apply(null,t)},reqwest.toQueryString=function(e,t){var n,r,i=t||!1,o=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=a(e)+"="+a(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)s(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],i,s);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){for(var t in e=e||{})globalSetupOptions[t]=e[t]},reqwest},module.exports?module.exports=AFd():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=AFd)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},Z6vF:function(e,t,n){var r=n("ylqs")("meta"),i=n("0/R4"),o=n("aagx"),a=n("hswa").f,s=0,c=Object.isExtensible||function(){return!0},u=!n("eeVq")(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!o(e,r)&&l(e),e}}},Z92M:function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},ZD67:function(e,t,n){"use strict";var a=n("3Lyj"),s=n("Z6vF").getWeak,i=n("y3w9"),c=n("0/R4"),u=n("9gX7"),l=n("SlkY"),r=n("CkkT"),f=n("aagx"),d=n("s5qY"),o=r(5),p=r(6),h=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return o(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,i){var o=e(function(e,t){u(e,o,n,"_i"),e._t=n,e._i=h++,e._l=void 0,null!=t&&l(t,r,e[i],e)});return a(o.prototype,{delete:function(e){if(!c(e))return!1;var t=s(e);return!0===t?m(d(this,n)).delete(e):t&&f(t,this._i)&&delete t[this._i]},has:function(e){if(!c(e))return!1;var t=s(e);return!0===t?m(d(this,n)).has(e):t&&f(t,this._i)}}),o},def:function(e,t,n){var r=s(i(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},ZGPq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.parse=void 0;var o=r(n("GQeE")),a=r(n("EJiy"));function r(e){return e&&e.__esModule?e:{default:e}}t.parse=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a={};if("string"!=typeof e||0===e.length)return a;var n=t.gap,s=t.eva,c=t.cover;return n=n||"&",s=s||"=",c=void 0!==c&&c,("?"===e.charAt(0)?e.slice(1):e).split(n).forEach(function(e){var t,n,r=e.indexOf(s),i=-1<r?e.slice(0,r):e,o=-1<r?e.slice(r+1):"";i=decodeURIComponent(i),o=decodeURIComponent(o),t=a,n=i,Object.prototype.hasOwnProperty.call(t,n)?Array.isArray(a[i])?a[i].push(o):a[i]=c?o:[a[i],o]:a[i]=o}),a};t.stringify=function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===n?"undefined":(0,a.default)(n))||null===n)return"";var r=e.gap,i=e.eva;return r=r||"&",i=i||"=",(0,o.default)(n).map(function(e){var t=""+encodeURIComponent(e)+i;return Array.isArray(n[e])?n[e].map(function(e){return""+t+encodeURIComponent(e)}).join(r):""+t+encodeURIComponent(n[e])}).join(r)}},Zshi:function(e,t,n){var r=n("0/R4");n("Xtr8")("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},Zxgi:function(e,t,n){var r=n("5T2Y"),i=n("WEpk"),o=n("uOPS"),a=n("zLkG"),s=n("2faE").f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},Zz4T:function(e,t,n){"use strict";n("OGtf")("sub",function(e){return function(){return e(this,"sub","","")}})},a0xu:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},a1Th:function(e,t,n){"use strict";n("OEbY");var r=n("y3w9"),i=n("C/va"),o=n("nh4g"),a="toString",s=/./[a],c=function(e){n("KroJ")(RegExp.prototype,a,e,!0)};n("eeVq")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):s.name!=a&&c(function(){return s.call(this)})},aCFj:function(e,t,n){var r=n("Ymqv"),i=n("vhPU");e.exports=function(e){return r(i(e))}},aY4z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PIC_URL=void 0;var r=a(n("ORHi")),f=a(n("etx1")),i=a(n("y7P4")),o=a(n("s4NR"));function a(e){return e&&e.__esModule?e:{default:e}}var s={},c=null;"undefined"!=typeof window&&(s=window,c=n("GKBh")),s.api=s.api||{};var u,l=s.api,d=t.PIC_URL="https://p4.music.126.net/FtW_Z9lkb47ObTsGSSBlPg==/19135900369963408.jpg",p=!!/music\.163\.com$/.test(location.host)?"music.163.com":"qa.igame.163.com",h=function(){return/micromessenger/i.test(navigator.userAgent)},m=(u={qqfriend:"qq",qqtimeline:"qzone",wxfriend:"wxsession",wxtimeline:"wxtimeline",yxfriend:"yxsession",yxtimeline:"yxtimeline",wb:"sina",db:"douban"},function(e){return u[e]||e}),g={init:function(){this.onAppShare=this.onAppShare.bind(this),this.shareCbFn=this.shareCbFn.bind(this),this.onWechatReady=this.onWechatReady.bind(this),this.updateShareData=this.updateShareData.bind(this),this.blurActiveEl=this.blurActiveEl.bind(this),this.setShareData.apply(this,arguments),i.default.isInNEMapp()&&this.registMusicShare(),h()&&this.registWechatShare()},setShareData:function(e){var t=e.type,n=e.name,r=e.id,i=e.title,o=e.subTitle,a=e.text,s=e.picUrl,c=void 0===s?d:s,u=e.link,l=e.shareCb;if(void 0===n&&void 0===this.name)throw new Error("[ShareConfig] 必须提供活动名name");this.type=t||this.type||"webviewactivity",this.name=n||this.name,this.id=r||this.id,this.title=i||this.title||document.title,this.subTitle=o||this.subTitle||"music.163.com",this.text=a||this.text||this.title,this.picUrl=c||this.picUrl,this.link=u||this.link||location.href,this.shareCb=l||this.shareCb,this.logger=new f.default(this.name)},getShareData:function(){return{type:this.type,name:this.name,id:this.id,title:this.title,subTitle:this.subTitle,text:this.text,picUrl:this.picUrl,link:this.link,shareCb:this.shareCb}},updateShareData:function(){this.setShareData.apply(this,arguments),this.registWechatShare()},registMusicShare:function(){var n=this,r=null;setTimeout(function(){location.href="orpheus://settopbutton?"+o.default.stringify({title:"分享",icon:"share",callback:"onAppShare()",show:!0,playshow:!0})},100),s.onAppShare=this.onAppShare,"function"==typeof l.shareCb&&(r=l.shareCb),l.shareCb=function(e,t){r&&r(e,t),n.shareCbFn(e,t)}},registWechatShare:function(){if(h()){var n=this;this.hasWechatToken?this.onWechatReady():(0,r.default)("//"+p+"/store/api/wechat/auth/jssdk/info",{method:"get",data:{url:location.protocol+"//"+p+"/"}}).then(function(e){return e.json()}).then(function(e){var t;200===e.code&&(t=e,c.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.noncestr,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),c.ready(n.onWechatReady),n.hasWechatToken=!0)}).catch(function(e){})}},onWechatReady:function(){var t=/from=timeline/.test(location.search)?"wxtimeline":"wxsession",n=this,e=function(e){n.logger.action("indirectshare",{type:n.type,url:n.link,from:t,to:e,target:n.name,is_webview:1}),n.shareCb()};c.onMenuShareAppMessage({title:this.title,desc:this.subTitle,link:this.link,imgUrl:this.picUrl,success:e.bind(null,"wxsession")}),c.onMenuShareTimeline({title:this.text,link:this.link,imgUrl:this.picUrl,success:e.bind(null,"wxtimeline")})},onAppShare:function(){var e=[];e.push(encodeURIComponent(this.text)),e.push(encodeURIComponent(this.picUrl)),e.push(encodeURIComponent(this.link)),e.push(encodeURIComponent(this.title)),e.push(encodeURIComponent(this.subTitle)),setTimeout(function(){location.href="orpheus://share/"+e.join("/")},20),this.logger.action("click",{target:"share",targetid:"button",resource:this.type,url:this.link,activity:this.name,activityid:this.id,is_webview:0}),this.blurActiveEl()},shareCbFn:function(e,t){if(e){var n=this.shareCb;this.logger.action("click",{target:"share",targetid:m(t||""),resource:this.type,url:this.link,activity:this.name,activityid:this.id,is_webview:0}),n&&"function"==typeof n&&n(e,t)}},blurActiveEl:function(){var e=document.activeElement;"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName||e.blur()}};t.default=g},aZ40:function(e,t,n){var r=n("Wogr"),i=new r(512),o=new r(256);!function(){for(var e=1,t=0;t<255;t++)i[t]=e,o[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)i[t]=i[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return o[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[o[e]+o[t]]}},aagx:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},adOz:function(e,t,n){n("Zxgi")("asyncIterator")},apmT:function(e,t,n){var i=n("0/R4");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},"aqI/":function(e,t,n){n("7DDg")("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}},!0)},"ar/p":function(e,t,n){var r=n("5vMV"),i=n("FpHa").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},bBoP:function(e,t,n){var r=n("XKFU"),i=n("LVwc"),o=Math.exp;r(r.S+r.F*n("eeVq")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},bBy9:function(e,t,n){n("w2d+");for(var r=n("5T2Y"),i=n("NegM"),o=n("SBuE"),a=n("UWiX")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],f=l&&l.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},bCCX:function(e,o,a){"use strict";(function(e,t){var n,r=a("SLVX");n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t;var i=Object(r.a)(n);o.a=i}).call(this,a("yLpj"),a("3UD+")(e))},bDcW:function(e,t,n){"use strict";n("OGtf")("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},bHtr:function(e,t,n){var r=n("XKFU");r(r.P,"Array",{fill:n("Nr18")}),n("nGyu")("fill")},bWfx:function(e,t,n){"use strict";var r=n("XKFU"),i=n("CkkT")(1);r(r.P+r.F*!n("LyE8")([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},c3ME:function(e,t,n){"use strict";var r=n("YsTz"),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},cYVt:function(e,t){!function(s){var c,u,l,f,d,p={};function h(){f=null,p.last&&(p.el.trigger("longTap"),p={})}function m(){f&&clearTimeout(f),f=null}function g(){c&&clearTimeout(c),u&&clearTimeout(u),l&&clearTimeout(l),f&&clearTimeout(f),c=u=l=f=null,p={}}function v(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function y(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}s(document).ready(function(){var t,n,r,i,o=0,a=0;"MSGesture"in window&&((d=new MSGesture).target=document.body),s(document).bind("MSGestureEnd",function(e){var t=1<e.velocityX?"Right":e.velocityX<-1?"Left":1<e.velocityY?"Down":e.velocityY<-1?"Up":null;t&&(p.el.trigger("swipe"),p.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(e){(i=y(e,"down"))&&!v(e)||(r=i?e:e.touches[0],e.touches&&1===e.touches.length&&p.x2&&(p.x2=void 0,p.y2=void 0),t=Date.now(),n=t-(p.last||t),p.el=s("tagName"in r.target?r.target:r.target.parentNode),c&&clearTimeout(c),p.x1=r.pageX,p.y1=r.pageY,0<n&&n<=250&&(p.isDoubleTap=!0),p.last=t,f=setTimeout(h,750),d&&i&&d.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(i=y(e,"move"))&&!v(e)||(r=i?e:e.touches[0],m(),p.x2=r.pageX,p.y2=r.pageY,o+=Math.abs(p.x1-p.x2),a+=Math.abs(p.y1-p.y2))}).on("touchend MSPointerUp pointerup",function(e){(i=y(e,"up"))&&!v(e)||(m(),p.x2&&30<Math.abs(p.x1-p.x2)||p.y2&&30<Math.abs(p.y1-p.y2)?l=setTimeout(function(){var e,t,n,r;p.el&&(p.el.trigger("swipe"),p.el.trigger("swipe"+(e=p.x1,t=p.x2,n=p.y1,r=p.y2,Math.abs(e-t)>=Math.abs(n-r)?0<e-t?"Left":"Right":0<n-r?"Up":"Down"))),p={}},0):"last"in p&&(o<30&&a<30?u=setTimeout(function(){var e=s.Event("tap");e.cancelTouch=g,p.el&&p.el.trigger(e),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):c=setTimeout(function(){c=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),o=a=0)}).on("touchcancel MSPointerCancel pointercancel",g),s(window).on("scroll",g)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){s.fn[t]=function(e){return this.on(t,e)}})}(Zepto)},cbQP:function(e,t,n){},ccE7:function(e,t,n){var c=n("Ojgd"),u=n("Jes0");e.exports=function(s){return function(e,t){var n,r,i=String(u(e)),o=c(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},czNK:function(e,t,n){"use strict";var d=n("DVgA"),p=n("JiEa"),h=n("UqcF"),m=n("S/j/"),g=n("Ymqv"),i=Object.assign;e.exports=!i||n("eeVq")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=m(e),r=arguments.length,i=1,o=p.f,a=h.f;i<r;)for(var s,c=g(arguments[i++]),u=o?d(c).concat(o(c)):d(c),l=u.length,f=0;f<l;)a.call(c,s=u[f++])&&(n[s]=c[s]);return n}:i},"d/Gc":function(e,t,n){var r=n("RYi7"),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},"dE+T":function(e,t,n){var r=n("XKFU");r(r.P,"Array",{copyWithin:n("upKx")}),n("nGyu")("copyWithin")},dRSK:function(e,t,n){"use strict";var r=n("XKFU"),i=n("CkkT")(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n("nGyu")("find")},"dZ+Y":function(e,t,n){"use strict";var r=n("XKFU"),i=n("CkkT")(3);r(r.P+r.F*!n("LyE8")([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},dl0q:function(e,t,n){n("Zxgi")("observable")},dyZX:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"e/Dd":function(e,t){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},e6BP:function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},e7yV:function(e,t,n){var r=n("aCFj"),i=n("kJMx").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},e989:function(e,t,n){"use strict";e.exports=n("7PmA")()?Object.keys:n("c3ME")},eHKK:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},eI33:function(e,t,n){var r=n("XKFU"),a=n("aCFj"),s=n("ne8i");r(r.S,"String",{raw:function(e){for(var t=a(e.raw),n=s(t.length),r=arguments.length,i=[],o=0;o<n;)i.push(String(t[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}})},eM6i:function(e,t,n){var r=n("XKFU");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},eQOe:function(e,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var l=3,a=3,c=40,i=10;function o(e,t,n){switch(e){case s.Patterns.PATTERN000:return(t+n)%2==0;case s.Patterns.PATTERN001:return t%2==0;case s.Patterns.PATTERN010:return n%3==0;case s.Patterns.PATTERN011:return(t+n)%3==0;case s.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case s.Patterns.PATTERN101:return t*n%2+t*n%3==0;case s.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case s.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){for(var t=e.size,n=0,r=0,i=0,o=null,a=null,s=0;s<t;s++){r=i=0,o=a=null;for(var c=0;c<t;c++){var u=e.get(s,c);u===o?r++:(5<=r&&(n+=l+(r-5)),o=u,r=1),(u=e.get(c,s))===a?i++:(5<=i&&(n+=l+(i-5)),a=u,i=1)}5<=r&&(n+=l+(r-5)),5<=i&&(n+=l+(i-5))}return n},s.getPenaltyN2=function(e){for(var t=e.size,n=0,r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var o=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);4!==o&&0!==o||n++}return n*a},s.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,i=0,o=0;o<t;o++){r=i=0;for(var a=0;a<t;a++)r=r<<1&2047|e.get(o,a),10<=a&&(1488===r||93===r)&&n++,i=i<<1&2047|e.get(a,o),10<=a&&(1488===i||93===i)&&n++}return n*c},s.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*i},s.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,o(e,i,r))},s.getBestMask=function(e,t){for(var n=Object.keys(s.Patterns).length,r=0,i=1/0,o=0;o<n;o++){t(o),s.applyMask(o,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(o,e),a<i&&(i=a,r=o)}return r}},eUtF:function(e,t,n){e.exports=!n("jmDH")&&!n("KUxP")(function(){return 7!=Object.defineProperty(n("Hsns")("div"),"a",{get:function(){return 7}}).a})},eaoh:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},eeVq:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},ekOh:function(e,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},elZq:function(e,t,n){"use strict";var r=n("dyZX"),i=n("hswa"),o=n("nh4g"),a=n("K0xU")("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},etx1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("gDS+")),o=l(n("iCc5")),a=l(n("V7oC")),r=l(n("GQeE")),s=l(n("EJiy")),c=l(n("y7P4")),u=l(n("ORHi"));function l(e){return e&&e.__esModule?e:{default:e}}function f(){return/music\.163\.com$/.test(location.host)?"music.163.com":"qa.igame.163.com"}function d(){}function p(t,n){return t&&n&&"object"===(void 0===n?"undefined":(0,s.default)(n))&&(0,r.default)(n).forEach(function(e){void 0!==n[e]&&(t[e]=n[e])}),t}var h=function(){function r(e,t){if((0,o.default)(this,r),!e)throw new Error("活动名称不允许为空");this.name=e,this.id=t||e;var n=/\buserid=(\d+)/.exec(location.search);this.shareuserid=n?n[1]:""}return(0,a.default)(r,[{key:"page",value:function(e,t,n){"function"==typeof t&&(n=t,t=null),"function"!=typeof n&&(n=d),this.action("page",p({type:"webviewactivity",url:location.href,target:this.name,targetid:this.id,page:e,is_webview:c.default.isMobile()&&c.default.isInNEMapp()?0:1,osver:c.default.getOSVersionStr(),shareuserid:this.shareuserid},t),n)}},{key:"click",value:function(e,t,n,r){"function"==typeof n&&(r=n,n=null),"function"!=typeof r&&(r=d),this.action("click",p({resource:"webviewactivity",url:location.href,activity:this.name,activityid:this.id,page:e,target:t,is_webview:c.default.isMobile()&&c.default.isInNEMapp()?0:1,osver:c.default.getOSVersionStr(),shareuserid:this.shareuserid},n),r)}},{key:"download",value:function(e,t,n){"function"==typeof t&&(n=t,t=null),"function"!=typeof n&&(n=d),this.action("click",p({resource:"webviewactivity",url:location.href,activity:this.name,activityid:this.id,page:e,target:"downloadclient",targetid:"button",is_webview:c.default.isMobile()&&c.default.isInNEMapp()?0:1,osver:c.default.getOSVersionStr(),shareuserid:this.shareuserid},t),n)}},{key:"open",value:function(e,t,n){"function"==typeof t&&(n=t,t=null),"function"!=typeof n&&(n=d),this.action("click",p({resource:"webviewactivity",url:location.href,activity:this.name,activityid:this.id,page:e,target:"openclient",targetid:"button",is_webview:c.default.isMobile()&&c.default.isInNEMapp()?0:1,osver:c.default.getOSVersionStr(),shareuserid:this.shareuserid},t),n)}},{key:"action",value:function(e,t,n){(0,u.default)("//"+f()+"/api/feedback/weblog",{method:"post",credentials:"include",data:{logs:(0,i.default)([{action:e,json:p({resource:"webviewactivity",url:location.href,activity:this.name,activityid:this.id,is_webview:c.default.isMobile()&&c.default.isInNEMapp()?0:1,osver:c.default.getOSVersionStr(),shareuserid:this.shareuserid},t)}])}}).then(function(){n&&n()}).catch(function(){n&&n()})}}]),r}();t.default=h,e.exports=t.default},eyMr:function(e,t,n){var l=n("2OiF"),f=n("S/j/"),d=n("Ymqv"),p=n("ne8i");e.exports=function(e,t,n,r,i){l(t);var o=f(e),a=d(o),s=p(o.length),c=i?s-1:0,u=i?-1:1;if(n<2)for(;;){if(c in a){r=a[c],c+=u;break}if(c+=u,i?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;i?0<=c:c<s;c+=u)c in a&&(r=t(r,a[c],c,o));return r}},"f/aN":function(e,t,n){"use strict";var r=n("XKFU"),i=n("y3w9"),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n("QaDb")(o,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},"f3/d":function(e,t,n){var r=n("hswa").f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n("nh4g")&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},fN96:function(e,t,n){var r=n("XKFU");r(r.S,"Number",{isInteger:n("nBIS")})},fpC5:function(e,t,n){var a=n("2faE"),s=n("5K7Z"),c=n("w6GO");e.exports=n("jmDH")?Object.defineProperties:function(e,t){s(e);for(var n,r=c(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},fyDq:function(e,t,n){var r=n("hswa").f,i=n("aagx"),o=n("K0xU")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},fyVe:function(e,t,n){var r=n("XKFU"),i=n("1sa7"),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},g3g5:function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},g4EE:function(e,t,n){"use strict";var r=n("y3w9"),i=n("apmT");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},g6HL:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"gDS+":function(e,t,n){e.exports={default:n("oh+g"),__esModule:!0}},gHnn:function(e,t,n){var s=n("dyZX"),c=n("GZEu").set,u=s.MutationObserver||s.WebKitMutationObserver,l=s.process,f=s.Promise,d="process"==n("LZWt")(l);e.exports=function(){var n,r,i,e=function(){var e,t;for(d&&(e=l.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?i():r=void 0,e}}r=void 0,e&&e.enter()};if(d)i=function(){l.nextTick(e)};else if(!u||s.navigator&&s.navigator.standalone)if(f&&f.resolve){var t=f.resolve(void 0);i=function(){t.then(e)}}else i=function(){c.call(s,e)};else{var o=!0,a=document.createTextNode("");new u(e).observe(a,{characterData:!0}),i=function(){a.data=o=!o}}return function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,i()),r=t}}},"h/M4":function(e,t,n){var r=n("XKFU");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},h7Nl:function(e,t,n){var r=Date.prototype,i="Invalid Date",o=r.toString,a=r.getTime;new Date(NaN)+""!=i&&n("KroJ")(r,"toString",function(){var e=a.call(this);return e==e?o.call(this):i})},hDam:function(e,t){e.exports=function(){}},hEkN:function(e,t,n){"use strict";n("OGtf")("anchor",function(t){return function(e){return t(this,"a","name",e)}})},hHhE:function(e,t,n){var r=n("XKFU");r(r.S,"Object",{create:n("Kuth")})},"hKI/":function(i,e,t){(function(e){var y="Expected a function",o=NaN,a="[object Symbol]",s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt,t="object"==typeof e&&e&&e.Object===Object&&e,n="object"==typeof self&&self&&self.Object===Object&&self,r=t||n||Function("return this")(),d=Object.prototype.toString,b=Math.max,x=Math.min,w=function(){return r.Date.now()};function p(r,i,e){var o,a,s,c,u,l,f=0,d=!1,p=!1,t=!0;if("function"!=typeof r)throw new TypeError(y);function h(e){var t=o,n=a;return o=a=void 0,f=e,c=r.apply(n,t)}function m(e){var t=e-l;return void 0===l||i<=t||t<0||p&&s<=e-f}function g(){var e,t,n=w();if(m(n))return v(n);u=setTimeout(g,(t=i-((e=n)-l),p?x(t,s-(e-f)):t))}function v(e){return u=void 0,t&&o?h(e):(o=a=void 0,c)}function n(){var e,t=w(),n=m(t);if(o=arguments,a=this,l=t,n){if(void 0===u)return f=e=l,u=setTimeout(g,i),d?h(e):c;if(p)return u=setTimeout(g,i),h(l)}return void 0===u&&(u=setTimeout(g,i)),c}return i=M(i)||0,_(e)&&(d=!!e.leading,s=(p="maxWait"in e)?b(M(e.maxWait)||0,i):s,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==u&&clearTimeout(u),o=l=a=u=void(f=0)},n.flush=function(){return void 0===u?c:v(w())},n}function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function M(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&d.call(t)==a)return o;var t,n;if(_(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=_(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=u.test(e);return i||l.test(e)?f(e.slice(2),i?2:8):c.test(e)?o:+e}i.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(y);return _(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),p(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,t("yLpj"))},hLT2:function(e,t,n){var r=n("XKFU");r(r.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},hPIQ:function(e,t){e.exports={}},hhXQ:function(e,t,n){var r=n("XKFU"),i=n("UExd")(!1);r(r.S,"Object",{values:function(e){return i(e)}})},hswa:function(e,t,n){var r=n("y3w9"),i=n("xpql"),o=n("apmT"),a=Object.defineProperty;t.f=n("nh4g")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},i5dc:function(e,t,i){var n=i("0/R4"),r=i("y3w9"),o=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=i("m0Pp")(Function.call,i("EemH").f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:o}},i8i4:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n("yl30")},iCc5:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},iDtL:function(e,t,n){},iMoV:function(e,t,n){var r=n("hswa"),i=n("XKFU"),o=n("y3w9"),a=n("apmT");i(i.S+i.F*n("eeVq")(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},ioFf:function(e,t,n){"use strict";var r=n("dyZX"),a=n("aagx"),i=n("nh4g"),o=n("XKFU"),s=n("KroJ"),c=n("Z6vF").KEY,u=n("eeVq"),l=n("VTer"),f=n("fyDq"),d=n("ylqs"),p=n("K0xU"),h=n("N8g3"),m=n("OnI7"),g=n("1MBn"),v=n("EWmC"),y=n("y3w9"),b=n("0/R4"),x=n("aCFj"),w=n("apmT"),_=n("RjD/"),M=n("Kuth"),T=n("e7yV"),S=n("EemH"),U=n("hswa"),k=n("DVgA"),P=S.f,E=U.f,C=T.f,A=r.Symbol,O=r.JSON,I=O&&O.stringify,R="prototype",L=p("_hidden"),N=p("toPrimitive"),D={}.propertyIsEnumerable,j=l("symbol-registry"),F=l("symbols"),V=l("op-symbols"),Y=Object[R],B="function"==typeof A,z=r.QObject,H=!z||!z[R]||!z[R].findChild,G=i&&u(function(){return 7!=M(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(Y,t);r&&delete Y[t],E(e,t,n),r&&e!==Y&&E(Y,t,r)}:E,W=function(e){var t=F[e]=M(A[R]);return t._k=e,t},q=B&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},X=function(e,t,n){return e===Y&&X(V,t,n),y(e),t=w(t,!0),y(n),a(F,t)?(n.enumerable?(a(e,L)&&e[L][t]&&(e[L][t]=!1),n=M(n,{enumerable:_(0,!1)})):(a(e,L)||E(e,L,_(1,{})),e[L][t]=!0),G(e,t,n)):E(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=x(t)),i=0,o=r.length;i<o;)X(e,n=r[i++],t[n]);return e},$=function(e){var t=D.call(this,e=w(e,!0));return!(this===Y&&a(F,e)&&!a(V,e))&&(!(t||!a(this,e)||!a(F,e)||a(this,L)&&this[L][e])||t)},J=function(e,t){if(e=x(e),t=w(t,!0),e!==Y||!a(F,t)||a(V,t)){var n=P(e,t);return!n||!a(F,t)||a(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=C(x(e)),r=[],i=0;n.length>i;)a(F,t=n[i++])||t==L||t==c||r.push(t);return r},Q=function(e){for(var t,n=e===Y,r=C(n?V:x(e)),i=[],o=0;r.length>o;)!a(F,t=r[o++])||n&&!a(Y,t)||i.push(F[t]);return i};B||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(0<arguments.length?arguments[0]:void 0),n=function(e){this===Y&&n.call(V,e),a(this,L)&&a(this[L],t)&&(this[L][t]=!1),G(this,t,_(1,e))};return i&&H&&G(Y,t,{configurable:!0,set:n}),W(t)})[R],"toString",function(){return this._k}),S.f=J,U.f=X,n("kJMx").f=T.f=Z,n("UqcF").f=$,n("JiEa").f=Q,i&&!n("LQAc")&&s(Y,"propertyIsEnumerable",$,!0),h.f=function(e){return W(p(e))}),o(o.G+o.W+o.F*!B,{Symbol:A});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=k(p.store),re=0;ne.length>re;)m(ne[re++]);o(o.S+o.F*!B,"Symbol",{for:function(e){return a(j,e+="")?j[e]:j[e]=A(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!B,"Object",{create:function(e,t){return void 0===t?M(e):K(M(e),t)},defineProperty:X,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),O&&o(o.S+o.F*(!B||u(function(){var e=A();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!q(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,I.apply(O,r)}}),A[R][N]||n("Mukb")(A[R],N,A[R].valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},iq4v:function(e,t,n){n("Mqbl"),e.exports=n("WEpk").Object.keys},j2DC:function(e,t,n){"use strict";var r=n("oVml"),i=n("rr1i"),o=n("RfKB"),a={};n("NegM")(a,n("UWiX")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},jOKj:function(e,t,n){"use strict";t.__esModule=!0;var i=["song","album","playlist","program","artist","user","mv","live","activity","subject","video","tastetest/begin","unicom/begin","telecom/begin","comment","openurl","djradio","inbox/comment","inbox/message","myradio","topic","runfm","theme","songrcmd","event","pubevent","scancode","rnpage","livequiz","musician","tel","effect","effectdetail","deviceeffect","effectheme","identify"],r=/^\d+$/,o=function(i,o,a){if(!i)return"";var e=i;if(!o)return"orpheus://"+e;var t=String(o||"");if("[object Object]"===t){var s=[];Object.keys(o).forEach(function(t,e){var n=o[t],r=void 0;Array.isArray(n)?(r=a?n:n.map(function(e){return encodeURIComponent(e)}),"pubevent"===i&&"tag"===t?r.forEach(function(e){s.push(t+"="+e)}):s.push(t+"="+r.join(","))):(r=a||"callback"===t?n:encodeURIComponent(n),s.push(t+"="+r))}),t=s.join("&")}var n=r.test(t)?"/":"?";return"orpheus://"+e+(t=""!==t?""+n+t:"")};t.default=o,t.linkCommonUrl=function(e,t){return o(e,"string"==typeof t?{url:t}:t)},t.linkWithCb=function(e,t){e&&"function"==typeof t&&(window.api||(window.api={}),window.api[e]=t)},t.callLink=function(e){e&&window.setTimeout(function(){-1===window.location.hostname.indexOf("music")&&console.log("[Orpheus Link] : "+e),location.href=e},10)},t.getLinkInfo=function(t,e){var n=i.filter(function(e){return e===t}),r=/^song\/\d+/.test(t)||/^program\/\d+/.test(t);return{url:o(t,e),outer:0<n.length||r}}},jSPq:function(e,t,n){var a=n("Wogr"),s=n("JzKC");function r(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(e){this.degree=e,this.genPoly=s.generateECPolynomial(this.degree)},r.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new a(this.degree);t.fill(0);var n=a.concat([e,t],e.length+this.degree),r=s.mod(n,this.genPoly),i=this.degree-r.length;if(0<i){var o=new a(this.degree);return o.fill(0),r.copy(o,i),o}return r},e.exports=r},jl2H:function(e,t,n){"use strict";e.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},jm62:function(e,t,n){var r=n("XKFU"),c=n("mQtv"),u=n("aCFj"),l=n("EemH"),f=n("8a7r");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=u(e),i=l.f,o=c(r),a={},s=0;o.length>s;)void 0!==(n=i(r,t=o[s++]))&&f(a,t,n);return a}})},jmDH:function(e,t,n){e.exports=!n("KUxP")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},jo6Y:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},jqX0:function(e,t,n){var r=n("XKFU"),i=n("jtBr");r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},jtBr:function(e,t,n){"use strict";var r=n("eeVq"),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return 9<e?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":9999<e?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(99<t?t:"0"+a(t))+"Z"}:o},kAMH:function(e,t,n){var r=n("a0xu");e.exports=Array.isArray||function(e){return"Array"==r(e)}},kJMx:function(e,t,n){var r=n("zhAb"),i=n("4R4u").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},kTiW:function(e,t,n){e.exports=n("NegM")},kcoS:function(e,t,n){var o=n("lvtm"),r=Math.pow,a=r(2,-52),s=r(2,-23),c=r(2,127)*(2-s),u=r(2,-126);e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),i=o(e);return r<u?i*(r/u/s+1/a-1/a)*u*s:c<(n=(t=(1+s/a)*r)-(t-r))||n!=n?i*(1/0):i*n}},kd2E:function(e,t,n){"use strict";e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s,c,u=e.length;0<a&&a<u&&(u=a);for(var l=0;l<u;++l){var f,d,p,h,m=e[l].replace(o,"%20"),g=m.indexOf(n);d=0<=g?(f=m.substr(0,g),m.substr(g+1)):(f=m,""),p=decodeURIComponent(f),h=decodeURIComponent(d),s=i,c=p,Object.prototype.hasOwnProperty.call(s,c)?v(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i};var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"kk9/":function(e,t,n){var r=n("e/Dd").getSymbolSize;t.getPositions=function(e){var t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},klPD:function(e,t,n){var c=n("hswa"),u=n("EemH"),l=n("OP3Y"),f=n("aagx"),r=n("XKFU"),d=n("RjD/"),p=n("y3w9"),h=n("0/R4");r(r.S,"Reflect",{set:function e(t,n,r){var i,o,a=arguments.length<4?t:arguments[3],s=u.f(p(t),n);if(!s){if(h(o=l(t)))return e(o,n,r,a);s=d(0)}if(f(s,"value")){if(!1===s.writable||!h(a))return!1;if(i=u.f(a,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,c.f(a,n,i)}else c.f(a,n,d(0,r));return!0}return void 0!==s.set&&(s.set.call(a,r),!0)}})},knU9:function(e,t,n){var r=n("XKFU"),i=n("i5dc");i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},knhD:function(e,t,n){var r=n("XKFU");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},kwZ1:function(e,t,n){"use strict";var d=n("w6GO"),p=n("mqlF"),h=n("NV0k"),m=n("JB68"),g=n("M1xp"),i=Object.assign;e.exports=!i||n("KUxP")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=m(e),r=arguments.length,i=1,o=p.f,a=h.f;i<r;)for(var s,c=g(arguments[i++]),u=o?d(c).concat(o(c)):d(c),l=u.length,f=0;f<l;)a.call(c,s=u[f++])&&(n[s]=c[s]);return n}:i},l0Rn:function(e,t,n){"use strict";var i=n("RYi7"),o=n("vhPU");e.exports=function(e){var t=String(o(this)),n="",r=i(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},lCc8:function(e,t,n){var r=n("Y7ZC");r(r.S,"Object",{create:n("oVml")})},lYJp:function(e,t,n){var i=n("e/Dd"),o=i.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,r=n<<10;0<=i.getBCHDigit(r)-o;)r^=1335<<i.getBCHDigit(r)-o;return 21522^(n<<10|r)}},lq5y:function(e,t,n){"use strict";var r=n("YsTz");e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},lvtm:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},m0Pp:function(e,t,n){var o=n("2OiF");e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},mGWK:function(e,t,n){"use strict";var r=n("XKFU"),i=n("aCFj"),o=n("RYi7"),a=n("ne8i"),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n("LyE8")(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(1<arguments.length&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}})},mQtv:function(e,t,n){var r=n("kJMx"),i=n("JiEa"),o=n("y3w9"),a=n("dyZX").Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},mRg0:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n("s3Ml")),i=a(n("AyUB")),o=a(n("EJiy"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},mYba:function(e,t,n){var r=n("aCFj"),i=n("EemH").f;n("Xtr8")("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},mqlF:function(e,t){t.f=Object.getOwnPropertySymbols},mura:function(e,t,n){var r=n("0/R4"),i=n("Z6vF").onFreeze;n("Xtr8")("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},"nA++":function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},nBIS:function(e,t,n){var r=n("0/R4"),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},nCnK:function(e,t,n){n("7DDg")("Uint32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},nGyu:function(e,t,n){var r=n("K0xU")("unscopables"),i=Array.prototype;null==i[r]&&n("Mukb")(i,r,{}),e.exports=function(e){i[r][e]=!0}},nICZ:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},nIY7:function(e,t,n){"use strict";n("OGtf")("big",function(e){return function(){return e(this,"big","","")}})},nZSm:function(e,t,n){var r=n("u/Db"),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=r.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},ne8i:function(e,t,n){var r=n("RYi7"),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},nh4g:function(e,t,n){e.exports=!n("eeVq")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},nsiH:function(e,t,n){"use strict";n("OGtf")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},nzyx:function(e,t,n){var r=n("XKFU"),i=n("LVwc");r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},o8NH:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F,"Object",{assign:n("kwZ1")})},o96g:function(module,exports,__webpack_require__){var w6d;window,w6d=function(){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=502)}([function(e,t,n){"use strict";var r,i=(r=n(9))&&r.__esModule?r:{default:r},s=n(73),c=n(67);n(91);var o,a,u,l,f=n(11),d=f.getGlobal(),p=/\s+/;f.deduplicate=function(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t},f.capFirstLetter=function(e){return e?(e=""+e).slice(0,1).toUpperCase()+e.slice(1):""},f.guid=(o=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},function(){return o()+o()+o()+o()+o()+o()+o()+o()}),f.extend=function(e,t,n){for(var r in t)void 0!==e[r]&&!0!==n||(e[r]=t[r])},f.filterObj=function(t,e){var n={};return f.isString(e)&&(e=e.split(p)),e.forEach(function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n},f.copy=function(t,n){return n=n||{},t&&Object.keys(t).forEach(function(e){f.exist(t[e])&&(n[e]=t[e])}),n},f.copyWithNull=function(t,n){return n=n||{},t&&Object.keys(t).forEach(function(e){(f.exist(t[e])||f.isnull(t[e]))&&(n[e]=t[e])}),n},f.findObjIndexInArray=function(e,n){e=e||[];var r=n.keyPath||"id",i=-1;return e.some(function(e,t){if(c(e,r)===n.value)return i=t,!0}),i},f.findObjInArray=function(e,t){var n=f.findObjIndexInArray(e,t);return-1===n?null:e[n]},f.mergeObjArray=function(){var t=[],e=[].slice.call(arguments,0,-1),n=arguments[arguments.length-1];f.isArray(n)&&(e.push(n),n={});var r,i=n.keyPath=n.keyPath||"id";for(n.sortPath=n.sortPath||i;!t.length&&e.length;)t=(t=e.shift()||[]).slice(0);return e.forEach(function(e){e&&e.forEach(function(e){-1!==(r=f.findObjIndexInArray(t,{keyPath:i,value:c(e,i)}))?t[r]=f.merge({},t[r],e):t.push(e)})}),n.notSort||(t=f.sortObjArray(t,n)),t},f.cutObjArray=function(e){var t=e.slice(0),n=arguments.length,r=[].slice.call(arguments,1,n-1),i=arguments[n-1];f.isObject(i)||(r.push(i),i={});var o,a=i.keyPath=i.keyPath||"id";return r.forEach(function(e){f.isArray(e)||(e=[e]),e.forEach(function(e){e&&(i.value=c(e,a),-1!==(o=f.findObjIndexInArray(t,i))&&t.splice(o,1))})}),t},f.sortObjArray=function(e,t){var n=(t=t||{}).sortPath||"id";s.insensitive=!!t.insensitive;var r,i,o,a=!!t.desc;return o=f.isFunction(t.compare)?t.compare:function(e,t){return r=c(e,n),i=c(t,n),a?s(i,r):s(r,i)},e.sort(o)},f.emptyFunc=function(){},f.isEmptyFunc=function(e){return e===f.emptyFunc},f.notEmptyFunc=function(e){return e!==f.emptyFunc},f.splice=function(e,t,n){return[].splice.call(e,t,n)},f.reshape2d=function(e,t){if(Array.isArray(e)){f.verifyParamType("type",t,"number","util::reshape2d");var n=e.length;if(n<=t)return[e];for(var r=Math.ceil(n/t),i=[],o=0;o<r;o++)i.push(e.slice(o*t,(o+1)*t));return i}return e},f.flatten2d=function(e){if(Array.isArray(e)){var t=[];return e.forEach(function(e){t=t.concat(e)}),t}return e},f.dropArrayDuplicates=function(e){if(Array.isArray(e)){for(var t={},n=[];0<e.length;)t[e.shift()]=!0;for(var r in t)!0===t[r]&&n.push(r);return n}return e},f.onError=function(e){throw new function(e){"object"===(void 0===e?"undefined":(0,i.default)(e))?(this.callFunc=e.callFunc||null,this.message=e.message||"UNKNOW ERROR"):this.message=e,this.time=new Date,this.timetag=+this.time}(e)},f.verifyParamPresent=function(e,t,n,r){n=n||"";var i=!1;switch(f.typeOf(t)){case"undefined":case"null":i=!0;break;case"string":""===t&&(i=!0);break;case"StrStrMap":case"object":Object.keys(t).length||(i=!0);break;case"array":t.length?t.some(function(e){if(f.notexist(e))return i=!0}):i=!0}i&&f.onParamAbsent(n+e,r)},f.onParamAbsent=function(e,t){f.onParamError("缺少参数 "+e+", 请确保参数不是 空字符串、空对象、空数组、null或undefined, 或数组的内容不是 null/undefined",t)},f.verifyParamAbsent=function(e,t,n,r){n=n||"",void 0!==t&&f.onParamPresent(n+e,r)},f.onParamPresent=function(e,t){f.onParamError("多余的参数 "+e,t)},f.verifyParamType=function(e,t,n,r){var i=f.typeOf(t).toLowerCase();f.isArray(n)||(n=[n]);var o=!0;switch(-1===(n=n.map(function(e){return e.toLowerCase()})).indexOf(i)&&(o=!1),i){case"number":isNaN(t)&&(o=!1);break;case"string":"numeric or numeric string"===n.join("")&&(o=!!/^[0-9]+$/.test(t))}o||f.onParamInvalidType(e,n,"",r)},f.onParamInvalidType=function(e,t,n,r){n=n||"",t=f.isArray(t)?(t=t.map(function(e){return'"'+e+'"'})).join(", "):'"'+t+'"',f.onParamError('参数"'+n+e+'"类型错误, 合法的类型包括: ['+t+"]",r)},f.verifyParamValid=function(e,t,n,r){f.isArray(n)||(n=[n]),-1===n.indexOf(t)&&f.onParamInvalidValue(e,n,r)},f.onParamInvalidValue=function(e,t,n){f.isArray(t)||(t=[t]),t=t.map(function(e){return'"'+e+'"'}),f.isArray(t)&&(t=t.join(", ")),f.onParamError("参数 "+e+"值错误, 合法的值包括: ["+JSON.stringify(t)+"]",n)},f.verifyParamMin=function(e,t,n,r){t<n&&f.onParamError("参数"+e+"的值不能小于"+n,r)},f.verifyParamMax=function(e,t,n,r){n<t&&f.onParamError("参数"+e+"的值不能大于"+n,r)},f.verifyArrayMax=function(e,t,n,r){t.length>n&&f.onParamError("参数"+e+"的长度不能大于"+n,r)},f.verifyEmail=(a=/^\S+@\S+$/,function(e,t,n){a.test(t)||f.onParamError("参数"+e+"邮箱格式错误, 合法格式必须包含@符号, @符号前后至少要各有一个字符",n)}),f.verifyTel=(l=/^[+\-()\d]+$/,function(e,t,n){l.test(t)||f.onParamError("参数"+e+"电话号码格式错误, 合法字符包括+、-、英文括号和数字",n)}),f.verifyBirth=(u=/^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,function(e,t,n){u.test(t)||f.onParamError("参数"+e+'生日格式错误, 合法为"yyyy-MM-dd"',n)}),f.onParamError=function(e,t){f.onError({message:e,callFunc:t})},f.verifyOptions=function(t,e,n,r,i){if(t=t||{},e&&(f.isString(e)&&(e=e.split(p)),f.isArray(e))){"boolean"!=typeof n&&(i=n||null,n=!0,r="");var o=n?f.verifyParamPresent:f.verifyParamAbsent;e.forEach(function(e){o.call(f,e,t[e],r,i)})}return t},f.verifyParamAtLeastPresentOne=function(t,e,n){e&&(f.isString(e)&&(e=e.split(p)),f.isArray(e)&&(e.some(function(e){return f.exist(t[e])})||f.onParamError("以下参数["+e.join(", ")+"]至少需要传入一个",n)))},f.verifyParamPresentJustOne=function(n,e,t){e&&(f.isString(e)&&(e=e.split(p)),f.isArray(e)&&1!==e.reduce(function(e,t){return f.exist(n[t])&&e++,e},0)&&f.onParamError("以下参数["+e.join(", ")+"]必须且只能传入一个",t))},f.verifyBooleanWithDefault=function(t,e,n,r,i){f.undef(n)&&(n=!0),p.test(e)&&(e=e.split(p)),f.isArray(e)?e.forEach(function(e){f.verifyBooleanWithDefault(t,e,n,r,i)}):void 0===t[e]?t[e]=n:f.isBoolean(t[e])||f.onParamInvalidType(e,"boolean",r,i)},f.verifyFileInput=function(e,t){return f.verifyParamPresent("fileInput",e,"",t),f.isString(e)&&((e=document.getElementById(e))||f.onParamError("找不到要上传的文件对应的input, 请检查fileInput id "+e,t)),e.tagName&&"input"===e.tagName.toLowerCase()&&"file"===e.type.toLowerCase()||f.onParamError("请提供正确的 fileInput, 必须为 file 类型的 input 节点 tagname:"+e.tagName+", filetype:"+e.type,t),e},f.verifyFileType=function(e,t){f.verifyParamValid("type",e,f.validFileTypes,t)},f.verifyCallback=function(t,e,n){p.test(e)&&(e=e.split(p)),f.isArray(e)?e.forEach(function(e){f.verifyCallback(t,e,n)}):t[e]?f.isFunction(t[e])||f.onParamInvalidType(e,"function","",n):t[e]=f.emptyFunc},f.verifyFileUploadCallback=function(e,t){f.verifyCallback(e,"uploadprogress uploaddone uploaderror uploadcancel",t)},f.validFileTypes=["image","audio","video","file"],f.validFileExts={image:["bmp","gif","jpg","jpeg","jng","png","webp"],audio:["mp3","wav","aac","wma","wmv","amr","mp2","flac","vorbis","ac3"],video:["mp4","rm","rmvb","wmv","avi","mpg","mpeg"]},f.filterFiles=function(e,t){var n,r,i="file"===(t=t.toLowerCase()),o=[];return[].forEach.call(e,function(e){i?o.push(e):(n=e.name.slice(e.name.lastIndexOf(".")+1),(r=e.type.split("/"))[0]&&r[1]&&(r[0].toLowerCase()===t||-1!==f.validFileExts[t].indexOf(n))&&o.push(e))}),o};var h,m,g=f.supportFormData=f.notundef(d.FormData);f.getFileName=function(e){return e=f.verifyFileInput(e),g?e.files[0].name:e.value.slice(e.value.lastIndexOf("\\")+1)},f.getFileInfo=(h={ppt:1,pptx:2,pdf:3},function(e){var t={};if(!(e=f.verifyFileInput(e)).files)return t;var n=e.files[0];return g&&(t.name=n.name,t.size=n.size,t.type=n.name.match(/\.(\w+)$/),t.type=t.type&&t.type[1].toLowerCase(),t.transcodeType=h[t.type]||0),t}),f.sizeText=(m=["B","KB","MB","GB","TB","PB","EB","ZB","BB"],function(e){for(var t,n=0;t=(e=Math.floor(100*e)/100)+m[n],n++,1<(e/=1024););return t}),f.promises2cmds=function(e){return e.map(function(e){return e.cmd})},f.objs2accounts=function(e){return e.map(function(e){return e.account})},f.teams2ids=function(e){return e.map(function(e){return e.teamId})},f.objs2ids=function(e){return e.map(function(e){return e.id})},f.getMaxUpdateTime=function(e){var t=e.map(function(e){return+e.updateTime});return Math.max.apply(Math,t)},f.genCheckUniqueFunc=function(r,e){return r=r||"id",e=e||1e3,function(e){this.uniqueSet=this.uniqueSet||{},this.uniqueSet[r]=this.uniqueSet[r]||{};var t=this.uniqueSet[r],n=e[r];return!t[n]&&(t[n]=!0)}},f.fillPropertyWithDefault=function(e,t,n){return!!f.undef(e[t])&&(e[t]=n,!0)},e.exports=f},,,,,function(e,t,n){"use strict";var s={info:{hash:"af8ed7e88a082fbb75005d2566cc8fd38f199f5d",shortHash:"af8ed7e8",version:"5.9.1",sdkVersion:"52",nrtcVersion:"4.4.0",nrtcSdkVersion:"1",protocolVersion:1},agentVersion:"2.8.0.906",lbsUrl:"https://lbs.netease.im/lbs/webconf.jsp",roomserver:"roomserver.netease.im",connectTimeout:8e3,xhrTimeout:8e3,socketTimeout:8e3,reconnectionDelay:1600,reconnectionDelayMax:8e3,reconnectionJitter:.01,reconnectiontimer:null,heartbeatInterval:8e3,cmdTimeout:8e3,defaultReportUrl:"https://dr.netease.im/1.gif",isWeixinApp:!1,isNodejs:!1,isRN:!1,PUSHTOKEN:"",PUSHCONFIG:{},CLIENTTYPE:16,PushPermissionAsked:!1,iosPushConfig:null,androidPushConfig:null,netDetectAddr:"https://roomserver-dev.netease.im/v1/sdk/detect/local",weixinNetcall:{checkSumUrl:"https://nrtc.netease.im/demo/getChecksum.action",getChannelInfoUrl:"https://nrtc.netease.im/nrtc/getChannelInfos.action"},formatSocketUrl:function(e){var t=e.url,n=e.secure?"https":"http";return-1===t.indexOf("http")?n+"://"+t:t},uploadUrl:"https://nos.netease.com",replaceUrl:"https://{bucket}-nosdn.netease.im/{object}",downloadHost:"nos.netease.com",downloadUrl:"https://{bucket}-nosdn.netease.im/{object}",httpsEnabled:!1,threshold:0,genUploadUrl:function(e){return s.uploadUrl+"/"+e},genDownloadUrl:function(e,t){var n=e.bucket,r=(e.tag,e.expireSec),i=+new Date,o=r?"&survivalTime="+r:"",a=s.replaceUrl+"?createTime="+i+o;return/^http/.test(a)?s.httpsEnabled&&(a=a.replace("http","https")):a=s.httpsEnabled?"https://"+a:"http://"+a,a.replace("{bucket}",n).replace("{object}",t)}};e.exports=s},function(e,t,n){var r=n(41)("wks"),i=n(28),o=n(8).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(110)),i=a(n(100)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,p="~";function u(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(){this._events=new u,this._eventsCount=0}Object.create&&(u.prototype=Object.create(null),(new u).__proto__||(p=!1)),i.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(p?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(e,t){var n=p?p+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},i.prototype.emit=function(e,t,n,r,i,o){var a=p?p+e:e;if(!this._events[a])return!1;var s,c,u=this._events[a],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,o),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var f,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,r);break;default:if(!s)for(f=1,s=new Array(l-1);f<l;f++)s[f-1]=arguments[f];u[c].fn.apply(u[c].context,s)}}return!0},i.prototype.on=function(e,t,n){var r=new o(t,n||this),i=p?p+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.once=function(e,t,n){var r=new o(t,n||this,!0),i=p?p+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.removeListener=function(e,t,n,r){var i=p?p+e:e;if(!this._events[i])return this;if(!t)return 0==--this._eventsCount?this._events=new u:delete this._events[i],this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||(0==--this._eventsCount?this._events=new u:delete this._events[i]);else{for(var a=0,s=[],c=o.length;a<c;a++)(o[a].fn!==t||r&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);s.length?this._events[i]=1===s.length?s[0]:s:0==--this._eventsCount?this._events=new u:delete this._events[i]}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=p?p+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new u:delete this._events[t])):(this._events=new u,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=p,i.EventEmitter=i,e.exports=i},function(e,j,F){"use strict";(function(e){Object.defineProperty(j,"__esModule",{value:!0}),j.url2origin=j.uniqueID=j.off=j.removeEventListener=j.on=j.addEventListener=j.format=j.regWhiteSpace=j.regBlank=j.emptyFunc=j.f=j.emptyObj=j.o=void 0;var t,n,r,i=(t=F(9))&&t.__esModule?t:{default:t};function o(){return"undefined"!=typeof window?window:void 0!==e?e:{}}function a(e,t){t=t||2;for(var n=""+e;n.length<t;)n="0"+n;return n}function s(e){return""+e.getFullYear()}function c(e){return a(e.getMonth()+1)}function u(e){return a(e.getDate())}function l(e){return a(e.getHours())}function f(e){return a(e.getMinutes())}function d(e){return a(e.getSeconds())}function p(e){return a(e.getMilliseconds(),3)}function h(e){return Object.prototype.toString.call(e).slice(8,-1)}function m(e){return h(e).toLowerCase()}function g(e){return"string"===m(e)}function v(e){return"array"===m(e)}function y(e){return"function"===m(e)}function b(e){return"date"===m(e)}function x(e){return null===e}function w(e){return null!==e}function _(e){return void 0===e}function M(e){return void 0!==e}function T(e){return M(e)&&w(e)}function S(e){return _(e)||x(e)}function U(e){return T(e)&&"object"===m(e)}j.getGlobal=o,j.detectCSSFeature=function(e){var t=!1,n="Webkit Moz ms O".split(" "),r=document.createElement("div"),i=null;if(e=e.toLowerCase(),void 0!==r.style[e]&&(t=!0),!1===t){i=e.charAt(0).toUpperCase()+e.substr(1);for(var o=0;o<n.length;o++)if(void 0!==r.style[n[o]+i]){t=!0;break}}return t},j.fix=a,j.getYearStr=s,j.getMonthStr=c,j.getDayStr=u,j.getHourStr=l,j.getMinuteStr=f,j.getSecondStr=d,j.getMillisecondStr=p,j.dateFromDateTimeLocal=function(e){return e=""+e,new Date(e.replace(/-/g,"/").replace("T"," "))},j.getClass=h,j.typeOf=m,j.isString=g,j.isNumber=function(e){return"number"===m(e)},j.isBoolean=function(e){return"boolean"===m(e)},j.isArray=v,j.isFunction=y,j.isDate=b,j.isRegExp=function(e){return"regexp"===m(e)},j.isError=function(e){return"error"===m(e)},j.isnull=x,j.notnull=w,j.undef=_,j.notundef=M,j.exist=T,j.notexist=S,j.isObject=U,j.isEmpty=function(e){return S(e)||(g(e)||v(e))&&0===e.length},j.containsNode=function(e,t){if(e===t)return!0;for(;t.parentNode;){if(t.parentNode===e)return!0;t=t.parentNode}return!1},j.calcHeight=function(e){var t=e.parentNode||document.body;(e=e.cloneNode(!0)).style.display="block",e.style.opacity=0,e.style.height="auto",t.appendChild(e);var n=e.offsetHeight;return t.removeChild(e),n},j.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},j.dataset=function(e,t,n){if(!T(n))return e.getAttribute("data-"+t);e.setAttribute("data-"+t,n)},j.target=function(e){return e.target||e.srcElement},j.createIframe=function(n){var r;if((n=n||{}).name)try{(r=document.createElement('<iframe name="'+n.name+'"></iframe>')).frameBorder=0}catch(e){(r=document.createElement("iframe")).name=n.name}else r=document.createElement("iframe");n.visible||(r.style.display="none"),y(n.onload)&&C(r,"load",function e(t){r.src&&(n.multi||O(r,"load",e),n.onload(t))}),(n.parent||document.body).appendChild(r);var e=n.src||"about:blank";return setTimeout(function(){r.src=e},0),r},j.html2node=function(e){var t=document.createElement("div");t.innerHTML=e;var n=[],r=void 0,i=void 0;if(t.children)for(r=0,i=t.children.length;r<i;r++)n.push(t.children[r]);else for(r=0,i=t.childNodes.length;r<i;r++){var o=t.childNodes[r];1===o.nodeType&&n.push(o)}return 1<n.length?t:n[0]},j.scrollTop=function(e){return T(e)&&(document.documentElement.scrollTop=document.body.scrollTop=e),window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},j.forOwn=I,j.mixin=R,j.isJSON=L,j.parseJSON=function n(r){try{L(r)&&(r=JSON.parse(r)),U(r)&&I(r,function(e,t){switch(m(t)){case"string":case"object":r[e]=n(t)}})}catch(n){console.error(n)}return r},j.simpleClone=function(e){var n=[],t=JSON.stringify(e,function(e,t){if("object"===(void 0===t?"undefined":(0,i.default)(t))&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t});return JSON.parse(t)},j.merge=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){R(t,e)}),t},j.fillUndef=function(n,e){return I(e,function(e,t){_(n[e])&&(n[e]=t)}),n},j.checkWithDefault=function(e,t,n){var r=e[t]||e[t.toLowerCase()];return S(r)&&(r=n,e[t]=r),r},j.fetch=function(n,r){return I(n,function(e,t){T(r[e])&&(n[e]=r[e])}),n},j.string2object=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:",",r={};return e.split(t).forEach(function(e){var t=e.split("="),n=t.shift();n&&(r[decodeURIComponent(n)]=decodeURIComponent(t.join("=")))}),r},j.object2string=N,j.genUrlSep=function(e){return e.indexOf("?")<0?"?":"&"},j.object2query=function(e){return N(e,"&",!0)},j.isFileInput=D,j.getKeys=function(r,e){var t=Object.keys(r);return e&&t.sort(function(e,t){var n=D(r[e]);return n===D(r[t])?0:n?1:-1}),t},j.o={},j.emptyObj={},j.f=function(){},j.emptyFunc=function(){},j.regBlank=/\s+/gi,j.regWhiteSpace=/\s+/gi,j.format=(n=/yyyy|MM|dd|hh|mm|ss|SSS/g,r={yyyy:s,MM:c,dd:u,hh:l,mm:f,ss:d,SSS:p},function(t,e){return t=new Date(t),isNaN(+t)?"invalid date":(e=e||"yyyy-MM-dd").replace(n,function(e){return r[e](t)})});var k,P,E=j.addEventListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},C=j.on=E,A=j.removeEventListener=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},O=j.off=A;function I(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments[2];for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])}function R(n,e){I(e,function(e,t){n[e]=t})}function L(e){return g(e)&&0===e.indexOf("{")&&e.lastIndexOf("}")===e.length-1}function N(e,t,n){if(!e)return"";var r=[];return I(e,function(e,t){y(t)||(b(t)?t=t.getTime():v(t)?t=t.join(","):U(t)&&(t=JSON.stringify(t)),n&&(t=encodeURIComponent(t)),r.push(encodeURIComponent(e)+"="+t))}),r.join(t||",")}function D(e){var t=o();return e.tagName&&"INPUT"===e.tagName.toUpperCase()||t.Blob&&e instanceof t.Blob}j.uniqueID=(k=0,function(){return""+k++}),j.url2origin=(P=/^([\w]+?:\/\/.*?(?=\/|$))/i,function(e){return P.test(e||"")?RegExp.$1.toLowerCase():""})}).call(this,F(30))},function(e,t,n){var r=n(15),i=n(62),o=n(43),a=Object.defineProperty;t.f=n(14)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(18);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var m=n(8),g=n(7),v=n(36),y=n(19),b=n(13),x=function(e,t,n){var r,i,o,a=e&x.F,s=e&x.G,c=e&x.S,u=e&x.P,l=e&x.B,f=e&x.W,d=s?g:g[t]||(g[t]={}),p=d.prototype,h=s?m:c?m[t]:(m[t]||{}).prototype;for(r in s&&(n=t),n)(i=!a&&h&&void 0!==h[r])&&b(d,r)||(o=i?h[r]:n[r],d[r]=s&&"function"!=typeof h[r]?n[r]:l&&i?v(o,m):f&&h[r]==o?function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e.prototype=r.prototype,e}(o):u&&"function"==typeof o?v(Function.call,o):o,u&&((d.virtual||(d.virtual={}))[r]=o,e&x.R&&p&&!p[r]&&y(p,r,o)))};x.F=1,x.G=2,x.S=4,x.P=8,x.B=16,x.W=32,x.U=64,x.R=128,e.exports=x},function(e,t,n){var r=n(59),i=n(44);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(12),i=n(26);e.exports=n(14)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(r,e,i){"use strict";(function(n){var e,z=(e=i(9))&&e.__esModule?e:{default:e},t=function(){var R="object"===(void 0===n?"undefined":(0,z.default)(n))?n:window,o=Math.pow(2,53)-1,L=/\bOpera/,e=Object.prototype,r=e.hasOwnProperty,N=e.toString;function t(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function D(e){return e=B(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:t(e)}function j(e,t){for(var n in e)r.call(e,n)&&t(e[n],n,e)}function F(e){return null==e?t(e):N.call(e).slice(8,-1)}function V(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function Y(n,r){var i=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&-1<r&&r<=o)for(;++n<r;)t(e[n],n);else j(e,t)}(n,function(e,t){i=r(i,e,t,n)}),i}function B(e){return String(e).replace(/^ +| +$/g,"")}return function e(s){var t=R,n=s&&"object"===(void 0===s?"undefined":(0,z.default)(s))&&"String"!=F(s);n&&(t=s,s=null);var r=t.navigator||{},i=r.userAgent||"";s||(s=i);var o,a,c,u,l=n?!!r.likeChrome:/\bChrome\b/.test(s)&&!/internal|\n/i.test(N.toString()),f=n?"Object":"ScriptBridgingProxyObject",d=n?"Object":"Environment",p=n&&t.java?"JavaPackage":F(t.java),h=n?"Object":"RuntimeObject",m=/\bJava/.test(p)&&t.java,g=m&&F(t.environment)==d,v=m?"a":"α",y=m?"b":"β",b=t.document||{},x=t.operamini||t.opera,w=L.test(w=n&&x?x["[[Class]]"]:F(x))?w:x=null,_=s,M=[],T=null,S=s==i,U=S&&x&&"function"==typeof x.version&&x.version(),k=Y([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||V(t))+"\\b","i").exec(s)&&(t.label||t)}),P=Y(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||V(t))+"\\b","i").exec(s)&&(t.label||t)}),E=O([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),C=Y({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(e,t,n){return e||(t[E]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(E)]||RegExp("\\b"+V(n)+"(?:\\b|\\w*\\d)","i").exec(s))&&n}),A=Y(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var n,r,i,o,a=t.pattern||V(t);return!e&&(e=RegExp("\\b"+a+"(?:/[\\d.]+|[ \\w.]*)","i").exec(s))&&(n=e,r=a,i=t.label||t,o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},r&&i&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(o=o[/[\d.]+$/.exec(n)])&&(n="Windows "+o),n=String(n),r&&i&&(n=n.replace(RegExp(r,"i"),i)),e=D(n.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e});function O(e){return Y(e,function(e,t){var n=t.pattern||V(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(s)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(s)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(s))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=D(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(k&&(k=[k]),C&&!E&&(E=O([C])),(o=/\bGoogle TV\b/.exec(E))&&(E=o[0]),/\bSimulator\b/i.test(s)&&(E=(E?E+" ":"")+"Simulator"),"Opera Mini"==P&&/\bOPiOS\b/.test(s)&&M.push("running in Turbo/Uncompressed mode"),"IE"==P&&/\blike iPhone OS\b/.test(s)?(C=(o=e(s.replace(/like iPhone OS/,""))).manufacturer,E=o.product):/^iP/.test(E)?(P||(P="Safari"),A="iOS"+((o=/ OS ([\d_]+)/i.exec(s))?" "+o[1].replace(/_/g,"."):"")):"Konqueror"!=P||/buntu/i.test(A)?C&&"Google"!=C&&(/Chrome/.test(P)&&!/\bMobile Safari\b/i.test(s)||/\bVita\b/.test(E))||/\bAndroid\b/.test(A)&&/^Chrome/.test(P)&&/\bVersion\//i.test(s)?(P="Android Browser",A=/\bAndroid\b/.test(A)?A:"Android"):"Silk"==P?(/\bMobi/i.test(s)||(A="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(s)&&M.unshift("accelerated")):"PaleMoon"==P&&(o=/\bFirefox\/([\d.]+)\b/.exec(s))?M.push("identifying as Firefox "+o[1]):"Firefox"==P&&(o=/\b(Mobile|Tablet|TV)\b/i.exec(s))?(A||(A="Firefox OS"),E||(E=o[1])):!P||(o=!/\bMinefield\b/i.test(s)&&/\b(?:Firefox|Safari)\b/.exec(P))?(P&&!E&&/[\/,]|^[^(]+?\)/.test(s.slice(s.indexOf(o+"/")+8))&&(P=null),(o=E||C||A)&&(E||C||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(A))&&(P=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(A)?A:o)+" Browser")):"Electron"==P&&(o=(/\bChrome\/([\d.]+)\b/.exec(s)||0)[1])&&M.push("Chromium "+o):A="Kubuntu",U||(U=Y(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",V(P),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(s)||0)[1]||null})),(o=("iCab"==k&&3<parseFloat(U)?"WebKit":/\bOpera\b/.test(P)&&(/\bOPR\b/.test(s)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(s)&&!/^(?:Trident|EdgeHTML)$/.test(k)&&"WebKit"||!k&&/\bMSIE\b/i.test(s)&&("Mac OS"==A?"Tasman":"Trident")||"WebKit"==k&&/\bPlayStation\b(?! Vita\b)/i.test(P)&&"NetFront")&&(k=[o]),"IE"==P&&(o=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(s)||0)[1])?(P+=" Mobile",A="Windows Phone "+(/\+$/.test(o)?o:o+".x"),M.unshift("desktop mode")):/\bWPDesktop\b/i.test(s)?(P="IE Mobile",A="Windows Phone 8.x",M.unshift("desktop mode"),U||(U=(/\brv:([\d.]+)/.exec(s)||0)[1])):"IE"!=P&&"Trident"==k&&(o=/\brv:([\d.]+)/.exec(s))&&(P&&M.push("identifying as "+P+(U?" "+U:"")),P="IE",U=o[1]),S){if("global",u=null!=(c=t)?(0,z.default)(c.global):"number",/^(?:boolean|number|string|undefined)$/.test(u)||"object"==u&&!c.global)F(o=t.runtime)==f?(P="Adobe AIR",A=o.flash.system.Capabilities.os):F(o=t.phantom)==h?(P="PhantomJS",U=(o=o.version||null)&&o.major+"."+o.minor+"."+o.patch):"number"==typeof b.documentMode&&(o=/\bTrident\/(\d+)/i.exec(s))?(U=[U,b.documentMode],(o=+o[1]+4)!=U[1]&&(M.push("IE "+U[1]+" mode"),k&&(k[1]=""),U[1]=o),U="IE"==P?String(U[1].toFixed(1)):U[0]):"number"==typeof b.documentMode&&/^(?:Chrome|Firefox)\b/.test(P)&&(M.push("masking as "+P+" "+U),P="IE",U="11.0",k=["Trident"],A="Windows");else if(m&&(_=(o=m.lang.System).getProperty("os.arch"),A=A||o.getProperty("os.name")+" "+o.getProperty("os.version")),g){try{U=t.require("ringo/engine").version.join("."),P="RingoJS"}catch(e){(o=t.system)&&o.global.system==t.system&&(P="Narwhal",A||(A=o[0].os||null))}P||(P="Rhino")}else"object"===(0,z.default)(t.process)&&!t.process.browser&&(o=t.process)&&("object"===(0,z.default)(o.versions)&&("string"==typeof o.versions.electron?(M.push("Node "+o.versions.node),P="Electron",U=o.versions.electron):"string"==typeof o.versions.nw&&(M.push("Chromium "+U,"Node "+o.versions.node),P="NW.js",U=o.versions.nw)),P||(P="Node.js",_=o.arch,A=o.platform,U=(U=/[\d.]+/.exec(o.version))?U[0]:null));A=A&&D(A)}if(U&&(o=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(U)||/(?:alpha|beta)(?: ?\d)?/i.exec(s+";"+(S&&r.appMinorVersion))||/\bMinefield\b/i.test(s)&&"a")&&(T=/b/i.test(o)?"beta":"alpha",U=U.replace(RegExp(o+"\\+?$"),"")+("beta"==T?y:v)+(/\d+\+?/.exec(o)||"")),"Fennec"==P||"Firefox"==P&&/\b(?:Android|Firefox OS)\b/.test(A))P="Firefox Mobile";else if("Maxthon"==P&&U)U=U.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(E))"Xbox 360"==E&&(A=null),"Xbox 360"==E&&/\bIEMobile\b/.test(s)&&M.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(P)&&(!P||E||/Browser|Mobi/.test(P))||"Windows CE"!=A&&!/Mobi/i.test(s))if("IE"==P&&S)try{null===t.external&&M.unshift("platform preview")}catch(e){M.unshift("embedded")}else(/\bBlackBerry\b/.test(E)||/\bBB10\b/.test(s))&&(o=(RegExp(E.replace(/ +/g," *")+"/([.\\d]+)","i").exec(s)||0)[1]||U)?(A=((o=[o,/BB10/.test(s)])[1]?(E=null,C="BlackBerry"):"Device Software")+" "+o[0],U=null):this!=j&&"Wii"!=E&&(S&&x||/Opera/.test(P)&&/\b(?:MSIE|Firefox)\b/i.test(s)||"Firefox"==P&&/\bOS X (?:\d+\.){2,}/.test(A)||"IE"==P&&(A&&!/^Win/.test(A)&&5.5<U||/\bWindows XP\b/.test(A)&&8<U||8==U&&!/\bTrident\b/.test(s)))&&!L.test(o=e.call(j,s.replace(L,"")+";"))&&o.name&&(o="ing as "+o.name+((o=o.version)?" "+o:""),L.test(P)?(/\bIE\b/.test(o)&&"Mac OS"==A&&(A=null),o="identify"+o):(o="mask"+o,P=w?D(w.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(o)&&(A=null),S||(U=null)),k=["Presto"],M.push(o));else P+=" Mobile";(o=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(s)||0)[1])&&(o=[parseFloat(o.replace(/\.(\d)$/,".0$1")),o],"Safari"==P&&"+"==o[1].slice(-1)?(P="WebKit Nightly",T="alpha",U=o[1].slice(0,-1)):U!=o[1]&&U!=(o[2]=(/\bSafari\/([\d.]+\+?)/i.exec(s)||0)[1])||(U=null),o[1]=(/\bChrome\/([\d.]+)/i.exec(s)||0)[1],537.36==o[0]&&537.36==o[2]&&28<=parseFloat(o[1])&&"WebKit"==k&&(k=["Blink"]),o=S&&(l||o[1])?(k&&(k[1]="like Chrome"),o[1]||((o=o[0])<530?1:o<532?2:o<532.05?3:o<533?4:o<534.03?5:o<534.07?6:o<534.1?7:o<534.13?8:o<534.16?9:o<534.24?10:o<534.3?11:o<535.01?12:o<535.02?"13+":o<535.07?15:o<535.11?16:o<535.19?17:o<536.05?18:o<536.1?19:o<537.01?20:o<537.11?"21+":o<537.13?23:o<537.18?24:o<537.24?25:o<537.36?26:"Blink"!=k?"27":"28")):(k&&(k[1]="like Safari"),(o=o[0])<400?1:o<500?2:o<526?3:o<533?4:o<534?"4+":o<535?5:o<537?6:o<538?7:o<601?8:"8"),k&&(k[1]+=" "+(o+="number"==typeof o?".x":/[.+]/.test(o)?"":"+")),"Safari"==P&&(!U||45<parseInt(U))&&(U=o)),"Opera"==P&&(o=/\bzbov|zvav$/.exec(A))?(P+=" ",M.unshift("desktop mode"),"zvav"==o?(P+="Mini",U=null):P+="Mobile",A=A.replace(RegExp(" *"+o+"$"),"")):"Safari"==P&&/\bChrome\b/.exec(k&&k[1])&&(M.unshift("desktop mode"),P="Chrome Mobile",U=null,A=/\bOS X\b/.test(A)?(C="Apple","iOS 4.3+"):null),U&&0==U.indexOf(o=/[\d.]+$/.exec(A))&&-1<s.indexOf("/"+o+"-")&&(A=B(A.replace(o,""))),k&&!/\b(?:Avant|Nook)\b/.test(P)&&(/Browser|Lunascape|Maxthon/.test(P)||"Safari"!=P&&/^iOS/.test(A)&&/\bSafari\b/.test(k[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(P)&&k[1])&&(o=k[k.length-1])&&M.push(o),M.length&&(M=["("+M.join("; ")+")"]),C&&E&&E.indexOf(C)<0&&M.push("on "+C),E&&M.push((/^on /.test(M[M.length-1])?"":"on ")+E),A&&(o=/ ([\d.+]+)$/.exec(A),a=o&&"/"==A.charAt(A.length-o[0].length-1),A={architecture:32,family:o&&!a?A.replace(o[0],""):A,version:o?o[1]:null,toString:function(){var e=this.version;return this.family+(e&&!a?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(o=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(_))&&!/\bi686\b/i.test(_)?(A&&(A.architecture=64,A.family=A.family.replace(RegExp(" *"+o),"")),P&&(/\bWOW64\b/i.test(s)||S&&/\w(?:86|32)$/.test(r.cpuClass||r.platform)&&!/\bWin64; x64\b/i.test(s))&&M.unshift("32-bit")):A&&/^OS X/.test(A.family)&&"Chrome"==P&&39<=parseFloat(U)&&(A.architecture=64),s||(s=null);var I={};return I.description=s,I.layout=k&&k[0],I.manufacturer=C,I.name=P,I.prerelease=T,I.product=E,I.ua=s,I.version=P&&U,I.os=A||{architecture:null,family:null,version:null,toString:function(){return"null"}},I.parse=e,I.toString=function(){return this.description||""},I.version&&M.unshift(U),I.name&&M.unshift(P),A&&P&&(A!=String(A).split(" ")[0]||A!=P.split(" ")[0]&&!E)&&M.push(E?"("+A+")":"on "+A),M.length&&(I.description=M.join(" ")),I}()}();r.exports=t}).call(this,i(30))},function(e,t){e.exports={}},,function(e,t,n){"use strict";var r=n(50),i=n(56),o=(n(25),n(5)),a=n(0),s=a.undef,c=n(171),u=n(84).getInstance("IM"),l=n(117);function f(e){a.verifyOptions(e,"appKey account token","protocol::IMProtocol"),a.verifyCallback(e,["onconnect","onerror","onwillreconnect","ondisconnect","onloginportschange","onmyinfo","onblacklist","onmutelist","onfriends","onusers","onrobots","onteams","onsessions","onroamingmsgs","onofflinemsgs","onofflinefiltermsgs","onroamingsysmsgs","onofflinesysmsgs","onofflinefiltersysmsgs","onofflinecustomsysmsgs","onofflinefiltercustomsysmsgs","onbroadcastmsg","onbroadcastmsgs","onsysmsgunread","onsyncdone","onteammembers","onsyncteammembersdone","onmsg","onsysmsg","oncustomsysmsg","onupdatemyinfo","onupdateuser","onupdateteammember","onCreateTeam","onUpdateTeam","onAddTeamMembers","onRemoveTeamMembers","onUpdateTeamManagers","onDismissTeam","onTransferTeam","onUpdateTeamMembersMute","onTeamMsgReceipt","onupdatesession","onupdatesysmsgunread","onupdatesysmsg","onsynccreateteam","onsyncmarkinblacklist","onsyncmarkinmutelist","onsyncfriendaction","shouldIgnoreNotification","shouldCountNotifyUnread","onPushNotificationMultiportConfig","onPushNotificationMultiportConfigUpdate","onpushevents"],"protocol::IMProtocol"),this.db=e.api.db=new r({logger:e.logger}),i.call(this,e)}var d=i.fn,p=f.fn=f.prototype=Object.create(d);p.init=function(){d.init.call(this),this.socketUrls=[],this.parser=u,this.syncing=!0,this.hasSynced=!1,this.hasSyncedTeamMembers=!1,this.syncPromiseArray=[],this.syncResult={},this.syncTeamMembersPromiseArray=[],this.syncTeamMembersResult={},this.timetags={},this.sysMsgUnread=l.completeUnread({}),this.resetUnsettledMsgs(),this.resetUnsettledSysMsgs(),this.msgPromise=Promise.resolve(),this.sysMsgPromise=Promise.resolve(),this.sessionSet={},this.msgReceiptTasks={},this.userSet={},this.pushNotificationMultiportConfig=c.getDefaultConfig()},p.reset=function(){d.reset.call(this);var e=this.options;this.db.reset(e.db),s(e.lbsUrl)&&(e.lbsUrl=o.lbsUrl),this.resetAutoMarkRead()},p.resetAutoMarkRead=function(){var e=this.options;a.verifyBooleanWithDefault(e,"autoMarkRead",!0,"","protocol::resetAutoMarkRead")},p.resetUnsettledMsgs=function(){this.unhandledMsgs=[],this.unupdatedMsgs=[]},p.resetUnsettledSysMsgs=function(){this.unhandledSysMsgs=[],this.unupdatedSysMsgs=[]},p.packetFromSync=function(e){return!e.obj||!!e.obj.sync},e.exports=f,n(456),n(455),n(454),n(448),n(446),n(445),n(444),n(443),n(442),n(441),n(440),n(439),n(438),n(437),n(436),n(435),n(434)},function(e,t,n){"use strict";var r,i=(r=n(9))&&r.__esModule?r:{default:r};function o(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.message=e||n.message||"","object"===(void 0===t?"undefined":(0,i.default)(t))?(this.event=t,this.code="Other_Error"):void 0!==t&&(this.code=t),this.timetag=+new Date,void 0!==n&&(this.event=n),this.event&&(this.callFunc=this.event.callFunc||null,delete this.event.callFunc)}(o.prototype=Object.create(Error.prototype)).name="NIMError";var a={201:"客户端版本不对, 需升级sdk",302:"用户名或密码错误, 请检查appKey和token是否有效, account和token是否匹配",403:"非法操作或没有权限",404:"对象(用户/群/聊天室)不存在",405:"参数长度过长",408:"客户端请求超时",414:"参数错误",415:"服务不可用/没有聊天室服务器可分配",416:"频率控制",417:"重复操作",422:"帐号被禁用",500:"服务器内部错误",501:"数据库操作失败",503:"服务器繁忙",508:"删除有效期过了",509:"已失效",7101:"被拉黑",801:"群人数达到上限",802:"没有权限",803:"群不存在或未发生变化",804:"用户不在群里面",805:"群类型不匹配",806:"创建群数量达到限制",807:"群成员状态不对",809:"已经在群里",811:"强推列表中帐号数量超限",812:"群被禁言",813:"因群数量限制，部分拉人成功",814:"禁止使用群组消息已读服务",815:"群管理员人数上限",997:"协议已失效",998:"解包错误",999:"打包错误",9102:"通道失效",9103:"已经在其他端接听/拒绝过这通电话",11001:"对方离线, 通话不可送达",13002:"聊天室状态异常",13003:"在黑名单中",13004:"在禁言名单中",13006:"聊天室处于整体禁言状态,只有管理员能发言",Connect_Failed:"无法建立连接, 请确保能 ping/telnet 到云信服务器; 如果是IE8/9, 请确保项目部署在 HTTPS 环境下",Error_Internet_Disconnected:"网断了",Error_Connection_is_not_Established:"连接未建立",Error_Connection_Socket_State_not_Match:"socket状态不对",Error_Timeout:"超时",Param_Error:"参数错误",No_File_Selected:"请选择文件",Wrong_File_Type:"文件类型错误",File_Too_Large:"文件过大",Cross_Origin_Iframe:"不能获取跨域Iframe的内容",Not_Support:"不支持",NO_DB:"无数据库",DB:"数据库错误",Still_In_Team:"还在群里",Session_Exist:"会话已存在",Session_Not_Exist:"会话不存在",Error_Unknown:"未知错误",Operation_Canceled:"操作取消"};[200,406,808,810].forEach(function(e){a[e]=null}),o.genError=function(e){var t=a[e];return void 0===t&&(t="操作失败"),null===t?null:new o(t,e)},o.multiInstance=function(e){return new o("不允许初始化多个实例","Not_Allow_Multi_Instance",e)},o.newNetworkError=function(e){var t="Error_Internet_Disconnected";return new o(a[t],t,e)},o.newConnectError=function(e){var t="Connect_Failed";return new o(a[t]||null,t,e)},o.newConnectionError=function(e){var t="Error_Connection_is_not_Established";return new o(a[t],t,e)},o.newSocketStateError=function(e){var t="Error_Connection_Socket_State_not_Match";return new o(a[t],t,e)},o.newTimeoutError=function(e){var t="Error_Timeout";return new o(a[t],t,e)},o.newFrequencyControlError=function(e){var t=new o(a[416],416,e);return t.from="local",t},o.newParamError=function(e,t){return new o(e||a.Param_Error,"Param_Error",t)},o.newNoFileError=function(e,t){var n="No_File_Selected";return new o(e||a[n],n,t)},o.newWrongFileTypeError=function(e,t){var n="Wrong_File_Type";return new o(e||a[n],n,t)},o.newFileTooLargeError=function(e,t){var n="File_Too_Large";return new o(e||a[n],n,t)},o.newCORSIframeError=function(e){var t="Cross_Origin_Iframe";return new o(a[t],t,e)},o.newSupportError=function(e,t,n){return new o("不支持"+e,"Not_Support_"+t,n)},o.newSupportDBError=function(e){return o.newSupportError("数据库","DB",e)},o.noDBError=function(e){return new o(a.NO_DB,"NO_DB",e)},o.newDBError=function(e){return new o(a.DB,"DB",e)},o.newUnknownError=function(e){var t="Error_Unknown";return new o(a[t],t,e)},o.stillInTeamError=function(e){var t="Still_In_Team";return new o(a[t],t,e)},o.sessionExist=function(e){var t="Session_Exist";return new o(a[t],t,e)},o.sessionNotExist=function(e){var t="Session_Not_Exist";return new o(a[t],t,e)},o.cancel=function(e){var t="Operation_Canceled";return new o(a[t],t,e)},o.customError=function(e,t){e=e||"Other_Error";var n="";return(t=t||{}).message||(n=a[e]||e),"object"!==(void 0===e?"undefined":(0,i.default)(e))?new o(n,e,t):new o(n,"Other_Error",void 0===t?e:t)},e.exports=o},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(60),i=n(40);e.exports=Object.keys||function(e){return r(e,i)}},function(zke,Ake){var Bke;Bke=function(){return this}();try{Bke=Bke||Function("return this")()||eval("this")}catch(zke){"object"==typeof window&&(Bke=window)}zke.exports=Bke},function(e,t,n){"use strict";var r=n(46),i=n(24),o=n(5),a=n(433),s=n(84).getInstance("IM");function c(e){return this.subType="im",this.nosScene=e.nosScene||"im",this.nosSurvivalTime=e.nosSurvivalTime,e.Protocol=i,e.Message=a,e.constructor=c,this.init(e)}c.Protocol=i,c.parser=s,c.use=r.use,c.getInstance=r.getInstance,c.rmAllInstances=r.rmAllInstances,c.genInstanceName=function(e){return"NIM-account-"+e.account};var u=c.fn=c.prototype=Object.create(r.prototype);c.info=u.info=o.info,e.exports=c,n(423),n(422),n(421),n(420),n(419),n(418),n(417),n(416),n(415),n(414),n(413),n(412),n(411),n(410),n(409),n(408),n(407)},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},,function(e,t,n){var r=n(12).f,i=n(13),o=n(6)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){e.exports=!0},function(e,t,n){var o=n(55);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(8),i=n(7),o=n(35),a=n(39),s=n(12).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(6)},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(8),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(41)("keys"),i=n(28);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var i=n(18);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){"use strict";var r,i=(r=n(9))&&r.__esModule?r:{default:r},o=n(10),d=n(0),p=d.notundef,a=n(260),s=n(5);function c(){}var u={};c.getInstance=function(e){e=f(e),d.verifyOptions(e,"account","api::Base.getInstance");var t=this.genInstanceName(e),n=u[t];return n?c.updateInstance(n,e):n=u[t]=new this(e),n},c.updateInstance=function(e,t){e.setOptions(t),e.connect()};var l=c.fn=c.prototype=Object.create(new o),f=function(e){return e.nosSurvivalTime?(d.verifyParamType("nosSurvivalTime",e.nosSurvivalTime,"number","api::Base.getInstance"),d.verifyParamMin("nosSurvivalTime",e.nosSurvivalTime,86400,"api::Base.getInstance")):e.nosSurvivalTime=1/0,e};l.updatePrivateConf=function(e){if(e&&"object"===(0,i.default)(e.privateConf)){var t=e.privateConf;"string"==typeof t.lbs_web&&(e.lbsUrl=t.lbs_web),"boolean"==typeof t.link_ssl_web&&(e.secure=t.link_ssl_web),"boolean"==typeof t.https_enabled&&(e.httpsEnabled=t.https_enabled),e.uploadUrl=t.nos_uploader_web?t.nos_uploader_web:null,e.replaceUrl=t.nos_downloader?t.nos_downloader:null,e.downloadUrl=t.nos_accelerate?t.nos_accelerate:null,e.downloadHost=t.nos_accelerate_host?t.nos_accelerate_host:null,e.ntServerAddress=t.nt_server}return null===e.ntServerAddress||""===e.ntServerAddress?s.ntServerAddress=null:s.ntServerAddress=e.ntServerAddress||s.defaultReportUrl,s.uploadUrl=e.uploadUrl||s.uploadUrl,s.downloadUrl=e.downloadUrl||s.downloadUrl,s.downloadHost=e.downloadHost||s.downloadHost,s.replaceUrl=e.replaceUrl||s.replaceUrl,s.httpsEnabled=e.httpsEnabled||s.httpsEnabled,e},l.init=function(e){d.verifyOptions(e,"account","api::Base.init"),e=this.updatePrivateConf(e);var t=this.account=e.account=e.account+"",n=e.constructor.genInstanceName(e),r=u[n];if(e._disableSingleton&&(r=null),r)return c.updateInstance(r,e),r;this.name=n,(u[n]=this).logger=e.logger=new a({debug:e.debug,logFunc:e.logFunc,prefix:this.subType});var i=(e.api=this).protocol=new e.Protocol(e);return i.name="Protocol-"+n,i.account=t,i.api=this,i.message=this.message=new e.Message({account:t}),this.options=d.copy(e),this.reset(),this},l.destroy=function(t){t=t||{};var n=this.name;this.protocol&&this.protocol.resetPush&&this.protocol.resetPush();var r=this;this.disconnect({done:function(e){r.logger.warn("ApiBase::destroy: instance destroyed ..."),Object.getOwnPropertyNames(r).forEach(function(e){delete r[e]}),u&&(delete u[n],u[n]=null),t.done instanceof Function&&t.done(e)}})},l.reset=function(){var e=this.updatePrivateConf(this.options);d.verifyBooleanWithDefault(e,"exifOrientation",!0,"","api::Base.reset")},l.setOptions=function(e){this.reset(),this.protocol.setOptions(e)},l.processCallback=function(e,t){h(e,t)},l.processCallbackPromise=function(n,r){return new Promise(function(e,t){h(n,r,!0,e,t)})};var h=function(a,s,c,u,l){var f="api::processCallback";c&&(f="api::processCallbackPromise"),d.verifyCallback(a,"done",f),a.callback=function(e,t,n){var r=a.callback.options;if(t=t||r,s&&(t=r),d.isFunction(a.cbaop)){var i=a.cbaop(e,t);p(i)&&(t=i)}var o=a.done;d.isObject(t)&&(delete t.done,delete t.cb,delete t.callback),c?e?l({message:"生成接口回调错误",callFunc:f,event:e}):u(t):o(e,t,n)},a.callback.options=d.copy(a)};l.processPs=function(e){d.notexist(e.ps)&&(e.ps="")},l.processCustom=function(e){d.notexist(e.custom)&&(e.custom="")},l.sendCmd=function(){this.protocol.sendCmd.apply(this.protocol,arguments)},l.sendCmdWithResp=function(e,t,r){this.sendCmd(e,t,function(e,t,n){d.isFunction(r)&&(e?r(e,t):r(null,n))})},l.cbAndSendCmd=function(e,t){var n=this.processCallbackPromise(t);return this.sendCmd(e,t),n},l.sendCmdUsePromise=function(e,t){var n=this;return new Promise(function(i,o){n.sendCmd(e,t,function(e,t,n){if(e)o(e);else{var r=d.merge({},t,n);i(r)}})})},c.use=function(e,t){e&&e.install&&d.isFunction(e.install)&&e.install(this,t)},c.rmAllInstances=function(){for(var e in u)u[e].destroy();u={}},l.logout=function(e){this.protocol.shouldReconnect=!1,this.protocol.doLogout=!0,this.processCallback(e),this.sendCmd("logout",e,e.callback)},e.exports=c,n(259),n(258),n(255),n(254),n(253),n(252),n(251)},function(e,t,n){var r=n(44);e.exports=function(e){return Object(r(e))}},function(e,t,r){var i=r(15),o=r(106),a=r(40),s=r(42)("IE_PROTO"),c=function(){},u=function(){var e,t=r(52)("iframe"),n=a.length;for(t.style.display="none",r(76).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[a[n]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=i(e),n=new c,c.prototype=null,n[s]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t,n){"use strict";var r=n(108)(!0);n(63)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(469);r.fn=r.prototype,e.exports=r,n(466),n(465),n(464),n(463),n(462),n(461),n(460),n(459),n(458),n(457)},function(e,t,n){"use strict";var r=n(66),i=n(136),o=n(135);r.json=i,r.upload=o,e.exports=r},function(e,t,n){var r=n(18),i=n(8).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){"use strict";var r=n(0),i={init:function(){i.deviceId=r.guid()}};i.init(),i.clientTypeMap={1:"Android",2:"iOS",4:"PC",8:"WindowsPhone",16:"Web",32:"Server",64:"Mac"},i.db={open:function(){}},e.exports=i},function(e,t,n){n(103);for(var r=n(8),i=n(19),o=n(22),a=n(6)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],f=l&&l.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var a=n(0),r=n(5),s=n(25);function i(e){a.undef(e.secure)&&(e.secure=!0),this.options=a.copy(e),this.init(),this.connect()}var o=i.fn=i.prototype;o.init=function(){this.logger=this.options.logger,this.cmdTaskArray=[],this.timerMap={},this.cmdCallbackMap={},this.cmdContentMap={},this.initConnect(),this.reset()},o.reset=function(){this.resetConnect()},o.setOptions=function(e){var t=this.options,n=Object.keys(t),r=n.indexOf("account");-1!==r&&n.splice(r,1),e=a.filterObj(e,n),this.options=a.merge(t,e),this.reset()},o.sendCmd=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];this.heartbeat(),"heartbeat"!==e&&this.logger.warn("protocol::sendCmd: "+e,t);var r,i=e,o=(e=this.parser.createCmd(e,t)).SER;t=t||{},(this.cmdContentMap[o]=t).single&&(delete t.single,1===(r=Object.keys(t)).length&&(this.cmdContentMap[o]=t[r[0]])),t.NOTSTORE&&((r=t.NOTSTORE.split(" ")).forEach(function(e){delete t[e]}),delete t.NOTSTORE),(n=n||t.callback)&&(this.cmdCallbackMap[o]=n),this.cmdTaskArray.push({cmdName:i,cmd:JSON.stringify(e)}),this.startCmdTaskTimer()},o.startCmdTaskTimer=function(){var t=this;t.cmdTaskTimer||(t.cmdTaskTimer=setTimeout(function(){var e=t.cmdTaskArray.shift();t.cmdTaskTimer=null,e&&t.executeCmdTask(e),t.cmdTaskArray.length&&t.startCmdTaskTimer()},0))},o.executeCmdTask=function(e){var t=e.cmdName,n=e.cmd,r=(n=JSON.parse(n)).SER;this.isFrequencyControlled(t)?(this.logger.warn("protocol::executeCmdTask: "+t+" hit freq control"),this.markCallbackInvalid(r,s.newFrequencyControlError({callFunc:"protocol::executeCmdTask",message:t+" hit freq control"}))):this.isConnected()?("heartbeat"!==t&&this.logger.log("protocol::sendCmd: "+t+" "+JSON.stringify(n)),this.doSendCmd(n)):(this.logger.warn("protocol::executeCmdTask: "+t+" not connected"),this.markCallbackInvalid(r,s.newSocketStateError({callFunc:"protocol::executeCmdTask",message:t+" not connected"})))},o.isFrequencyControlled=function(e){var t=this.frequencyControlMap&&this.frequencyControlMap[e];if(t){if(Date.now()<t.from+t.duration)return!0;delete this.frequencyControlMap[e]}},o.doSendCmd=function(e){var t=this,n=e.SER;t.timerMap[n]=setTimeout(function(){t.markCallbackInvalid(n,s.newTimeoutError({callFunc:"protocol::doSendCmd",message:"ser "+n+" Timeout Error"}))},r.cmdTimeout);try{t.socket.send(JSON.stringify(e))}catch(e){t.markCallbackInvalid(n,s.newSocketStateError({callFunc:"protocol::doSendCmd",message:"ser "+n+" socketSendJson Error"})),t.onDisconnect(!0,"protocol::doSendCmd:socketSendJson")}},o.getObjWithSer=function(e){var t=this.cmdContentMap[e];return delete this.cmdContentMap[e],t&&a.copy(t)},o.getCallbackWithSer=function(e){var t=this.cmdCallbackMap[e];return t&&!t.isImSyncDataCb&&delete this.cmdCallbackMap[e],t},o.getTimerWithSer=function(e){var t=this.timerMap[e];return delete this.timerMap[e],t},o.clearTimerWithSer=function(e){var t=this.getTimerWithSer(e);t&&clearTimeout(t)},o.markCallbackInvalid=function(e,t){this.getObjWithSer(e),this.clearTimerWithSer(e);var n=this.getCallbackWithSer(e);if(n){var r=n.options;setTimeout(function(){n(t||s.newUnknownError({ser:e}),r)},0)}},o.markAllCallbackInvalid=function(t){var n=this;Object.keys(this.cmdCallbackMap).forEach(function(e){n.markCallbackInvalid(e,t)})},o.getPacketObj=function(e){var t=null;if(e&&e.raw){var n=e.raw.ser;a.notundef(n)&&(t=this.getObjWithSer(n))}return t},o.callPacketAckCallback=function(n){var r=this;if(n&&n.raw){var i=n.raw.ser;if(a.notundef(i)){r.clearTimerWithSer(i);var o=r.getCallbackWithSer(i);o&&(n.promise?n.promise.then(function(){o(n.error,n.obj)},function(e){e.callFunc="protocol::callPacketAckCallback",e.message="Resp Promoise Error: cmd: "+n.cmd+", ser: "+i;var t=s.customError("CALLBACK_ACK_ERR",e);r.logger.error("protocol::callPacketAckCallback: promise error "+JSON.stringify(e)),o(t,n.obj,n.content)}):o(n.error,n.obj,n.content))}}},o.onMessage=function(e){this.heartbeat();var t=this.parser.parseResponse(e);t.notFound&&this.logger.warn("protocol::onMessage: packet not found "+JSON.stringify(t)),t.error?(t.error.message=t.cmd+" error: "+t.error.message,this.logger.error("protocol::onMessage: packet error "+JSON.stringify(t.error))):t.content||"heartbeat"===t.cmd||this.logger.warn("protocol::onMessage: packet.content undefined "+JSON.stringify(t)),t.frequencyControlDuration&&(this.logger.error("protocol::onMessage: server freq control "+JSON.stringify(t.cmd)),this.frequencyControlMap=this.frequencyControlMap||{},this.frequencyControlMap[t.cmd]={from:+new Date,duration:t.frequencyControlDuration}),t.obj=this.getPacketObj(t),"heartbeat"!==t.cmd&&"getClientAntispam"!==t.cmd&&this.logger.log("protocol::recvCmd: "+t.cmd+" "+t.rawStr);var n="process"+a.capFirstLetter(t.service);this[n]?("heartbeat"!==t.cmd&&this.logger.warn("protocol::recvCmd: "+t.cmd+" "+n,t.content),"syncDone"===t.cmd?this.cmdCallbackMap[t.raw.ser]&&this.cmdCallbackMap[t.raw.ser].isImSyncDataCb&&(this[n](t),this.cmdCallbackMap[t.raw.ser].isImSyncDataCb=!1):this[n](t)):this.logger.warn("protocol::onMessage: "+n+" not found"),this.callPacketAckCallback(t)},o.onMiscError=function(e,t,n){t&&this.notifyError(e,t,n)},o.onCustomError=function(e,t){var n=s.customError(e,t),r=t.message||"未知错误";this.onMiscError(r,n)},o.notifyError=function(e,t,n){this.isConnected()&&(this.logger.error((e||"")+" "+this.name,t,n),this.options.onerror(t,n))},o.emitAPI=function(e){var t=e.type,n=e.obj;this.api.emit(t,n)},e.exports=i,n(250),n(248),n(247),n(246),n(245)},function(e,t,n){var r=n(27),i=n(26),o=n(17),a=n(43),s=n(13),c=n(62),u=Object.getOwnPropertyDescriptor;t.f=n(14)?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(60),i=n(40).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(32);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var a=n(13),s=n(17),c=n(105)(!1),u=n(42)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=u&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~c(o,n)||o.push(n));return o}},function(e,t,n){e.exports=n(19)},function(e,t,n){e.exports=!n(14)&&!n(20)(function(){return 7!=Object.defineProperty(n(52)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var b=n(35),x=n(16),w=n(61),_=n(19),M=n(22),T=n(107),S=n(34),U=n(75),k=n(6)("iterator"),P=!([].keys&&"next"in[].keys()),E=function(){return this};e.exports=function(e,t,n,r,i,o,a){T(n,t,r);var s,c,u,l=function(e){if(!P&&e in h)return h[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},f=t+" Iterator",d="values"==i,p=!1,h=e.prototype,m=h[k]||h["@@iterator"]||i&&h[i],g=m||l(i),v=i?d?l("entries"):g:void 0,y="Array"==t&&h.entries||m;if(y&&(u=U(y.call(new e)))!==Object.prototype&&u.next&&(S(u,f,!0),b||"function"==typeof u[k]||_(u,k,E)),d&&m&&"values"!==m.name&&(p=!0,g=function(){return m.call(this)}),b&&!a||!P&&!p&&h[k]||_(h,k,g),M[t]=g,M[f]=E,i)if(s={values:d?g:l("values"),keys:o?g:l("keys"),entries:v},a)for(c in s)c in h||w(h,c,s[c]);else x(x.P+x.F*(P||p),t,s);return s}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(89))&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var i=n(11),r=i.f,o=n(139);function a(e){e.onload&&this.once("load",e.onload),e.onerror&&this.once("error",e.onerror),e.onbeforesend&&this.once("beforesend",e.onbeforesend),e.onaftersend&&this.once("aftersend",e.onaftersend);var t=(e=this.options=i.fetch({method:"GET",url:"",sync:!1,data:null,headers:{},cookie:!1,timeout:6e4,type:"text",form:null,input:null,putFileAtEnd:!1,proxyUrl:""},e)).headers;i.notexist(t["Content-Type"])&&(t["Content-Type"]="application/x-www-form-urlencoded"),this.send()}var s=a.prototype=Object.create(o.prototype);s.send=function(){var t=this,e=t.options;setTimeout(function(){try{try{t.emit("beforesend",e)}catch(e){console.error("ignore error ajax beforesend,",e)}t.doSend()}catch(e){console.error("ignore error server error,",e),t.onError("serverError","请求失败:"+e.message)}},0)},s.doSend=r,s.afterSend=function(){var e=this;setTimeout(function(){e.emit("aftersend",e.options)},0)},s.onLoad=function(e){var t=this.options,n=e.status,r=e.result;if(0===(""+n).indexOf("2")){if("json"===t.type)try{r=JSON.parse(r)}catch(e){return console.error("ignore error parse json,",e),void this.onError("parseError",r)}this.emit("load",r)}else this.onError("serverError","服务器返回异常状态",{status:n,result:r})},s.onError=function(e,t,n){var r=i.isObject(n)?n:{};r.code=e||"error",r.message=t||"发生错误",this.emit("error",r)},s.onTimeout=function(){this.onError("timeout","请求超时")},s.abort=function(){this.onError("abort","客户端中止")},s.header=function(e){var t=this;if(!i.isArray(e))return t.getResponseHeader(e||"");var n={};return e.forEach(function(e){n[e]=t.header(e)}),n},s.getResponseHeader=r,s.destroy=r,e.exports=a},function(e,t,n){"use strict";var s=n(11),c=n(140),u=n(138),l=n(137),f={},d=s.f;function o(e,t,n){var r,i,o=f[e];if(o){"onload"===t&&o.result&&(n=function(e,t){t={data:t};var n=e.result.headers;return n&&(t.headers=e.req.header(n)),t}(o,n)),(i=f[r=e])&&(i.req.destroy(),delete f[r]);var a={type:t,result:n};d(a),a.stopped||o[t](a.result)}}function a(e,t){var n=s.genUrlSep(e);return t=t||"",s.isObject(t)&&(t=s.object2query(t)),t&&(e+=n+t),e}function r(e,t){t=t||{};var n=s.uniqueID(),r={result:t.result,onload:t.onload||s.f,onerror:t.onerror||s.f};f[n]=r,t.onload=function(e,t){o(e,"onload",t)}.bind(null,n),t.onerror=function(e,t){o(e,"onerror",t)}.bind(null,n),t.query&&(e=a(e,t.query));var i=t.method||"";return i&&!/get/i.test(i)||!t.data||(e=a(e,t.data),t.data=null),t.url=e,r.req=function(e){var t,n,r,i,o=e.upload="multipart/form-data"===(e.headers||s.o)["Content-Type"],a=!1;try{a=(location.protocol+"//"+location.host).toLowerCase()!==s.url2origin(e.url)}catch(e){}return e.cors=a,o||a||e.mode?(n=(t=e).mode,r=c,!(i=s.getGlobal()).FormData&&i.document&&(n="iframe"),"iframe"===n&&(r=t.upload?u:l),new r(t)):new c(e)}(t),n}r.filter=function(e){s.isFunction(e)&&(d=e)},r.abort=function(e){var t=f[e];t&&t.req.abort()},e.exports=r},function(e,t){e.exports=function(e,t){for(var n=t.split(".");n.length;){var r=n.shift(),i=!1;if("?"==r[r.length-1]&&(r=r.slice(0,-1),i=!0),!(e=e[r])&&i)return e}return e}},function(e,t,n){var r=n(45),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},,,function(e,t,n){"use strict";var r,i=(r=n(9))&&r.__esModule?r:{default:r},o=n(81),a=n(0),s=a.notundef,c=a.exist,u=n(118),l=n(177),f=l.typeMap;function d(e){e.resend?(a.verifyOptions(e,"idClient","msg::Message"),this.idClient=e.idClient):this.idClient=a.guid(),this.type=f[e.type],this.resend=e.resend?1:0,s(e.custom)&&("object"===(0,i.default)(e.custom)?(this.logger.info("model::Message: custom should be JsonString, auto transfer"),this.custom=JSON.stringify(e.custom)):this.custom=""+e.custom),s(e.text)&&(this.body=""+e.text),s(e.body)&&(this.body=""+e.body),s(e.yidunEnable)&&(this.yidunEnable=e.yidunEnable?1:0),s(e.antiSpamUsingYidun)&&(this.antiSpamUsingYidun=e.antiSpamUsingYidun?1:0),s(e.antiSpamContent)&&("object"===(0,i.default)(e.antiSpamContent)?(this.logger.info("model::Message: antiSpamContent should be JsonString, auto transfer"),this.antiSpamContent=JSON.stringify(e.antiSpamContent)):this.antiSpamContent=""+e.antiSpamContent),s(e.antiSpamBusinessId)&&("object"===(0,i.default)(e.antiSpamBusinessId)?(this.logger.info("model::Message: antiSpamBusinessId should be JsonString, auto transfer"),this.antiSpamBusinessId=JSON.stringify(e.antiSpamBusinessId)):this.antiSpamBusinessId=""+e.antiSpamBusinessId),s(e.skipHistory)&&(this.skipHistory=e.skipHistory?1:0),s(e.highPriority)&&(this.highPriority=e.highPriority?1:0),s(e.clientAntiSpam)&&(this.clientAntiSpam=e.clientAntiSpam?1:0)}d.validTypes=l.validTypes,a.merge(d.prototype,l.prototype),d.getType=l.getType,d.reverse=function(e){var t=a.filterObj(e,"chatroomId idClient from fromNick fromAvatar fromCustom userUpdateTime custom status");return s(t.fromAvatar)&&(t.fromAvatar=(0,o.genPrivateUrl)(t.fromAvatar)),t=a.merge(t,{fromClientType:u.reverseType(e.fromClientType),time:+e.time,type:d.getType(e),text:c(e.body)?e.body:"",resend:1==+e.resend}),s(t.userUpdateTime)&&(t.userUpdateTime=+t.userUpdateTime),t.status=t.status||"success",t},d.setExtra=function(e,t){l.setFlow(e,t)},e.exports=d},function(e,t,n){"use strict";var r,i=(r=n(9))&&r.__esModule?r:{default:r},o=n(0),a=o.undef,s=o.notundef,c=o.exist,u=n(118),l=n(177),f={p2p:0,team:1},d={0:"p2p",1:"team"},p=Object.keys(f),h=l.typeMap,m=l.validTypes;function g(e){o.verifyOptions(e,"scene to type","msg::Message"),o.verifyParamValid("scene",e.scene,p,"msg::Message"),this.scene=f[e.scene],this.to=""+e.to,this.type=h[e.type],this.resend=e.resend?1:0,e.resend?(o.verifyOptions(e,"idClient","msg::Message"),this.idClient=e.idClient):this.idClient=o.guid(),s(e.text)&&(this.body=""+e.text),s(e.custom)&&("object"===(0,i.default)(e.custom)?(this.logger.warn("model::Message: custom should be JsonString, auto transfer"),this.custom=JSON.stringify(e.custom)):this.custom=""+e.custom),s(e.body)&&(this.body=""+e.body),s(e.pushContent)&&(this.pushContent=""+e.pushContent),s(e.pushPayload)&&(this.pushPayload=""+e.pushPayload);var t=e.apns;if(s(t)&&"team"===e.scene){var n=t.accounts;s(n)&&o.verifyParamType("apns.accounts",n,"array","msg::Message"),this.apnsAccounts=n?JSON.stringify(n):"#%@all@%#",this.apnsContent=t.content||e.pushContent||"",o.verifyBooleanWithDefault(t,"forcePush",!0,"options.apns","msg::Message"),this.apnsForcePush=t.forcePush?1:0}s(e.isHistoryable)&&(this.isHistoryable=e.isHistoryable?1:0),s(e.isRoamingable)&&(this.isRoamingable=e.isRoamingable?1:0),s(e.isSyncable)&&(this.isSyncable=e.isSyncable?1:0),s(e.cc)&&(this.cc=e.cc?1:0),s(e.isPushable)&&(this.isPushable=e.isPushable?1:0),s(e.isOfflinable)&&(this.isOfflinable=e.isOfflinable?1:0),s(e.isUnreadable)&&(this.isUnreadable=e.isUnreadable?1:0),s(e.needPushNick)&&(this.needPushNick=e.needPushNick?1:0),s(e.needMsgReceipt)&&(this.needMsgReceipt=e.needMsgReceipt?1:0),s(e.yidunEnable)&&(this.yidunEnable=e.yidunEnable?1:0),s(e.antiSpamUsingYidun)&&(this.antiSpamUsingYidun=e.antiSpamUsingYidun?1:0),s(e.clientAntiSpam)&&(this.clientAntiSpam=e.clientAntiSpam?1:0),s(e.antiSpamContent)&&("object"===(0,i.default)(e.antiSpamContent)?(this.logger.warn("model::Message: antiSpamContent should be JsonString, auto transfer"),this.antiSpamContent=JSON.stringify(e.antiSpamContent)):this.antiSpamContent=""+e.antiSpamContent),s(e.antiSpamBusinessId)&&("object"===(0,i.default)(e.antiSpamBusinessId)?(this.logger.warn("model::Message: antiSpamBusinessId should be JsonString, auto transfer"),this.antiSpamBusinessId=JSON.stringify(e.antiSpamBusinessId)):this.antiSpamBusinessId=""+e.antiSpamBusinessId)}o.merge(g.prototype,l.prototype),g.prototype.getScene=function(){return d[this.scene]},g.getType=l.getType,g.reverse=function(e){var t={scene:d[e.scene]||e.scene,from:e.from,fromNick:e.fromNick,fromClientType:u.reverseType(e.fromClientType),fromDeviceId:e.fromDeviceId,to:""+e.to,time:+e.time,type:g.getType(e),text:c(e.body)?e.body:"",isHistoryable:a(e.isHistoryable)||1==+e.isHistoryable,isRoamingable:a(e.isRoamingable)||1==+e.isRoamingable,isSyncable:a(e.isSyncable)||1==+e.isSyncable,cc:a(e.cc)||1==+e.cc,isPushable:a(e.isPushable)||1==+e.isPushable,isOfflinable:a(e.isOfflinable)||1==+e.isOfflinable,isUnreadable:a(e.isUnreadable)||1==+e.isUnreadable,isReplyMsg:a(e.isReplyMsg)||1==+e.isReplyMsg,needPushNick:a(e.needPushNick)||1==+e.needPushNick,needMsgReceipt:1==+e.needMsgReceipt,isLocal:!1};if(s(e.isMuted)&&(t.isMuted=1==+e.isMuted),s(e.resend)&&(t.resend=1==+e.resend),s(e.idClient)&&(t.idClient=e.idClient),s(e.idServer)&&(t.idServer=""+e.idServer),s(e.userUpdateTime)&&(t.userUpdateTime=+e.userUpdateTime),s(e.custom)&&(t.custom=e.custom),s(e.pushContent)&&(t.pushContent=e.pushContent),s(e.pushPayload)&&(t.pushPayload=e.pushPayload),s(e.tempTeamMemberCount)&&(t.tempTeamMemberCount=+e.tempTeamMemberCount),s(e.apnsAccounts)){if(t.apns={},"#%@all@%#"!==e.apnsAccounts){var n=e.apnsAccounts;try{t.apns.accounts=JSON.parse(n)}catch(e){t.apns.accounts=[]}}t.apns.content=e.apnsContent||"",t.apns.forcePush=1==+e.apnsForcePush}return t.status=e.status||"success",s(e.filter)&&(t.filter=e.filter),t},g.setExtra=function(e,t){e.target=g.getMsgTarget(e,t),e.sessionId=e.scene+"-"+e.target,l.setFlow(e,t)},g.getMsgTarget=function(e,t){return"p2p"===e.scene?e.to===t?e.from:e.to:"team"===e.scene?e.to:void 0},g.deduplication=function(e){var t,n={},r=[];return e.forEach(function(e){t=e.idClient,n[t]||(n[t]=!0,r.push(e))}),r},g.sortMsgs=function(e){return e=e.slice(0),o.sortObjArray(e,{sortPath:"time"}),e},g.getLastMsg=function(e){return(e=g.sortMsgs(e))[e.length-1]},g.getLastNotIgnoredMsg=function(e){for(var t=null,n=(e=g.sortMsgs(e)).length-1;0<=n;n--)if(!(t=e[n]).ignore)return t;return null},g.getMaxTimetag=function(e){return g.getLastMsg(e).time},g.validScenes=p,g.validTypes=m,e.exports=g},function(e,t){e.exports=function t(e,n){"use strict";var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,u=/^0/,l=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},f=l(e).replace(a,"")||"",d=l(n).replace(a,"")||"",p=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=d.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(c),16)||1!==p.length&&f.match(s)&&Date.parse(f),g=parseInt(d.match(c),16)||m&&d.match(s)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(g<m)return 1}for(var v=0,y=Math.max(p.length,h.length);v<y;v++){if(r=!(p[v]||"").match(u)&&parseFloat(p[v])||p[v]||0,i=!(h[v]||"").match(u)&&parseFloat(h[v])||h[v]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!=typeof i&&(r+="",i+=""),r<i)return-1;if(i<r)return 1}return 0}},function(e,t){},function(e,t,n){var r=n(13),i=n(47),o=n(42)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(8).document;e.exports=r&&r.documentElement},,,function(e,t,n){var i=n(32),o=n(6)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var r={link:{id:1,heartbeat:2},sync:{id:5,sync:1,syncTeamMembers:2},misc:{id:6,getSimpleNosToken:1,getNosToken:2,notifyUploadLog:3,uploadSdkLogUrl:4,audioToText:5,processImage:6,getNosTokenTrans:7,notifyTransLog:8,fetchFile:9,fetchFileList:10,removeFile:11,getClientAntispam:17,fileQuickTransfer:18},avSignal:{id:15,signalingCreate:1,signalingDelay:2,signalingClose:3,signalingJoin:4,signalingLeave:5,signalingInvite:6,signalingCancel:7,signalingReject:8,signalingAccept:9,signalingControl:10,signalingNotify:11,signalingMutilClientSyncNotify:12,signalingUnreadMessageSyncNotify:13,signalingChannelsSyncNotify:14}},i={heartbeat:{sid:r.link.id,cid:r.link.heartbeat},getSimpleNosToken:{sid:r.misc.id,cid:r.misc.getSimpleNosToken,params:[{type:"int",name:"num"}]},getNosToken:{sid:r.misc.id,cid:r.misc.getNosToken,params:[{type:"String",name:"responseBody"},{type:"Property",name:"nosToken",entity:"nosToken"}]},uploadSdkLogUrl:{sid:r.misc.id,cid:r.misc.uploadSdkLogUrl,params:[{type:"string",name:"url"}]},audioToText:{sid:r.misc.id,cid:r.misc.audioToText,params:[{type:"Property",name:"audioToText"}]},processImage:{sid:r.misc.id,cid:r.misc.processImage,params:[{type:"String",name:"url"},{type:"PropertyArray",name:"imageOps",entity:"imageOp"}]},getClientAntispam:{sid:r.misc.id,cid:r.misc.getClientAntispam,params:[{type:"Property",name:"clientAntispam"}]},fileQuickTransfer:{sid:r.misc.id,cid:r.misc.fileQuickTransfer,params:[{type:"Property",name:"fileQuickTransfer"}]},getNosTokenTrans:{sid:r.misc.id,cid:r.misc.getNosTokenTrans,params:[{type:"Property",name:"transToken"}]},fetchFile:{sid:r.misc.id,cid:r.misc.fetchFile,params:[{type:"String",name:"docId"}]},fetchFileList:{sid:r.misc.id,cid:r.misc.fetchFileList,params:[{type:"Property",name:"fileListParam"}]},removeFile:{sid:r.misc.id,cid:r.misc.removeFile,params:[{type:"String",name:"docId"}]},signalingCreate:{sid:r.avSignal.id,cid:r.avSignal.signalingCreate,params:[{type:"Property",name:"avSignalTag"}]},signalingDelay:{sid:r.avSignal.id,cid:r.avSignal.signalingDelay,params:[{type:"Property",name:"avSignalTag"}]},signalingClose:{sid:r.avSignal.id,cid:r.avSignal.signalingClose,params:[{type:"Property",name:"avSignalTag"}]},signalingJoin:{sid:r.avSignal.id,cid:r.avSignal.signalingJoin,params:[{type:"Property",name:"avSignalTag"}]},signalingLeave:{sid:r.avSignal.id,cid:r.avSignal.signalingLeave,params:[{type:"Property",name:"avSignalTag"}]},signalingInvite:{sid:r.avSignal.id,cid:r.avSignal.signalingInvite,params:[{type:"Property",name:"avSignalTag"}]},signalingCancel:{sid:r.avSignal.id,cid:r.avSignal.signalingCancel,params:[{type:"Property",name:"avSignalTag"}]},signalingReject:{sid:r.avSignal.id,cid:r.avSignal.signalingReject,params:[{type:"Property",name:"avSignalTag"}]},signalingAccept:{sid:r.avSignal.id,cid:r.avSignal.signalingAccept,params:[{type:"Property",name:"avSignalTag"}]},signalingControl:{sid:r.avSignal.id,cid:r.avSignal.signalingControl,params:[{type:"Property",name:"avSignalTag"}]}};e.exports={idMap:r,cmdConfig:i,packetConfig:{"1_2":{service:"link",cmd:"heartbeat"},"6_1":{service:"misc",cmd:"getSimpleNosToken",response:[{type:"PropertyArray",name:"nosTokens",entity:"nosToken"}]},"6_2":{service:"misc",cmd:"getNosToken",response:[{type:"Property",name:"nosToken"}]},"6_3":{service:"misc",cmd:"notifyUploadLog"},"6_5":{service:"misc",cmd:"audioToText",response:[{type:"String",name:"text"}]},"6_6":{service:"misc",cmd:"processImage",response:[{type:"String",name:"url"}]},"6_7":{service:"misc",cmd:"getNosTokenTrans",response:[{type:"Property",name:"nosToken"},{type:"String",name:"docId"}]},"6_8":{service:"misc",cmd:"notifyTransLog",response:[{type:"Property",name:"transInfo"}]},"6_9":{service:"misc",cmd:"fetchFile",response:[{type:"Property",name:"info",entity:"transInfo"}]},"6_10":{service:"misc",cmd:"fetchFileList",response:[{type:"PropertyArray",name:"list",entity:"transInfo"},{type:"Number",name:"totalCount"}]},"6_11":{service:"misc",cmd:"removeFile",response:[{type:"String",name:"res"}]},"6_17":{service:"misc",cmd:"getClientAntispam",response:[{type:"Property",name:"clientAntispam"}]},"6_18":{service:"misc",cmd:"fileQuickTransfer",response:[{type:"Property",name:"fileQuickTransfer"}]},"15_1":{service:"avSignal",cmd:"signalingCreate",response:[{type:"Property",name:"avSignalTag"}]},"15_2":{service:"avSignal",cmd:"signalingDelay",response:[{type:"Property",name:"avSignalTag"}]},"15_3":{service:"avSignal",cmd:"signalingClose",response:[{type:"Property",name:"avSignalTag"}]},"15_4":{service:"avSignal",cmd:"signalingJoin",response:[{type:"Property",name:"avSignalTag"}]},"15_5":{service:"avSignal",cmd:"signalingLeave",response:[]},"15_6":{service:"avSignal",cmd:"signalingInvite",response:[]},"15_7":{service:"avSignal",cmd:"signalingCancel",response:[]},"15_8":{service:"avSignal",cmd:"signalingReject",response:[]},"15_9":{service:"avSignal",cmd:"signalingAccept",response:[]},"15_10":{service:"avSignal",cmd:"signalingControl",response:[]},"15_11":{service:"avSignal",cmd:"signalingNotify",response:[{type:"Property",name:"avSignalTag"}]},"15_12":{service:"avSignal",cmd:"signalingMutilClientSyncNotify",response:[{type:"Property",name:"avSignalTag"}]},"15_13":{service:"avSignal",cmd:"signalingUnreadMessageSyncNotify",response:[{type:"PropertyArray",name:"avSignalTag"}]},"15_14":{service:"avSignal",cmd:"signalingChannelsSyncNotify",response:[{type:"PropertyArray",name:"avSignalTag"}]}}}},function(e,t,n){"use strict";var p=n(5),h={genUrlSep:function(e){return-1===(e=""+e).indexOf("?")?"?imageView&":"&"},url2object:function(e){var t=0<=(e=e||"").indexOf("https")?"https://":"http://",n=e.replace(t,"");0<=n.indexOf("?")&&(n=n.substring(0,n.indexOf("?")));var r=n.split("/");n=r[0];var i="";if(0<r.length&&(i=r.slice(1).join("/")),-1===e.indexOf("?"))return{protocol:t,hostname:n,path:i,query:{}};var o=e.substr(e.indexOf("?")+1).split("&"),a={};return o.forEach(function(e){if(0<e.indexOf("=")){var t=e.split("=");a[t[0]]=decodeURIComponent(t[1])}else a[e]=""}),{protocol:t,hostname:n,path:i,query:a}},object2url:function(e){var t=e.protocol,n=e.hostname,r=e.path,i=e.query;t=t||"http://",n=n||"",r&&(n=n+"/"+r),i=i||{};var o=[];for(var a in i)"imageView"!==a&&o.push(a+"="+encodeURIComponent(i[a]));return 0<o.length?""+t+n+"?imageView&"+o.join("&"):""+t+n},genPrivateUrl:function(e){var t=h.url2object(e),n=t.hostname,r=t.path,i=p.downloadHost,o=p.downloadUrl;if(n===i){var a=r.indexOf("/");if(-1!==a){var s=r.substring(0,a),c=r.substring(a+1);return o.replace("{bucket}",s).replace("{object}",c)}}else if(-1!==n.indexOf(i)){var u=t.path,l=u.indexOf(".");if(-1!==l){var f=u.substring(0,l),d=u;return o.replace("{bucket}",f).replace("{object}",d)}}return e}};e.exports=h},,,function(e,t,n){"use strict";var d=n(0),c=d.undef,a=n(25),r=n(170),i=n(244),o=n(243),s=n(242),u=n(241),l=n(240);function f(e){this.mixin(e)}f.prototype.mixin=function(t){var n=this;this.configMap=this.configMap||{},["idMap","cmdConfig","packetConfig"].forEach(function(e){n.configMap[e]=d.merge({},n.configMap[e],t.configMap&&t.configMap[e])}),["serializeMap","unserializeMap"].forEach(function(e){n[e]=d.merge({},n[e],t[e])})};var p,h=new f({configMap:r,serializeMap:i,unserializeMap:o}),m=new f({configMap:s,serializeMap:u,unserializeMap:l});f.getInstance=function(e){switch(e){case"IM":return h;case"Chatroom":return m}},f.prototype.createCmd=(p=1,function(o,a){var s=this,e=this.configMap.cmdConfig[o],t="heartbeat"===o?0:p++;return 32767<t&&(t=1,p=2),o={SID:e.sid,CID:e.cid,SER:t},e.params&&(o.Q=[],e.params.forEach(function(e){var t=e.type,n=e.name,r=e.entity,i=a[n];if(!c(i)){switch(t){case"PropertyArray":t="ArrayMable",i=i.map(function(e){return{t:"Property",v:s.serialize(e,r)}});break;case"Property":i=s.serialize(i,n);break;case"bool":i=i?"true":"false"}o.Q.push({t:t,v:i})}})),o}),f.prototype.parseResponse=function(e){var s=this,c=JSON.parse(e),u={raw:c,rawStr:e,error:a.genError(c.code)},t=s.configMap.packetConfig[c.sid+"_"+c.cid];if(!t)return u.notFound={sid:c.sid,cid:c.cid},u;var l=c.r,f="notify"===t.service&&!t.cmd;if(u.isNotify=f){var n=c.r[1].headerPacket;if(t=s.configMap.packetConfig[n.sid+"_"+n.cid],l=c.r[1].body,!t)return u.notFound={sid:n.sid,cid:n.cid},u}if(u.service=t.service,u.cmd=t.cmd,u.error){var r=c.sid+"_"+c.cid;if(f&&(r=n.sid+"_"+n.cid),u.error.cmd=u.cmd,u.error.callFunc="protocol::parseResponse: "+r,416===u.error.code){var i=l[0];i&&(u.frequencyControlDuration=1e3*i)}}var o=!1;return u.error&&t.trivialErrorCodes&&(o=-1!==t.trivialErrorCodes.indexOf(u.error.code)),u.error&&!o||!t.response||(u.content={},t.response.forEach(function(e,t){var n=l[t];if(!d.undef(n)){var r=e.type,i=e.name,o=e.entity||i;switch(r){case"Property":u.content[i]=s.unserialize(n,o);break;case"PropertyArray":u.content[i]=[],n.forEach(function(e){u.content[i].push(s.unserialize(e,o))});break;case"KVArray":u.content[i]=n;break;case"long":case"Long":case"byte":case"Byte":case"Number":u.content[i]=+n;break;default:u.content[i]=n}if(f&&"msg"===i||"sysMsg"===i){var a=u.content[i];d.isObject(a)&&!a.idServer&&(a.idServer=""+c.r[0],a.type&&"8"===a.type&&a.deletedIdClient&&(a.idServer=a.deletedIdClient))}}})),u},f.prototype.serialize=function(e,t){var n=this.serializeMap[t],r={};for(var i in n)e.hasOwnProperty(i)&&(r[n[i]]=e[i]);return r},f.prototype.unserialize=function(e,t){var n=this.unserializeMap[t],r={};if(e)for(var i in n)e.hasOwnProperty(i)&&(r[n[i]]=e[i]);return r},e.exports=f},function(e,t,n){"use strict";var i=n(11),o=i.getGlobal(),r={},a=o.name||"_parent",s=[],c=[];r.addMsgListener=function(e){s.push(e)};var u,l,f,d,p=(u=/^([\w]+?:\/\/.*?(?=\/|$))/i,function(e){return e=e||"",u.test(e)?RegExp.$1:"*"}),h=function(){var e=unescape(o.name||"").trim();if(e&&0===e.indexOf("MSG|")){o.name="";var t=i.string2object(e.replace("MSG|",""),"|"),n=(t.origin||"").toLowerCase();n&&"*"!==n&&0!==location.href.toLowerCase().indexOf(n)||function(e){for(var t=0,n=s.length;t<n;t++)try{s[t].call(null,e)}catch(e){}}({data:JSON.parse(t.data||"null"),source:o.frames[t.self]||t.self,origin:p(t.ref||document.referrer)})}},m=(f=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1},function(){if(c.length){l=[];for(var e,t=c.length-1;0<=t;t--)e=c[t],f(l,e.w)||(l.push(e.w),c.splice(t,1),e.w.name=e.d);l=null}}),g=r.startTimer=(d=!1,function(){d||(d=!0,o.postMessage||(setInterval(m,100),setInterval(h,20)))});r.postMessage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(i.fillUndef(t,{origin:"*",source:a}),o.postMessage){var n=t.data;o.FormData||(n=JSON.stringify(n)),e.postMessage(n,t.origin)}else{if(g(),i.isObject(t)){var r={};r.origin=t.origin||"",r.ref=location.href,r.self=t.source,r.data=JSON.stringify(t.data),t="MSG|"+i.object2string(r,"|",!0)}c.unshift({w:e,d:escape(t)})}},e.exports=r},function(e,t,n){"use strict";var d=n(29),p=n(37),h=n(27),m=n(47),g=n(59),i=Object.assign;e.exports=!i||n(20)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=m(e),r=arguments.length,i=1,o=p.f,a=h.f;i<r;)for(var s,c=g(arguments[i++]),u=o?d(c).concat(o(c)):d(c),l=u.length,f=0;f<l;)a.call(c,s=u[f++])&&(n[s]=c[s]);return n}:i},function(e,t,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(86)})},function(e,t,n){n(87),e.exports=n(7).Object.assign},function(e,t,n){e.exports={default:n(88),__esModule:!0}},function(e,t,n){"use strict";var r=n(0),i=r.notundef,o=r.fillPropertyWithDefault,a={0:"normal",1:"owner",2:"manager"};function s(e){r.verifyOptions(e,"teamId","team::TeamMember"),r.verifyParamAtLeastPresentOne(e,"nickInTeam muteTeam muteNotiType custom","team::TeamMember"),this.teamId=e.teamId,i(e.account)&&(this.account=e.account),i(e.nickInTeam)&&(this.nickInTeam=e.nickInTeam),i(e.muteNotiType)?this.bits=e.muteNotiType:i(e.muteTeam)&&(this.bits=0,e.muteTeam&&(this.bits+=1)),i(e.mute)&&(this.mute=e.mute?1:0),i(e.custom)&&(this.custom=""+e.custom)}s.reverse=function(e){var t=r.copy(e);if(i(t.teamId)&&(t.teamId=""+t.teamId),i(t.type)&&(t.type=a[t.type]),i(t.active)&&(t.active=1==+t.active),i(t.valid)&&(t.valid=1==+t.valid),i(t.mute)&&(t.mute=1==+t.mute),i(t.joinTime)&&(t.joinTime=+t.joinTime),i(t.updateTime)&&(t.updateTime=+t.updateTime),i(t.bits)){var n=t.bits;delete t.bits,t.muteTeam=!!(1&n),t.muteNotiType=n}return i(t.teamId)&&i(t.account)&&(t.id=s.genId(t.teamId,t.account)),t},s.reverseMembers=function(e){return e.map(function(e){return s.reverse(e)})},s.fillProperties=function(e){var t=o(e,"mute",!1),n=o(e,"custom","");return t||n},s.genId=function(e,t){return e+"-"+t},s.accounts2ids=function(t,e){return e.map(function(e){return s.genId(t,e)})},s.assembleMembers=function(t,e){return r.isArray(e)||(e=[e]),e.map(function(e){return s.assembleMember(t,e)})},s.assembleMember=function(e,t){return{id:s.genId(e.teamId,t),account:t,teamId:e.teamId,type:"normal",nickInTeam:"",muteTeam:!1,mute:!1,joinTime:e.memberUpdateTime,updateTime:e.memberUpdateTime,active:!0,valid:!0}},s.assembleOwner=function(e){var t=s.assembleMember(e,e.owner);return t.type="owner",t},e.exports=s},function(e,t,n){"use strict";var r=n(5);"undefined"!=typeof window&&(window.console||r.isWeixinApp||(window.console={log:function(){},info:function(){},warn:function(){},error:function(){}}))},function(e,t,n){n(38)("observable")},function(e,t,n){n(38)("asyncIterator")},function(e,t,n){var r=n(17),i=n(58).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(32);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var s=n(29),c=n(37),u=n(27);e.exports=function(e){var t=s(e),n=c.f;if(n)for(var r,i=n(e),o=u.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},function(e,t,n){var r=n(28)("meta"),i=n(18),o=n(13),a=n(12).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(20)(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){"use strict";var r=n(8),a=n(13),i=n(14),o=n(16),s=n(61),c=n(97).KEY,u=n(20),l=n(41),f=n(34),d=n(28),p=n(6),h=n(39),m=n(38),g=n(96),v=n(95),y=n(15),b=n(18),x=n(17),w=n(43),_=n(26),M=n(48),T=n(94),S=n(57),U=n(12),k=n(29),P=S.f,E=U.f,C=T.f,A=r.Symbol,O=r.JSON,I=O&&O.stringify,R=p("_hidden"),L=p("toPrimitive"),N={}.propertyIsEnumerable,D=l("symbol-registry"),j=l("symbols"),F=l("op-symbols"),V=Object.prototype,Y="function"==typeof A,B=r.QObject,z=!B||!B.prototype||!B.prototype.findChild,H=i&&u(function(){return 7!=M(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(V,t);r&&delete V[t],E(e,t,n),r&&e!==V&&E(V,t,r)}:E,G=function(e){var t=j[e]=M(A.prototype);return t._k=e,t},W=Y&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},q=function(e,t,n){return e===V&&q(F,t,n),y(e),t=w(t,!0),y(n),a(j,t)?(n.enumerable?(a(e,R)&&e[R][t]&&(e[R][t]=!1),n=M(n,{enumerable:_(0,!1)})):(a(e,R)||E(e,R,_(1,{})),e[R][t]=!0),H(e,t,n)):E(e,t,n)},X=function(e,t){y(e);for(var n,r=g(t=x(t)),i=0,o=r.length;i<o;)q(e,n=r[i++],t[n]);return e},K=function(e){var t=N.call(this,e=w(e,!0));return!(this===V&&a(j,e)&&!a(F,e))&&(!(t||!a(this,e)||!a(j,e)||a(this,R)&&this[R][e])||t)},$=function(e,t){if(e=x(e),t=w(t,!0),e!==V||!a(j,t)||a(F,t)){var n=P(e,t);return!n||!a(j,t)||a(e,R)&&e[R][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=C(x(e)),r=[],i=0;n.length>i;)a(j,t=n[i++])||t==R||t==c||r.push(t);return r},Z=function(e){for(var t,n=e===V,r=C(n?F:x(e)),i=[],o=0;r.length>o;)!a(j,t=r[o++])||n&&!a(V,t)||i.push(j[t]);return i};Y||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(0<arguments.length?arguments[0]:void 0),n=function(e){this===V&&n.call(F,e),a(this,R)&&a(this[R],t)&&(this[R][t]=!1),H(this,t,_(1,e))};return i&&z&&H(V,t,{configurable:!0,set:n}),G(t)}).prototype,"toString",function(){return this._k}),S.f=$,U.f=q,n(58).f=T.f=J,n(27).f=K,n(37).f=Z,i&&!n(35)&&s(V,"propertyIsEnumerable",K,!0),h.f=function(e){return G(p(e))}),o(o.G+o.W+o.F*!Y,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)p(Q[ee++]);for(var te=k(p.store),ne=0;te.length>ne;)m(te[ne++]);o(o.S+o.F*!Y,"Symbol",{for:function(e){return a(D,e+="")?D[e]:D[e]=A(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in D)if(D[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!Y,"Object",{create:function(e,t){return void 0===t?M(e):X(M(e),t)},defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),O&&o(o.S+o.F*(!Y||u(function(){var e=A();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!W(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,I.apply(O,r)}}),A.prototype[L]||n(19)(A.prototype,L,A.prototype.valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){n(98),n(74),n(93),n(92),e.exports=n(7).Symbol},function(e,t,n){e.exports={default:n(99),__esModule:!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(102),i=n(101),o=n(22),a=n(17);e.exports=n(63)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(45),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var c=n(17),u=n(68),l=n(104);e.exports=function(s){return function(e,t,n){var r,i=c(e),o=u(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var a=n(12),s=n(15),c=n(29);e.exports=n(14)?Object.defineProperties:function(e,t){s(e);for(var n,r=c(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){"use strict";var r=n(48),i=n(26),o=n(34),a={};n(19)(a,n(6)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var c=n(45),u=n(44);e.exports=function(s){return function(e,t){var n,r,i=String(u(e)),o=c(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){n(49),n(54),e.exports=n(39).f("iterator")},function(e,t,n){e.exports={default:n(109),__esModule:!0}},function(e,t,n){var r=n(79),i=n(6)("iterator"),o=n(22);e.exports=n(7).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},,,,function(e,t,n){"use strict";var r=n(56),i=n(0),o=i.undef,a=i.notundef,s=n(5),c=n(84).getInstance("Chatroom"),u=n(230),l=n(168);function f(e){i.verifyOptions(e,"appKey account chatroomId chatroomAddresses","protocol::ChatroomProtocol"),e.isAnonymous||i.verifyOptions(e,"token","protocol::ChatroomProtocol"),i.verifyParamType("chatroomAddresses",e.chatroomAddresses,"array","protocol::ChatroomProtocol"),i.verifyCallback(e,"onconnect onerror onwillreconnect ondisconnect onmsg onmsgs onrobots","protocol::ChatroomProtocol"),r.call(this,e)}var d=r.fn,p=f.fn=f.prototype=Object.create(d);p.init=function(){d.init.call(this),this.parser=c,this.syncResult={},this.timetags={},this.msgBuffer=[]},p.reset=function(){var t=this;d.reset.call(t);var e=t.options;o(e.msgBufferInterval)&&(e.msgBufferInterval=300),i.verifyParamType("msgBufferInterval",e.msgBufferInterval,"number","protocol::ChatroomProtocol.reset"),o(e.msgBufferSize)&&(e.msgBufferSize=500),i.verifyParamType("msgBufferSize",e.msgBufferSize,"number","protocol::ChatroomProtocol.reset"),a(e.chatroomAddresses)&&(t.socketUrls=e.chatroomAddresses.map(function(e){return s.formatSocketUrl({url:e,secure:t.options.secure})}),t.socketUrlsBackup=t.socketUrls.slice(0))},p.processChatroom=function(e){switch(e.cmd){case"login":e.error||(e.obj={chatroom:u.reverse(e.content.chatroom),member:l.reverse(e.content.chatroomMember)});break;case"kicked":this.onKicked(e);break;case"logout":break;case"sendMsg":this.onSendMsg(e);break;case"msg":this.onMsg(e);break;case"getChatroomMembers":this.onChatroomMembers(e);break;case"getHistoryMsgs":this.onHistoryMsgs(e);break;case"markChatroomMember":this.onMarkChatroomMember(e);break;case"closeChatroom":break;case"getChatroom":this.onChatroom(e);break;case"updateChatroom":break;case"updateMyChatroomMemberInfo":delete e.obj.chatroomMember;break;case"getChatroomMembersInfo":this.onChatroomMembersInfo(e);break;case"kickChatroomMember":case"updateChatroomMemberTempMute":break;case"queueList":e.error||(e.obj=e.content);break;case"syncRobot":this.onSyncRobot(e)}},p.onChatroom=function(e){e.error||(e.obj.chatroom=u.reverse(e.content.chatroom))},e.exports=f,n(403),n(402),n(401),n(400)},function(e,t,n){"use strict";var r=n(0);function i(){}i.parse=function(e){var t=e.split("|");return{scene:t[0],to:t[1]}},i.genSessionByMsg=function(e){return{id:e.sessionId,scene:e.scene,to:e.target,updateTime:e.time,lastMsg:e}},i.appendLastMsg=function(e){var t=e.lastMsg;e["last"+r.capFirstLetter(t.type)+"Msg"]=t,e["last"+r.capFirstLetter(t.flow)+"Msg"]=t},i.genSessionByMsgs=function(e,t){var n=e.getLastNotIgnoredMsg(t);return n?i.genSessionByMsg(n):null},i.trim=function(e){delete e.msgReceiptSendTime,delete e.msgReceiptServerTime,delete e.ack,delete e.unreadMsgs},i.isComplete=function(e){return e.id&&e.scene&&e.to},e.exports=i},function(e,t,n){"use strict";var r,i=(r=n(9))&&r.__esModule?r:{default:r},o=n(0),a=o.undef,s=o.notundef,c=n(84).getInstance("IM"),u=n(119),l=n(90),f={customP2p:100,customTeam:101,deleteMsgP2p:7,deleteMsgTeam:8},d={0:"applyTeam",1:"rejectTeamApply",2:"teamInvite",3:"rejectTeamInvite",5:"friendRequest",6:"deleteFriend",7:"deleteMsgP2p",8:"deleteMsgTeam",100:"customP2p",101:"customTeam",102:"customP2p"},p={1:"addFriend",2:"applyFriend",3:"passFriendApply",4:"rejectFriendApply"},h=["team","friend","msg"],m={applyTeam:"team",rejectTeamApply:"team",teamInvite:"team",rejectTeamInvite:"team",addFriend:"friend",applyFriend:"friend",passFriendApply:"friend",rejectFriendApply:"friend",deleteFriend:"friend",deleteMsg:"msg"};function g(e){o.verifyOptions(e,"type to","sysmsg::SystemMessage"),o.verifyParamValid("type",e.type,g.validTypes,"sysmsg::SystemMessage"),-1!==e.type.indexOf("custom")&&(o.verifyOptions(e,"content","sysmsg::SystemMessage"),this.attach=e.content,s(e.apnsText)&&(this.apnsText=""+e.apnsText),s(e.pushPayload)&&("object"===(0,i.default)(e.pushPayload)?(this.logger.warn("model::Message: pushPayload should be JsonString, auto transfer"),this.pushPayload=JSON.stringify(e.pushPayload)):this.pushPayload=""+e.pushPayload),s(e.sendToOnlineUsersOnly)&&(this.sendToOnlineUsersOnly=e.sendToOnlineUsersOnly?0:1),s(e.cc)&&(this.cc=e.cc?1:0),s(e.isPushable)&&(this.isPushable=e.isPushable?1:0),s(e.isUnreadable)&&(this.isUnreadable=e.isUnreadable?1:0),s(e.needPushNick)&&(this.needPushNick=e.needPushNick?1:0)),this.time=e.time||+new Date,this.type=f[e.type],this.to=e.to,s(e.from)&&(this.from=e.from),s(e.ps)&&(this.ps=e.ps),s(e.deletedIdClient)&&(this.deletedIdClient=e.deletedIdClient),s(e.deletedIdServer)&&(this.deletedIdServer=e.deletedIdServer),s(e.opeAccount)&&(this.opeAccount=e.opeAccount),s(e.yidunEnable)&&(this.yidunEnable=e.yidunEnable?1:0),s(e.antiSpamContent)&&("object"===(0,i.default)(e.antiSpamContent)?(this.logger.warn("model::Message: antiSpamContent should be JsonString, auto transfer"),this.antiSpamContent=JSON.stringify(e.antiSpamContent)):this.antiSpamContent=""+e.antiSpamContent),s(e.antiSpamBusinessId)&&("object"===(0,i.default)(e.antiSpamBusinessId)?(this.logger.warn("model::Message: antiSpamBusinessId should be JsonString, auto transfer"),this.antiSpamBusinessId=JSON.stringify(e.antiSpamBusinessId)):this.antiSpamBusinessId=""+e.antiSpamBusinessId),this.idClient=e.idClient||o.guid()}g.validTypes=Object.keys(f).concat(Object.keys(m)),g.validCategories=["team","friend"],g.isCustom=function(e){return"custom"===e.type},g.reverse=function(e){var t={time:+e.time,to:e.to,type:d[e.type]};if(s(e.from)&&(t.from=e.from),s(e.idServer)&&(t.idServer=""+e.idServer),s(e.deletedIdClient)&&(t.deletedIdClient=e.deletedIdClient),s(e.deletedIdServer)&&(t.deletedIdServer=""+e.deletedIdServer),s(e.deletedMsgTime)&&(t.deletedMsgTime=+e.deletedMsgTime),s(e.deletedMsgFromNick)&&(t.deletedMsgFromNick=""+e.deletedMsgFromNick),s(e.opeAccount)&&(t.opeAccount=e.opeAccount),s(e.ps)&&(t.ps=e.ps),e.attach=e.attach?""+e.attach:"","customP2p"===t.type||"customTeam"===t.type)t.content=e.attach,s(e.apnsText)&&(t.apnsText=e.apnsText),s(e.pushPayload)&&(t.pushPayload=e.pushPayload),o.merge(t,{sendToOnlineUsersOnly:a(e.sendToOnlineUsersOnly)||0==+e.sendToOnlineUsersOnly,cc:a(e.cc)||1==+e.cc,isPushable:a(e.isPushable)||1==+e.isPushable,isUnreadable:a(e.isUnreadable)||1==+e.isUnreadable,needPushNick:s(e.needPushNick)&&1==+e.needPushNick}),t.scene=t.type.slice(6).toLowerCase(),t.type="custom";else if("deleteMsgP2p"===t.type||"deleteMsgTeam"===t.type)t.scene=t.type.slice(9).toLowerCase(),t.type="deleteMsg";else{if(e.attach){t.attach={};var n=JSON.parse(e.attach);s(n.vt)?(t.type=p[n.vt],delete t.attach):(s(n.tinfo)&&(t.attach.team=u.reverse(c.unserialize(n.tinfo,"team"))),s(n.tlist)&&(t.attach.member=l.reverse(c.unserialize(n.tlist,"teamMember"))),s(n.attach)&&(t.attach.custom=n.attach))}t.category=m[t.type],t.read=!1,t.state="init"}return s(e.cc)&&(t.cc=1==+e.cc),t.status=e.status||"success",s(e.filter)&&(t.filter=e.filter),t},g.reverseSysMsgs=function(e,t){var n=(t=t||{}).mapper,r=o.isFunction(n);return e.map(function(e){return e=g.reverse(e),r&&(e=n(e)),e})},g.completeUnread=function(t){var n;return t=t||{},h.forEach(function(e){delete t[e]}),Object.keys(m).forEach(function(e){t[e]=t[e]||0,t[e]<0&&(t[e]=0),t[n=m[e]]=t[n]||0,t[n]=t[n]+t[e]}),t.total=0,h.forEach(function(e){t.total+=t[e]}),t},e.exports=g},function(e,t,n){"use strict";var r,i=((r=n(53))&&r.__esModule?r:{default:r}).default.clientTypeMap;function o(){}o.reverse=function(e){var t=e;return t.type=i[t.type],t},o.reverseType=function(e){return i[e]||e},e.exports=o},function(e,t,n){"use strict";var r=n(0),i=r.notundef,a=r.fillPropertyWithDefault,o=Object.keys,s={},c={},u=[],l={},f={normal:0,advanced:1},d={0:"normal",1:"advanced"},p=o(f),h=s.joinMode={noVerify:0,needVerify:1,rejectAll:2};c.joinMode={0:"noVerify",1:"needVerify",2:"rejectAll"},u.push("join"),l.joinMode=o(h);var m=s.beInviteMode={needVerify:0,noVerify:1};c.beInviteMode={0:"needVerify",1:"noVerify"},u.push("beInvite"),l.beInviteMode=o(m);var g=s.inviteMode={manager:0,all:1};c.inviteMode={0:"manager",1:"all"},u.push("invite"),l.inviteMode=o(g);var v=s.updateTeamMode={manager:0,all:1};c.updateTeamMode={0:"manager",1:"all"},u.push("updateTeam"),l.updateTeamMode=o(v);var y=s.updateCustomMode={manager:0,all:1};function b(e){switch(r.verifyOptions(e,"action","team::Team"),e.action){case"create":r.verifyOptions(e,"teamId",!1,"team::Team"),r.verifyOptions(e,"type name","team::Team"),r.verifyParamValid("type",e.type,p,"team::Team"),i(e.level)&&(r.verifyParamType("level",e.level,"number","team::Team"),this.level=e.level);break;case"update":r.verifyOptions(e,"teamId","team::Team"),r.verifyOptions(e,"type",!1,"team::Team")}i(e.teamId)&&(this.teamId=e.teamId),i(e.type)&&(this.type=f[e.type]),i(e.avatar)&&(this.avatar=""+e.avatar),i(e.name)&&(this.name=""+e.name),i(e.intro)&&(this.intro=""+e.intro),i(e.announcement)&&(this.announcement=""+e.announcement),u.forEach(this.setMode.bind(this,e)),i(e.custom)&&(this.custom=""+e.custom)}c.updateCustomMode={0:"manager",1:"all"},u.push("updateCustom"),l.updateCustomMode=o(y),b.prototype.setMode=function(e,t){i(e[t+="Mode"])&&(r.verifyParamValid(t,e[t],l[t],"team::Team"),this[t]=s[t][e[t]])},b.reverse=function(e,t){var n=r.copy(e);if(i(n.teamId)&&(n.teamId=""+n.teamId),i(n.type)&&(n.type=d[n.type]),i(n.level)&&(n.level=+n.level),i(n.valid)&&(n.valid=1==+n.valid),i(n.memberNum)&&(n.memberNum=+n.memberNum),i(n.memberUpdateTime)&&(n.memberUpdateTime=+n.memberUpdateTime),i(n.createTime)&&(n.createTime=+n.createTime),i(n.updateTime)&&(n.updateTime=+n.updateTime),i(n.validToCurrentUser)&&(n.validToCurrentUser="1"===n.validToCurrentUser),i(n.mute)&&(n.mute="1"===n.mute),i(n.muteType))switch(n.muteType){case"0":n.mute=!1,n.muteType="none";break;case"1":n.mute=!0,n.muteType="normal";break;case"2":n.mute=!0,n.muteType="all"}else i(n.mute)&&(1===n.mute?(n.mute=!0,n.muteType="normal"):(n.mute=!1,n.muteType="none"));return u.forEach(function(e,t){i(e[t+="Mode"])&&(e[t]=c[t][e[t]])}.bind(null,n)),delete n.bits,t||b.fillProperties(n),n},b.fillProperties=function(e){var t=a(e,"beInviteMode","needVerify"),n=a(e,"inviteMode","manager"),r=a(e,"updateTeamMode","manager"),i=a(e,"updateCustomMode","manager"),o=a(e,"avatar","");return t||n||r||i||o},e.exports=b},,,,,,,,,function(e,t,n){"use strict";var r=n(81),i=n(71),o=n(0),a=n(5);function s(e){switch(o.notundef(e.type)?o.verifyFileType(e.type,"msg::FileMessage"):e.type="file",o.verifyOptions(e,"file","msg::FileMessage"),o.verifyOptions(e.file,"url ext size md5",!0,"file.","msg::FileMessage"),e.type){case"image":c.verifyFile(e.file,"msg::FileMessage");break;case"audio":u.verifyFile(e.file,"msg::FileMessage");break;case"video":l.verifyFile(e.file,"msg::FileMessage")}i.call(this,e),this.attach=JSON.stringify(e.file)}s.prototype=Object.create(i.prototype),s.reverse=function(e){var t=i.reverse(e);return e.attach=e.attach?""+e.attach:"",t.file=e.attach?JSON.parse(e.attach):{},t.file.url=(0,r.genPrivateUrl)(t.file.url),"audio"===t.type&&(t.file.mp3Url=t.file.url+"?audioTrans&type=mp3"),a.httpsEnabled&&(t.file.url=t.file.url.replace("http","https")),t},e.exports=s;var c=n(397),u=n(396),l=n(395)},function(e,t,n){"use strict";var r=n(46),i=n(115),o=n(5),a=n(230),s=n(399),c=n(0),u=c.verifyOptions,l=c.verifyParamType,f=n(84).getInstance("Chatroom");function d(e){return this.subType="chatroom",this.nosScene=e.nosScene||"chatroom",this.nosSurvivalTime=e.nosSurvivalTime,e.Protocol=i,e.Message=s,e.constructor=d,e.isAnonymous&&(e.account=e.account||"nimanon_"+c.guid(),e.isAnonymous=1,c.verifyOptions(e,"chatroomNick","api::Chatroom"),e.chatroomAvatar=e.chatroomAvatar||" "),this.init(e)}d.Protocol=i,d.parser=f,d.use=r.use,d.getInstance=function(e){return e.isAnonymous&&(e.account=e.account||"nimanon_"+c.guid(),e.isAnonymous=1,c.verifyOptions(e,"chatroomNick","api::Chatroom.getInstance"),e.chatroomAvatar=e.chatroomAvatar||" "),r.getInstance.call(this,e)},d.genInstanceName=function(e){return c.verifyOptions(e,"chatroomId","api::Chatroom.genInstanceName"),"Chatroom-account-"+e.account+"-chatroomId-"+e.chatroomId};var p=d.fn=d.prototype=Object.create(r.prototype);d.info=p.info=o.info,p.getChatroom=function(e){this.processCallback(e),this.sendCmd("getChatroom",e)},p.updateChatroom=function(e){u(e,"chatroom needNotify","api::updateChatroom"),l("needNotify",e.needNotify,"boolean"),this.processCustom(e),this.processCallback(e),e.chatroom=new a(e.chatroom),this.sendCmd("updateChatroom",e)},p.closeChatroom=function(e){this.processCustom(e),this.processCallback(e),this.sendCmd("closeChatroom",e)},e.exports=d,n(389),n(388),n(387)},function(e,t,n){"use strict";var r=n(81),i=n(72),o=n(0),a=n(5);function s(e){switch(o.notundef(e.type)?o.verifyFileType(e.type,"msg::FileMessage"):e.type="file",o.verifyOptions(e,"file","msg::FileMessage"),o.verifyOptions(e.file,"url ext size md5",!0,"file.","msg::FileMessage"),e.type){case"image":c.verifyFile(e.file,"msg::FileMessage");break;case"audio":u.verifyFile(e.file,"msg::FileMessage");break;case"video":l.verifyFile(e.file,"msg::FileMessage")}i.call(this,e),this.attach=JSON.stringify(e.file)}s.prototype=Object.create(i.prototype),s.reverse=function(e){var t=i.reverse(e);return e.attach=e.attach?""+e.attach:"",t.file=e.attach?JSON.parse(e.attach):{},t.file.url=(0,r.genPrivateUrl)(t.file.url),"audio"===t.type&&(t.file.mp3Url=t.file.url+"?audioTrans&type=mp3"),a.httpsEnabled&&(t.file.url=t.file.url.replace("http","https")),t},e.exports=s;var c=n(431),u=n(430),l=n(429)},function(e,t,n){"use strict";var r=n(81),i=n(0),o={unknown:0,male:1,female:2},a={0:"unknown",1:"male",2:"female"};function s(e){i.merge(this,e),i.notundef(this.gender)&&(i.verifyParamValid("gender",this.gender,s.validGenders,"user::User"),this.gender=o[this.gender]),i.notundef(this.email)&&""!==this.email&&i.verifyEmail("email",this.email,"user::User"),i.notundef(this.birth)&&""!==this.birth&&i.verifyBirth("birth",this.birth,"user::User"),i.notundef(this.tel)&&""!==this.tel&&i.verifyTel("tel",this.tel,"user::User")}s.reverse=function(e){var t=i.filterObj(e,"account nick avatar sign gender email birth tel custom createTime updateTime");return i.notundef(t.avatar)&&(t.avatar=(0,r.genPrivateUrl)(t.avatar)),i.notundef(t.gender)&&(t.gender=a[t.gender]),i.notundef(t.createTime)&&(t.createTime=+t.createTime),i.notundef(t.updateTime)&&(t.updateTime=+t.updateTime),t},s.reverseUsers=function(e){return e.map(function(e){return s.reverse(e)})},s.validGenders=Object.keys(o),e.exports=s},function(e,t,n){var o=n(6)("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},function(e,t,n){var r=n(22),i=n(6)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var o=n(15);e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}},function(e,t,n){"use strict";var r=n(66);e.exports=function(e,t){return t.method="POST",t.headers=t.headers||{},t.headers["Content-Type"]="multipart/form-data",t.timeout=0,t.type=t.type||"json",r(e,t)}},function(e,t,n){"use strict";var a,s,c=n(11),u=n(66),r=(a=/json/i,s=/post/i,function(e,t){var n=(t=t||{}).data=t.data||{},r=t.headers=t.headers||{},i=c.checkWithDefault(r,"Accept","application/json"),o=c.checkWithDefault(r,"Content-Type","application/json");return a.test(i)&&(t.type="json"),s.test(t.method)&&a.test(o)&&(t.data=JSON.stringify(n)),u(e,t)});e.exports=r},function(e,t,n){"use strict";var a=n(11),s=n(85),r=n(65),c={};function i(e){this.init(),r.call(this,e)}var o=r.prototype,u=i.prototype=Object.create(o);u.init=function(){var i="NEJ-AJAX-DATA:",t=!1;function n(e){var t=e.data;if(0===t.indexOf(i)){var n=(t=JSON.parse(t.replace(i,""))).key,r=c[n];r&&(delete c[n],t.result=decodeURIComponent(t.result||""),r.onLoad(t))}}return function(){!function(){if(!t){t=!0;var e=a.getGlobal();e.postMessage?a.on(e,"message",n):s.addMsgListener(n)}}()}}(),u.doSend=function(){var e=this.options,t=a.url2origin(e.url),n=e.proxyUrl||t+"/res/nej_proxy_frame.html",r=c[n];if(a.isArray(r))r.push(this.doSend.bind(this,e));else{if(!r)return c[n]=[this.doSend.bind(this,e)],void a.createIframe({src:n,onload:function(e){var t=c[n];c[n]=a.target(e).contentWindow,t.forEach(function(e){try{e()}catch(e){console.error(e)}})}});if(!this.aborted){var i=this.key=a.uniqueID();c[i]=this;var o=a.fetch({method:"GET",url:"",data:null,headers:{},timeout:0},e);o.key=i,s.postMessage(r,{data:o}),this.afterSend()}}},u.abort=function(){this.aborted=!0,delete c[this.key],o.abort.call(this)},e.exports=i},function(e,t,n){"use strict";var f=n(11),r=n(65),i=n(85),o="NEJ-UPLOAD-RESULT:",d={};function a(e){this.init(),r.call(this,e)}var s=r.prototype,c=a.prototype=Object.create(s);c.init=function(){var t=!1;function n(e){var t=e.data;if(0===t.indexOf(o)){var n=(t=JSON.parse(t.replace(o,""))).key,r=d[n];r&&(delete d[n],t.result=decodeURIComponent(t.result||""),r.onLoad(t.result))}}return function(){!function(){if(!t){t=!0;var e=f.getGlobal();e.postMessage?f.on(e,"message",n):(i.addMsgListener(n),i.startTimer())}}()}}(),c.doSend=function(){var e=this,t=e.options,n=e.key="zoro-ajax-upload-iframe-"+f.uniqueID(),a=(d[n]=e).form=f.html2node('<form style="display:none;"></form>');document.body.appendChild(a),a.target=n,a.method="POST",a.enctype="multipart/form-data",a.encoding="multipart/form-data";var r=t.url,i=f.genUrlSep(r);a.action=r+i+"_proxy_=form";var s=t.data,c=[],u=[];function o(){c.forEach(function(e,t){var n=u[t];n.parentNode&&(e.name=n.name,f.isFunction(e.setAttribute)&&e.setAttribute("form",n.getAttribute("form")),n.parentNode.replaceChild(e,n))})}s&&f.getKeys(s,t.putFileAtEnd).forEach(function(e){var t=s[e];if(t.tagName&&"INPUT"===t.tagName.toUpperCase()){if("file"===t.type){var n=t,r=n.cloneNode(!0);n.parentNode.insertBefore(r,n);var i=f.dataset(n,"name");i&&(n.name=i),a.appendChild(n),f.isFunction(n.setAttribute)&&(n.setAttribute("form",""),n.removeAttribute("form")),c.push(t),u.push(r)}}else{var o=f.html2node('<input type="hidden"/>');o.name=e,o.value=t,a.appendChild(o)}});var l=e.iframe=f.createIframe({name:n,onload:function(){e.aborted?o():(f.on(l,"load",e.checkResult.bind(e)),a.submit(),o(),e.afterSend())}})},c.checkResult=function(){var e,t;try{if(0<=(t=((e=this.iframe.contentWindow.document.body).innerText||e.textContent||"").trim()).indexOf(o)||0<=e.innerHTML.indexOf(o))return}catch(e){return void console.error("ignore error if not same domain,",e)}this.onLoad(t)},c.onLoad=function(e){s.onLoad.call(this,{status:200,result:e}),f.remove(this.form),f.remove(this.iframe),s.destroy.call(this)},c.destroy=function(){f.remove(this.iframe),f.remove(this.form)},c.abort=function(){this.aborted=!0,delete d[this.key],s.abort.call(this)},e.exports=a},function(a,e,s){var c;
/*!
 * EventEmitter v5.2.4 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */!function(e){"use strict";function t(){}var n=t.prototype,r=e.EventEmitter;function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}n.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},n.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},n.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},n.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=o(i[r],t))&&i[r].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},n.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var n,r,i,o,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return e.EventEmitter=r,t},void 0===(c=function(){return t}.call(e,s,e,a))||(a.exports=c)}(this||{})},function(e,t,n){"use strict";var o=n(11),r=n(65);function i(e){e.onuploading&&this.on("uploading",e.onuploading),r.call(this,e)}var a=r.prototype,s=i.prototype=Object.create(a);s.doSend=function(){var n=this.options,t=n.headers,r=this.xhr=new XMLHttpRequest;if("multipart/form-data"===t["Content-Type"]){delete t["Content-Type"],r.upload.onprogress=this.onProgress.bind(this),r.upload.onload=this.onProgress.bind(this);var i=n.data;n.data=new window.FormData,i&&o.getKeys(i,n.putFileAtEnd).forEach(function(e){var t=i[e];t.tagName&&"INPUT"===t.tagName.toUpperCase()?"file"===t.type&&[].forEach.call(t.files,function(e){n.data.append(o.dataset(t,"name")||t.name||e.name||"file-"+o.uniqueID(),e)}):n.data.append(e,t)})}r.onreadystatechange=this.onStateChange.bind(this),0!==n.timeout&&(this.timer=setTimeout(this.onTimeout.bind(this),n.timeout)),r.open(n.method,n.url,!n.sync),Object.keys(t).forEach(function(e){r.setRequestHeader(e,t[e])}),n.cookie&&"withCredentials"in r&&(r.withCredentials=!0),r.send(n.data),this.afterSend()},s.onProgress=function(e){e.lengthComputable&&e.loaded<=e.total&&this.emit("uploading",e)},s.onStateChange=function(){var e=this.xhr;4===e.readyState&&this.onLoad({status:e.status,result:e.responseText||""})},s.getResponseHeader=function(e){var t=this.xhr;return t?t.getResponseHeader(e):""},s.destroy=function(){clearTimeout(this.timer);try{this.xhr.onreadystatechange=o.f,this.xhr.abort()}catch(e){console.error("ignore error ajax destroy,",e)}a.destroy.call(this)},e.exports=i},function(e,t,n){"use strict";n(175).polyfill(),n(5).isBrowser=!0},,,,,,,,function(e,t){e.exports=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*! Socket.IO.js build:0.9.11, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed */function getGlobal(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==global?global:{}}var root=getGlobal(),io=module.exports;void 0===root.location&&(root.location=null),root.io?module&&(module.exports=io=root.io):root.io=io,function(){var TKe,UKe,VKe;TKe=module.exports,UKe=root,VKe=TKe,VKe.version="0.9.11",VKe.protocol=1,VKe.transports=[],VKe.j=[],VKe.sockets={},VKe.connect=function(e,t){var n,r,i=VKe.util.parseUri(e);UKe&&UKe.location&&(i.protocol=i.protocol||UKe.location.protocol.slice(0,-1),i.host=i.host||(UKe.document?UKe.document.domain:UKe.location.hostname),i.port=i.port||UKe.location.port),n=VKe.util.uniqueUri(i);var o={host:i.host,secure:"https"===i.protocol,port:i.port||("https"===i.protocol?443:80),query:i.query||""};return VKe.util.merge(o,t),!o["force new connection"]&&VKe.sockets[n]||(r=new VKe.Socket(o)),!o["force new connection"]&&r&&(VKe.sockets[n]=r),(r=r||VKe.sockets[n]).of(1<i.path.length?i.path:"")},function(e,i){var s=e.util={},o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];s.parseUri=function(e){for(var t=o.exec(e||""),n={},r=14;r--;)n[a[r]]=t[r]||"";return n},s.uniqueUri=function(e){var t=e.protocol,n=e.host,r=e.port;return"document"in i?(n=n||document.domain,r=r||("https"==t&&"https:"!==document.location.protocol?443:document.location.port)):(n=n||"localhost",r||"https"!=t||(r=443)),(t||"http")+"://"+n+":"+(r||80)},s.query=function(e,t){var n=s.chunkQuery(e||""),r=[];for(var i in s.merge(n,s.chunkQuery(t||"")),n)n.hasOwnProperty(i)&&r.push(i+"="+n[i]);return r.length?"?"+r.join("&"):""};var t=!(s.chunkQuery=function(e){for(var t,n={},r=e.split("&"),i=0,o=r.length;i<o;++i)(t=r[i].split("="))[0]&&(n[t[0]]=t[1]);return n});s.load=function(e){if(document&&"complete"===document.readyState||t)return e();s.on(i,"load",e,!1)},s.on=function(e,t,n,r){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,r)},s.request=function(e){if(e&&"undefined"!=typeof XDomainRequest&&!s.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!e||s.ua.hasCORS))return new XMLHttpRequest;if(!e)try{return new(root[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}return null},void 0!==root&&s.load(function(){t=!0}),s.defer=function(e){if(!s.ua.webkit||"undefined"!=typeof importScripts)return e();s.load(function(){setTimeout(e,100)})},s.merge=function(e,t,n,r){var i,o=r||[],a=void 0===n?2:n;for(i in t)t.hasOwnProperty(i)&&s.indexOf(o,i)<0&&("object"==typeof e[i]&&a?s.merge(e[i],t[i],a-1,o):(e[i]=t[i],o.push(t[i])));return e},s.mixin=function(e,t){s.merge(e.prototype,t.prototype)},s.inherit=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},s.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.intersect=function(e,t){for(var n=[],r=e.length>t.length?e:t,i=e.length>t.length?t:e,o=0,a=i.length;o<a;o++)~s.indexOf(r,i[o])&&n.push(i[o]);return n},s.indexOf=function(e,t,n){var r=e.length;for(n=n<0?n+r<0?0:n+r:n||0;n<r&&e[n]!==t;n++);return r<=n?-1:n},s.toArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},s.ua={},s.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var e=new XMLHttpRequest}catch(e){return!1}return null!=e.withCredentials}(),s.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent),s.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}(void 0!==io?io:module.exports,root),function(e,a){function t(){}(e.EventEmitter=t).prototype.addListener=t.prototype.on=function(e,t){return this.$events||(this.$events={}),this.$events[e]?a.util.isArray(this.$events[e])?this.$events[e].push(t):this.$events[e]=[this.$events[e],t]:this.$events[e]=t,this},t.prototype.once=function(e,t){var n=this;function r(){n.removeListener(e,r),t.apply(this,arguments)}return r.listener=t,this.on(e,r),this},t.prototype.removeListener=function(e,t){if(this.$events&&this.$events[e]){var n=this.$events[e];if(a.util.isArray(n)){for(var r=-1,i=0,o=n.length;i<o;i++)if(n[i]===t||n[i].listener&&n[i].listener===t){r=i;break}if(r<0)return this;n.splice(r,1),n.length||delete this.$events[e]}else(n===t||n.listener&&n.listener===t)&&delete this.$events[e]}return this},t.prototype.removeAllListeners=function(e){return void 0===e?this.$events={}:this.$events&&this.$events[e]&&(this.$events[e]=null),this},t.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),a.util.isArray(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},t.prototype.emit=function(e){if(!this.$events)return!1;var t=this.$events[e];if(!t)return!1;var n=Array.prototype.slice.call(arguments,1);if("function"==typeof t)t.apply(this,n);else{if(!a.util.isArray(t))return!1;for(var r=t.slice(),i=0,o=r.length;i<o;i++)r[i].apply(this,n)}return!0}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports),function(exports,nativeJSON){"use strict";if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={};function f(e){return e<10?"0"+e:e}function date(e,t){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,c=t[e];switch(c instanceof Date&&(c=date(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;n<o;n+=1)a[n]=str(n,c)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],c))&&a.push(quote(r)+(gap?": ":":")+i);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c))&&a.push(quote(r)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}JSON.stringify=function(e,t,n){var r;if(indent=gap="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("socket.io:: replacer cannot JSON.stringify");return str("",{"":e})},JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("socket.io:: reviver cannot JSON.parse")}}(void 0!==io?io:module.exports,"undefined"!=typeof JSON?JSON:void 0),function(e,t){var s=e.parser={},f=s.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],d=s.reasons=["transport not supported","client not handshaken","unauthorized"],p=s.advice=["reconnect"],h=t.JSON,m=t.util.indexOf;s.encodePacket=function(e){var t=m(f,e.type),n=e.id||"",r=e.endpoint||"",i=e.ack,o=null;switch(e.type){case"error":var a=e.reason?m(d,e.reason):"",s=e.advice?m(p,e.advice):"";""===a&&""===s||(o=a+(""!==s?"+"+s:""));break;case"message":""!==e.data&&(o=e.data);break;case"event":var c={name:e.name};e.args&&e.args.length&&(c.args=e.args),o=h.stringify(c);break;case"json":o=h.stringify(e.data);break;case"connect":e.qs&&(o=e.qs);break;case"ack":o=e.ackId+(e.args&&e.args.length?"+"+h.stringify(e.args):"")}var u=[t,n+("data"==i?"+":""),r];return null!=o&&u.push(o),u.join(":")},s.encodePayload=function(e){var t="";if(1==e.length)return e[0];for(var n=0,r=e.length;n<r;n++)t+="�"+e[n].length+"�"+e[n];return t};var o=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;s.decodePacket=function(e){if(!(r=e.match(o)))return{};var t=r[2]||"",n=(e=r[5]||"",{type:f[r[1]],endpoint:r[4]||""});switch(t&&(n.id=t,r[3]?n.ack="data":n.ack=!0),n.type){case"error":var r=e.split("+");n.reason=d[r[0]]||"",n.advice=p[r[1]]||"";break;case"message":n.data=e||"";break;case"event":try{var i=h.parse(e);n.name=i.name,n.args=i.args}catch(e){}n.args=n.args||[];break;case"json":try{n.data=h.parse(e)}catch(e){}break;case"connect":n.qs=e||"";break;case"ack":if((r=e.match(/^([0-9]+)(\+)?(.*)/))&&(n.ackId=r[1],n.args=[],r[3]))try{n.args=r[3]?h.parse(r[3]):[]}catch(e){}}return n},s.decodePayload=function(e){var t=function(e,t){for(var n=0,r=e;r<t.length;r++){if("�"==t.charAt(r))return n;n++}return n};if("�"!=e.charAt(0))return[s.decodePacket(e)];for(var n=[],r=1,i="";r<e.length;r++)if("�"==e.charAt(r)){var o=e.substr(r+1).substr(0,i);if("�"!=e.charAt(r+1+Number(i))&&r+1+Number(i)!=e.length){var a=Number(i);l=t(r+a+1,e),o=e.substr(r+1).substr(0,a+l),r+=l}n.push(s.decodePacket(o)),r+=Number(i)+1,i=""}else i+=e.charAt(r);return n}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports),function(e,i){function t(e,t){this.socket=e,this.sessid=t}e.Transport=t,i.util.mixin(t,i.EventEmitter),t.prototype.heartbeats=function(){return!0},t.prototype.onData=function(e){if(this!==this.socket.transport)return this;if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),""!==e){var t=i.parser.decodePayload(e);if(t&&t.length)for(var n=0,r=t.length;n<r;n++)this.onPacket(t[n])}return this},t.prototype.onPacket=function(e){return this.socket.setHeartbeatTimeout(),"heartbeat"==e.type?this.onHeartbeat():("connect"==e.type&&""==e.endpoint&&this.onConnect(),"error"==e.type&&"reconnect"==e.advice&&(this.isOpen=!1),this.socket.onPacket(e),this)},t.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var e=this;this.closeTimeout=setTimeout(function(){e.onDisconnect()},this.socket.closeTimeout)}},t.prototype.onDisconnect=function(){return this.isOpen&&this.close(),this.clearTimeouts(),this.socket.transport===this?this.socket.onDisconnect():this.socket.setBuffer(!1),this},t.prototype.onConnect=function(){return this.socket.onConnect(),this},t.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},t.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},t.prototype.packet=function(e){this.send(i.parser.encodePacket(e))},t.prototype.onHeartbeat=function(e){this.packet({type:"heartbeat"})},t.prototype.onOpen=function(){this.isOpen=!0,this.clearCloseTimeout(),this.socket.onOpen()},t.prototype.onClose=function(){this.isOpen=!1,this.socket.transport===this?this.socket.onClose():this.socket.setBuffer(!1),this.onDisconnect(),this.onDisconnectDone instanceof Function&&this.onDisconnectDone(null),this.onConnectionOver instanceof Function&&this.onConnectionOver(null)},t.prototype.onDisconnectDone=function(){},t.prototype.onConnectionOver=function(){},t.prototype.prepareUrl=function(){var e=this.socket.options;return this.scheme()+"://"+e.host+":"+e.port+"/"+e.resource+"/"+i.protocol+"/"+this.name+"/"+this.sessid},t.prototype.ready=function(e,t){t.call(this)}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports),function(e,c,n){function t(e){if(this.options={port:80,secure:!1,document:"document"in n&&document,resource:"socket.io",transports:e.transports||c.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1},c.util.merge(this.options,e),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||c.util.ua.hasCORS)){var t=this;c.util.on(n,"beforeunload",function(){t.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function u(){}e.Socket=t,c.util.mixin(t,c.EventEmitter),t.prototype.of=function(e){return this.namespaces[e]||(this.namespaces[e]=new c.SocketNamespace(this,e),""!==e&&this.namespaces[e].packet({type:"connect"})),this.namespaces[e]},t.prototype.publish=function(){var e;for(var t in this.emit.apply(this,arguments),this.namespaces)this.namespaces.hasOwnProperty(t)&&(e=this.of(t)).$emit.apply(e,arguments)},t.prototype.handshake=function(t){var n=this,e=this.options;function r(e){e instanceof Error?(n.connecting=!1,n.onError(e.message)):(console.log("SocketIO handshake success "+e),t.apply(null,e.split(":")))}var i=["http"+(e.secure?"s":"")+":/",e.host+":"+e.port,e.resource,c.protocol,c.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!c.util.ua.hasCORS&&document&&document.getElementsByTagName){var o=document.getElementsByTagName("script")[0],a=document.createElement("script");a.src=i+"&jsonp="+c.j.length,a.onreadystatechange=function(){"loaded"==this.readyState&&a.parentNode&&(a.parentNode.removeChild(a),n.connecting=!1,!n.reconnecting&&n.onError("Server down or port not open"),n.publish("handshake_failed"))},o.parentNode.insertBefore(a,o),c.j.push(function(e){r(e),a.parentNode.removeChild(a)})}else{var s=c.util.request();s.open("GET",i,!0),s.timeout=1e4,this.isXDomain()&&(s.withCredentials=!0),s.onreadystatechange=function(){4==s.readyState&&(s.onreadystatechange=u,200==s.status?r(s.responseText):(403==s.status?(n.connecting=!1,n.onError(s.responseText)):(n.connecting=!1,!n.reconnecting&&n.onError(s.responseText)),n.publish("handshake_failed")))},s.ontimeout=function(e){n.connecting=!1,!n.reconnecting&&n.onError(s.responseText),n.publish("handshake_failed")},s.send(null)}},t.prototype.connect=function(i){if(this.connecting)return this;var o=this;return o.connecting=!0,this.handshake(function(e,t,n,r){o.sessionid=e,o.closeTimeout=1e3*n,o.heartbeatTimeout=1e3*t,o.transports||(o.transports=o.origTransports=r?c.util.intersect(r.split(","),o.options.transports):o.options.transports),console.log("SocketIO transports: "+o.transports+" opt:"+o.options.transports),o.setHeartbeatTimeout(),o.once("connect",function(){clearTimeout(o.connectTimeoutTimer),o.connectTimeoutTimer=null,i&&"function"==typeof i&&i()}),o.doConnect()}),this},t.prototype.doConnect=function(){var e=this;if(e.transport&&e.transport.clearTimeouts(),e.transport=e.getTransport(e.transports),!e.transport)return e.publish("connect_failed");e.transport.ready(e,function(){e.connecting=!0,e.publish("connecting",e.transport.name),e.transport.open(),e.options["connect timeout"]&&(e.connectTimeoutTimer&&clearTimeout(e.connectTimeoutTimer),e.connectTimeoutTimer=setTimeout(e.tryNextTransport.bind(e),e.options["connect timeout"]))})},t.prototype.getTransport=function(e){for(var t,n=e||this.transports,r=0;t=n[r];r++)if(console.log("SocketIO check "+t+" "+c.Transport[t].check(this)+" , cors "+c.Transport[t].xdomainCheck(this)),c.Transport[t]&&c.Transport[t].check(this)&&(!this.isXDomain()||c.Transport[t].xdomainCheck(this)))return new c.Transport[t](this,this.sessionid);return null},t.prototype.tryNextTransport=function(){if(console.log("SocketIO try next transport"),!this.connected&&(this.connecting=!1,this.options["try multiple transports"])){for(var e=this.transports;0<e.length&&e.splice(0,1)[0]!=this.transport.name;);e.length?this.doConnect():this.publish("connect_failed")}},t.prototype.setHeartbeatTimeout=function(){if(clearTimeout(this.heartbeatTimeoutTimer),!this.transport||this.transport.heartbeats()){var e=this;this.heartbeatTimeoutTimer=setTimeout(function(){e.transport&&e.transport.onClose()},this.heartbeatTimeout)}},t.prototype.packet=function(e){return this.connected&&!this.doBuffer?this.transport.packet(e):this.buffer.push(e),this},t.prototype.setBuffer=function(e){!(this.doBuffer=e)&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())},t.prototype.flushBuffer=function(){this.transport.payload(this.buffer),this.buffer=[]},t.prototype.disconnect=function(){return(this.connected||this.connecting)&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this},t.prototype.disconnectSync=function(){var e=c.util.request(),t=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,c.protocol,"",this.sessionid].join("/")+"/?disconnect=1";e.open("GET",t,!1),e.send(null),this.onDisconnect("booted")},t.prototype.isXDomain=function(){var e=n.location.port||("https:"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=e},t.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},t.prototype.onOpen=function(){this.open=!0},t.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},t.prototype.onPacket=function(e){this.of(e.endpoint).onPacket(e)},t.prototype.onError=function(e){e&&e.advice&&"reconnect"===e.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",e&&e.reason?e.reason:e)},t.prototype.onDisconnect=function(e){var t=this.connected,n=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1,(t||n)&&(this.transport.close(),this.transport.clearTimeouts(),t&&(this.publish("disconnect",e),"booted"!=e&&this.options.reconnect&&!this.reconnecting&&this.reconnect()),n&&this.tryNextTransport())},t.prototype.reconnect=function(){this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var t=this,e=this.options["max reconnection attempts"],n=this.options["try multiple transports"],r=this.options["reconnection limit"];function i(){if(t.connected){for(var e in t.namespaces)t.namespaces.hasOwnProperty(e)&&""!==e&&t.namespaces[e].packet({type:"connect"});t.publish("reconnect",t.transport.name,t.reconnectionAttempts)}clearTimeout(t.reconnectionTimer),t.removeListener("connect_failed",o),t.removeListener("connect",o),t.reconnecting=!1,delete t.reconnectionAttempts,delete t.reconnectionDelay,delete t.reconnectionTimer,delete t.redoTransports,t.options["try multiple transports"]=n}function o(){if(t.reconnecting)return t.connected?i():t.connecting&&t.reconnecting?t.reconnectionTimer=setTimeout(o,1e3):void(t.reconnectionAttempts++>=e?t.redoTransports?(t.publish("reconnect_failed"),i()):(t.on("connect_failed",o),t.options["try multiple transports"]=!0,t.transports=t.origTransports,t.transport=t.getTransport(),t.redoTransports=!0,t.connect()):(t.reconnectionDelay<r&&(t.reconnectionDelay*=2),t.connect(),t.publish("reconnecting",t.reconnectionDelay,t.reconnectionAttempts),t.reconnectionTimer=setTimeout(o,t.reconnectionDelay)))}this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(o,this.reconnectionDelay),this.on("connect",o)}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports,root),function(e,i){function t(e,t){this.socket=e,this.name=t||"",this.flags={},this.json=new n(this,"json"),this.ackPackets=0,this.acks={}}function n(e,t){this.namespace=e,this.name=t}e.SocketNamespace=t,i.util.mixin(t,i.EventEmitter),t.prototype.$emit=i.EventEmitter.prototype.emit,t.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},t.prototype.packet=function(e){return e.endpoint=this.name,this.socket.packet(e),this.flags={},this},t.prototype.send=function(e,t){var n={type:this.flags.json?"json":"message",data:e};return"function"==typeof t&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=t),this.packet(n)},t.prototype.emit=function(e){var t=Array.prototype.slice.call(arguments,1),n=t[t.length-1],r={type:"event",name:e};return"function"==typeof n&&(r.id=++this.ackPackets,r.ack="data",this.acks[r.id]=n,t=t.slice(0,t.length-1)),r.args=t,this.packet(r)},t.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},t.prototype.onPacket=function(e){var t=this;function n(){t.packet({type:"ack",args:i.util.toArray(arguments),ackId:e.id})}switch(e.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(e.reason||"booted"):this.$emit("disconnect",e.reason);break;case"message":case"json":var r=["message",e.data];"data"==e.ack?r.push(n):e.ack&&this.packet({type:"ack",ackId:e.id}),this.$emit.apply(this,r);break;case"event":r=[e.name].concat(e.args),"data"==e.ack&&r.push(n),this.$emit.apply(this,r);break;case"ack":this.acks[e.ackId]&&(this.acks[e.ackId].apply(this,e.args),delete this.acks[e.ackId]);break;case"error":console.error("SocketIO on packet error: ",e),e.advice?this.socket.onError(e):"unauthorized"===e.reason?this.$emit("connect_failed",e.reason):this.$emit("error",e.reason)}},n.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},n.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports),function(e,r,i){function t(e){r.Transport.apply(this,arguments)}e.websocket=t,r.util.inherit(t,r.Transport),t.prototype.name="websocket",t.prototype.open=function(){var e,t=r.util.query(this.socket.options.query),n=this;return e||(e=i.MozWebSocket||i.WebSocket),this.websocket=new e(this.prepareUrl()+t),this.websocket.onopen=function(){n.onOpen(),n.socket.setBuffer(!1)},this.websocket.onmessage=function(e){n.onData(e.data)},this.websocket.onclose=function(){n.socket.setBuffer(!0),n.onClose()},this.websocket.onerror=function(e){n.onError(e)},this},t.prototype.send=r.util.ua.iDevice?function(e){var t=this;return setTimeout(function(){t.websocket.send(e)},0),this}:function(e){return this.websocket.send(e),this},t.prototype.payload=function(e){for(var t=0,n=e.length;t<n;t++)this.packet(e[t]);return this},t.prototype.close=function(){return this.websocket.close(),this},t.prototype.onError=function(e){this.socket.onError(e)},t.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},t.check=function(){return"WebSocket"in i&&!("__addTask"in WebSocket)||"MozWebSocket"in i},t.xdomainCheck=function(){return!0},r.transports.push("websocket")}(void 0!==io?io.Transport:module.exports,void 0!==io?io:module.parent.exports,root),function(e,a,s){function t(e){e&&(a.Transport.apply(this,arguments),this.sendBuffer=[])}function n(){}e.XHR=t,a.util.inherit(t,a.Transport),t.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},t.prototype.payload=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(a.parser.encodePacket(e[n]));this.send(a.parser.encodePayload(t))},t.prototype.send=function(e){return this.post(e),this},t.prototype.post=function(e){var t=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),s.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=function(){this.onload=n,t.socket.setBuffer(!1)}:this.sendXHR.onreadystatechange=function(){4==this.readyState&&(this.onreadystatechange=n,t.posting=!1,200==this.status?t.socket.setBuffer(!1):t.onClose())},this.sendXHR.send(e)},t.prototype.close=function(){return this.onClose(),this},t.prototype.request=function(e){var t=a.util.request(this.socket.isXDomain()),n=a.util.query(this.socket.options.query,"t="+ +new Date);if(t.open(e||"GET",this.prepareUrl()+n,!0),"POST"==e)try{t.setRequestHeader?t.setRequestHeader("Content-type","text/plain;charset=UTF-8"):t.contentType="text/plain"}catch(e){}return t},t.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},t.check=function(e,t){try{var n=a.util.request(t),r=s.XDomainRequest&&n instanceof XDomainRequest,i=e&&e.options&&e.options.secure?"https:":"http:",o=s.location&&i!=s.location.protocol;if(n&&(!r||!o))return!0}catch(e){}return!1},t.xdomainCheck=function(e){return t.check(e,!0)}}(void 0!==io?io.Transport:module.exports,void 0!==io?io:module.parent.exports,root),function(e,r,t){function n(){r.Transport.XHR.apply(this,arguments)}function i(){}e["xhr-polling"]=n,r.util.inherit(n,r.Transport.XHR),r.util.merge(n,r.Transport.XHR),n.prototype.name="xhr-polling",n.prototype.heartbeats=function(){return!1},n.prototype.open=function(){return r.Transport.XHR.prototype.open.call(this),!1},n.prototype.get=function(){if(this.isOpen){var e=this;this.xhr=this.request(),t.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=function(){this.onload=i,this.onerror=i,e.retryCounter=1,e.onData(this.responseText),e.get()},this.xhr.onerror=function(){e.retryCounter++,!e.retryCounter||3<e.retryCounter?e.onClose():e.get()}):this.xhr.onreadystatechange=function(){4==this.readyState&&(this.onreadystatechange=i,200==this.status?(e.onData(this.responseText),e.get()):e.onClose())},this.xhr.send(null)}},n.prototype.onClose=function(){if(r.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=i;try{this.xhr.abort()}catch(e){}this.xhr=null}},n.prototype.ready=function(e,t){var n=this;r.util.defer(function(){t.call(n)})},r.transports.push("xhr-polling")}(void 0!==io?io.Transport:module.exports,void 0!==io?io:module.parent.exports,root),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return io}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}).call(this,__webpack_require__(30),__webpack_require__(249)(module))},function(e,t,n){"use strict";var r={1:"ROOM_CLOSE",2:"ROOM_JOIN",3:"INVITE",4:"CANCEL_INVITE",5:"REJECT",6:"ACCEPT",7:"LEAVE",8:"CONTROL"},i={1:"accid",2:"uid",3:"createTime",4:"expireTime",5:"web_uid"},o={10404:"ROOM_NOT_EXISTS",10405:"ROOM_HAS_EXISTS",10406:"ROOM_MEMBER_NOT_EXISTS",10407:"ROOM_MEMBER_HAS_EXISTS",10408:"INVITE_NOT_EXISTS",10409:"INVITE_HAS_REJECT",10410:"INVITE_HAS_ACCEPT",10201:"PEER_NIM_OFFLINE",10202:"PEER_PUSH_OFFLINE",10419:"ROOM_MEMBER_EXCEED",10420:"ROOM_MEMBER_HAS_EXISTS_OTHER_CLIENT",10417:"UID_CONFLICT"};e.exports={parseAvSignalType:function(e){return r[e]||e},parseAvSignalMember:function(t){var n={};return Object.keys(t).forEach(function(e){n[i[e]]=t[e]}),n},parseAvSignalError:function(e){return e.message=o[e.code]||e.message||e,e}}},function(e,t,n){"use strict";var r=n(0),i={stripmeta:0,blur:2,quality:3,crop:4,rotate:5,thumbnail:7,interlace:9},o={0:"stripmeta",1:"type",2:"blur",3:"quality",4:"crop",5:"rotate",6:"pixel",7:"thumbnail",8:"watermark",9:"interlace",10:"tmp"};function a(e){r.verifyOptions(e,"type","image::ImageOp"),r.verifyParamValid("type",e.type,a.validTypes,"image::ImageOp"),r.merge(this,e),this.type=i[e.type]}a.validTypes=Object.keys(i),a.reverse=function(e){var t=r.copy(e);return t.type=o[t.type],t},a.reverseImageOps=function(e){return e.map(function(e){return a.reverse(e)})},e.exports=a},function(e,t,n){"use strict";var a=n(0),r={fromDataURL:function(e){var t=a.getGlobal(),n=void 0;n=0<=e.split(",")[0].indexOf("base64")?t.atob(e.split(",")[1]):t.decodeURIComponent(e.split(",")[1]);for(var r=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new t.Blob([i],{type:r})}};e.exports=r},function(e,t,n){"use strict";var i=n(0),r={file:{md5:"$(Etag)",size:"$(ObjectSize)"},image:{md5:"$(Etag)",size:"$(ObjectSize)",w:"$(ImageInfo.Width)",h:"$(ImageInfo.Height)",orientation:"$(ImageInfo.Orientation)"},audio:{md5:"$(Etag)",size:"$(ObjectSize)",dur:"$(AVinfo.Audio.Duration)"},video:{md5:"$(Etag)",size:"$(ObjectSize)",dur:"$(AVinfo.Video.Duration)",w:"$(AVinfo.Video.Width)",h:"$(AVinfo.Video.Height)"}},o={genResponseBody:function(e){return r[e=e||"file"]},parseResponse:function(e,t){i.notundef(e.size)&&(e.size=+e.size),i.notundef(e.w)&&(e.w=+e.w),i.notundef(e.h)&&(e.h=+e.h),i.notundef(e.dur)&&(e.dur=+e.dur);var n=e.orientation;if(i.notundef(n)&&(delete e.orientation,t&&("right, top"===n||"left, bottom"===n))){var r=e.w;e.w=e.h,e.h=r}return e}};e.exports=o},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(81),i=n(0),o=i.notundef,a={"-2":"unset","-1":"restricted",0:"common",1:"owner",2:"manager",3:"guest",4:"anonymous"};function s(e){o(e.nick)&&(this.nick=""+e.nick),o(e.avatar)&&(this.avatar=""+e.avatar),o(e.custom)&&(this.custom=""+e.custom)}s.reverse=function(e){var t=i.copy(e);return o(t.chatroomId)&&(t.chatroomId=""+t.chatroomId),o(t.avatar)&&(t.avatar=(0,r.genPrivateUrl)(t.avatar)),o(t.type)&&(t.type=a[t.type]),o(t.level)&&(t.level=+t.level),o(t.online)&&(t.online=1==+t.online),o(t.enterTime)&&(t.enterTime=+t.enterTime),o(t.guest)&&(t.guest=1==+t.guest),o(t.blacked)&&(t.blacked=1==+t.blacked),o(t.gaged)&&(t.gaged=1==+t.gaged),o(t.valid)&&(t.valid=1==+t.valid),o(t.updateTime)&&(t.updateTime=+t.updateTime),o(t.tempMuted)?t.tempMuted=1==+t.tempMuted:t.tempMuted=!1,o(t.tempMuteDuration)?t.tempMuteDuration=+t.tempMuteDuration:t.tempMuteDuration=0,t.online||delete t.enterTime,t.guest&&(t.type="guest",delete t.valid),"common"!==t.type&&delete t.level,delete t.guest,t},s.reverseMembers=function(e){return e.map(function(e){return s.reverse(e)})},s.validTypes=Object.keys(a),s.typeReverseMap=a,e.exports=s},function(e,t,n){"use strict";var r=n(21),i=n(238),o=n(150),a=n(73),s=n(67),c=n(0),u=n(173),l=n(153),f=n(51),d=n(232),p=n(231);e.exports=function(e){c.merge(e,{platform:r,xhr:i,io:o,naturalSort:a,deepAccess:s,util:c,support:u,blob:l,ajax:f,LoggerPlugin:d,usePlugin:p})}},function(e,t,n){"use strict";var r=n(0),i=n(80),o=r.merge({},i.idMap,{auth:{id:2,login:3,kicked:5,logout:6,multiPortLogin:7,kick:8},user:{id:3,updatePushToken:1,appBackground:2,markInBlacklist:3,getBlacklist:4,markInMutelist:5,getMutelist:6,getRelations:8,getUsers:7,updateMyInfo:10,updateDonnop:15,syncMyInfo:109,syncUpdateMyInfo:110},notify:{id:4,markRead:3,syncOfflineMsgs:4,batchMarkRead:5,syncOfflineSysMsgs:6,syncRoamingMsgs:9,syncMsgReceipts:12,syncRobots:15,syncBroadcastMsgs:16},sync:{id:5,sync:1,syncTeamMembers:2},msg:{id:7,sendMsg:1,msg:2,sysMsg:3,getHistoryMsgs:6,sendCustomSysMsg:7,searchHistoryMsgs:8,deleteSessions:9,getSessions:10,syncSendMsg:101,sendMsgReceipt:11,msgReceipt:12,deleteMsg:13,msgDeleted:14,markSessionAck:16,broadcastMsg:17},team:{id:8,createTeam:1,sendTeamMsg:2,teamMsg:3,teamMsgs:4,addTeamMembers:5,removeTeamMembers:6,updateTeam:7,leaveTeam:8,getTeam:9,getTeams:10,getTeamMembers:11,dismissTeam:12,applyTeam:13,passTeamApply:14,rejectTeamApply:15,addTeamManagers:16,removeTeamManagers:17,transferTeam:18,updateInfoInTeam:19,updateNickInTeam:20,acceptTeamInvite:21,rejectTeamInvite:22,getTeamHistoryMsgs:23,searchTeamHistoryMsgs:24,updateMuteStateInTeam:25,getMyTeamMembers:26,getMutedTeamMembers:27,sendTeamMsgReceipt:28,getTeamMsgReads:29,getTeamMsgReadAccounts:30,notifyTeamMsgReads:31,muteTeamAll:32,syncMyTeamMembers:126,syncTeams:109,syncTeamMembers:111,syncCreateTeam:101,syncSendTeamMsg:102,syncUpdateTeamMember:119},friend:{id:12,friendRequest:1,syncFriendRequest:101,deleteFriend:2,syncDeleteFriend:102,updateFriend:3,syncUpdateFriend:103,getFriends:4},chatroom:{id:13,getChatroomAddress:1},filter:{id:101,sendFilterMsg:1,filterMsg:2,filterSysMsg:3,sendFilterCustomSysMsg:7},eventService:{id:14,publishEvent:1,pushEvent:2,subscribeEvent:3,unSubscribeEventsByAccounts:4,unSubscribeEventsByType:5,querySubscribeEventsByAccounts:6,querySubscribeEventsByType:7,pushEvents:9}}),a=r.merge({},i.cmdConfig,{login:{sid:o.auth.id,cid:o.auth.login,params:[{type:"Property",name:"login"}]},logout:{sid:o.auth.id,cid:o.auth.logout},kick:{sid:o.auth.id,cid:o.auth.kick,params:[{type:"StrArray",name:"deviceIds"}]},updatePushToken:{sid:o.user.id,cid:o.user.updatePushToken,params:[{type:"String",name:"tokenName"},{type:"String",name:"token"},{type:"int",name:"pushkit"}]},appBackground:{sid:o.user.id,cid:o.user.appBackground,params:[{type:"bool",name:"isBackground"},{type:"Int",name:"badge"}]},markInBlacklist:{sid:o.user.id,cid:o.user.markInBlacklist,params:[{type:"String",name:"account"},{type:"bool",name:"isAdd"}]},getBlacklist:{sid:o.user.id,cid:o.user.getBlacklist,params:[{type:"long",name:"time"}]},markInMutelist:{sid:o.user.id,cid:o.user.markInMutelist,params:[{type:"String",name:"account"},{type:"bool",name:"isAdd"}]},getMutelist:{sid:o.user.id,cid:o.user.getMutelist,params:[{type:"long",name:"time"}]},getRelations:{sid:o.user.id,cid:o.user.getRelations,params:[{type:"long",name:"timetag"}]},getUsers:{sid:o.user.id,cid:o.user.getUsers,params:[{type:"StrArray",name:"accounts"}]},updateMyInfo:{sid:o.user.id,cid:o.user.updateMyInfo,params:[{type:"Property",name:"user"}]},updateDonnop:{sid:o.user.id,cid:o.user.updateDonnop,params:[{type:"Property",name:"donnop"}]},markRead:{sid:o.notify.id,cid:o.notify.markRead,params:[{type:"long",name:"id"},{type:"ph",name:"ph"}]},batchMarkRead:{sid:o.notify.id,cid:o.notify.batchMarkRead,params:[{type:"byte",name:"sid"},{type:"byte",name:"cid"},{type:"LongArray",name:"ids"}]},sync:{sid:o.sync.id,cid:o.sync.sync,params:[{type:"Property",name:"sync"}]},syncTeamMembers:{sid:o.sync.id,cid:o.sync.syncTeamMembers,params:[{type:"LongLongMap",name:"sync"}]},sendMsg:{sid:o.msg.id,cid:o.msg.sendMsg,params:[{type:"Property",name:"msg"}]},getHistoryMsgs:{sid:o.msg.id,cid:o.msg.getHistoryMsgs,params:[{type:"String",name:"to"},{type:"long",name:"beginTime"},{type:"long",name:"endTime"},{type:"long",name:"lastMsgId"},{type:"int",name:"limit"},{type:"bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}]},sendCustomSysMsg:{sid:o.msg.id,cid:o.msg.sendCustomSysMsg,params:[{type:"Property",name:"sysMsg"}]},searchHistoryMsgs:{sid:o.msg.id,cid:o.msg.searchHistoryMsgs,params:[{type:"String",name:"to"},{type:"long",name:"beginTime"},{type:"long",name:"endTime"},{type:"String",name:"keyword"},{type:"int",name:"limit"},{type:"bool",name:"reverse"}]},getSessions:{sid:o.msg.id,cid:o.msg.getSessions,params:[{type:"long",name:"time"}]},deleteSessions:{sid:o.msg.id,cid:o.msg.deleteSessions,params:[{type:"StrArray",name:"sessions"}]},sendMsgReceipt:{sid:o.msg.id,cid:o.msg.sendMsgReceipt,params:[{type:"Property",name:"msgReceipt"}]},deleteMsg:{sid:o.msg.id,cid:o.msg.deleteMsg,params:[{type:"Property",name:"sysMsg"}]},markSessionAck:{sid:o.msg.id,cid:o.msg.markSessionAck,params:[{type:"byte",name:"scene"},{type:"String",name:"to"},{type:"long",name:"timetag"}]},createTeam:{sid:o.team.id,cid:o.team.createTeam,params:[{type:"Property",name:"team"},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"}]},sendTeamMsg:{sid:o.team.id,cid:o.team.sendTeamMsg,params:[{type:"Property",name:"msg"}]},addTeamMembers:{sid:o.team.id,cid:o.team.addTeamMembers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"}]},removeTeamMembers:{sid:o.team.id,cid:o.team.removeTeamMembers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},updateTeam:{sid:o.team.id,cid:o.team.updateTeam,params:[{type:"Property",name:"team"}]},leaveTeam:{sid:o.team.id,cid:o.team.leaveTeam,params:[{type:"long",name:"teamId"}]},getTeam:{sid:o.team.id,cid:o.team.getTeam,params:[{type:"long",name:"teamId"}]},getTeams:{sid:o.team.id,cid:o.team.getTeams,params:[{type:"long",name:"timetag"}]},getTeamMembers:{sid:o.team.id,cid:o.team.getTeamMembers,params:[{type:"long",name:"teamId"},{type:"long",name:"timetag"}]},dismissTeam:{sid:o.team.id,cid:o.team.dismissTeam,params:[{type:"long",name:"teamId"}]},applyTeam:{sid:o.team.id,cid:o.team.applyTeam,params:[{type:"long",name:"teamId"},{type:"String",name:"ps"}]},passTeamApply:{sid:o.team.id,cid:o.team.passTeamApply,params:[{type:"long",name:"teamId"},{type:"String",name:"from"}]},rejectTeamApply:{sid:o.team.id,cid:o.team.rejectTeamApply,params:[{type:"long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},addTeamManagers:{sid:o.team.id,cid:o.team.addTeamManagers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},removeTeamManagers:{sid:o.team.id,cid:o.team.removeTeamManagers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},transferTeam:{sid:o.team.id,cid:o.team.transferTeam,params:[{type:"long",name:"teamId"},{type:"String",name:"account"},{type:"bool",name:"leave"}]},updateInfoInTeam:{sid:o.team.id,cid:o.team.updateInfoInTeam,params:[{type:"Property",name:"teamMember"}]},updateNickInTeam:{sid:o.team.id,cid:o.team.updateNickInTeam,params:[{type:"Property",name:"teamMember"}]},acceptTeamInvite:{sid:o.team.id,cid:o.team.acceptTeamInvite,params:[{type:"long",name:"teamId"},{type:"String",name:"from"}]},rejectTeamInvite:{sid:o.team.id,cid:o.team.rejectTeamInvite,params:[{type:"long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},getTeamHistoryMsgs:{sid:o.team.id,cid:o.team.getTeamHistoryMsgs,params:[{type:"long",name:"to"},{type:"long",name:"beginTime"},{type:"long",name:"endTime"},{type:"long",name:"lastMsgId"},{type:"int",name:"limit"},{type:"bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}]},searchTeamHistoryMsgs:{sid:o.team.id,cid:o.team.searchTeamHistoryMsgs,params:[{type:"long",name:"to"},{type:"long",name:"beginTime"},{type:"long",name:"endTime"},{type:"String",name:"keyword"},{type:"int",name:"limit"},{type:"bool",name:"reverse"}]},updateMuteStateInTeam:{sid:o.team.id,cid:o.team.updateMuteStateInTeam,params:[{type:"long",name:"teamId"},{type:"String",name:"account"},{type:"int",name:"mute"}]},getMyTeamMembers:{sid:o.team.id,cid:o.team.getMyTeamMembers,params:[{type:"LongArray",name:"teamIds"}]},getMutedTeamMembers:{sid:o.team.id,cid:o.team.getMutedTeamMembers,params:[{type:"long",name:"teamId"}]},sendTeamMsgReceipt:{sid:o.team.id,cid:o.team.sendTeamMsgReceipt,params:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},getTeamMsgReads:{sid:o.team.id,cid:o.team.getTeamMsgReads,params:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},getTeamMsgReadAccounts:{sid:o.team.id,cid:o.team.getTeamMsgReadAccounts,params:[{type:"Property",name:"teamMsgReceipt"}]},muteTeamAll:{sid:o.team.id,cid:o.team.muteTeamAll,params:[{type:"long",name:"teamId"},{type:"int",name:"muteType"}]},friendRequest:{sid:o.friend.id,cid:o.friend.friendRequest,params:[{type:"String",name:"account"},{type:"byte",name:"type"},{type:"String",name:"ps"}]},deleteFriend:{sid:o.friend.id,cid:o.friend.deleteFriend,params:[{type:"String",name:"account"}]},updateFriend:{sid:o.friend.id,cid:o.friend.updateFriend,params:[{type:"Property",name:"friend"}]},getFriends:{sid:o.friend.id,cid:o.friend.getFriends,params:[{type:"long",name:"timetag"}]},getChatroomAddress:{sid:o.chatroom.id,cid:o.chatroom.getChatroomAddress,params:[{type:"long",name:"chatroomId"},{type:"bool",name:"isWeixinApp"}]},sendFilterMsg:{sid:o.filter.id,cid:o.filter.sendFilterMsg,params:[{type:"Property",name:"msg"}]},sendFilterCustomSysMsg:{sid:o.filter.id,cid:o.filter.sendFilterCustomSysMsg,params:[{type:"Property",name:"sysMsg"}]},publishEvent:{sid:o.eventService.id,cid:o.eventService.publishEvent,params:[{type:"Property",name:"msgEvent"}]},pushEvent:{sid:o.eventService.id,cid:o.eventService.pushEvent},subscribeEvent:{sid:o.eventService.id,cid:o.eventService.subscribeEvent,params:[{type:"Property",name:"msgEventSubscribe"},{type:"StrArray",name:"accounts"}]},unSubscribeEventsByAccounts:{sid:o.eventService.id,cid:o.eventService.unSubscribeEventsByAccounts,params:[{type:"Property",name:"msgEventSubscribe"},{type:"StrArray",name:"accounts"}]},unSubscribeEventsByType:{sid:o.eventService.id,cid:o.eventService.unSubscribeEventsByType,params:[{type:"Property",name:"msgEventSubscribe"}]},querySubscribeEventsByAccounts:{sid:o.eventService.id,cid:o.eventService.querySubscribeEventsByAccounts,params:[{type:"Property",name:"msgEventSubscribe"},{type:"StrArray",name:"accounts"}]},querySubscribeEventsByType:{sid:o.eventService.id,cid:o.eventService.querySubscribeEventsByType,params:[{type:"Property",name:"msgEventSubscribe"}]},pushEvents:{sid:o.eventService.id,cid:o.eventService.pushEvents}}),s=r.merge({},i.packetConfig,{"2_3":{service:"auth",cmd:"login",response:[{type:"Property",name:"loginRes"},{type:"PropertyArray",name:"loginPorts",entity:"loginPort"},{type:"Property",name:"aosPushInfo"}]},"2_5":{service:"auth",cmd:"kicked",response:[{type:"Number",name:"from"},{type:"Number",name:"reason"}]},"2_6":{service:"auth",cmd:"logout"},"2_7":{service:"auth",cmd:"multiPortLogin",response:[{type:"Number",name:"state"},{type:"PropertyArray",name:"loginPorts",entity:"loginPort"}]},"2_8":{service:"auth",cmd:"kick",response:[{type:"StrArray",name:"deviceIds"}]},"3_1":{service:"user",cmd:"updatePushToken"},"3_2":{service:"user",cmd:"appBackground"},"3_3":{service:"user",cmd:"markInBlacklist"},"3_103":{service:"user",cmd:"syncMarkInBlacklist",response:[{type:"String",name:"account"},{type:"Boolean",name:"isAdd"}]},"3_4":{service:"user",cmd:"getBlacklist",response:[{type:"StrArray",name:"blacklist"}]},"3_5":{service:"user",cmd:"markInMutelist"},"3_105":{service:"user",cmd:"syncMarkInMutelist",response:[{type:"String",name:"account"},{type:"Boolean",name:"isAdd"}]},"3_6":{service:"user",cmd:"getMutelist",response:[{type:"StrArray",name:"mutelist"}]},"3_8":{service:"user",cmd:"getRelations",response:[{type:"PropertyArray",name:"specialRelations",entity:"specialRelation"},{type:"Number",name:"timetag"}]},"3_7":{service:"user",cmd:"getUsers",response:[{type:"PropertyArray",name:"users",entity:"user"}]},"3_10":{service:"user",cmd:"updateMyInfo",response:[{type:"Number",name:"timetag"}]},"3_15":{service:"user",cmd:"updateDonnop",response:[{type:"Number",name:"timetag"}]},"3_115":{service:"user",cmd:"syncUpdateDonnop",response:[{type:"Property",name:"donnop"},{type:"Number",name:"timetag"}]},"3_109":{service:"user",cmd:"syncMyInfo",response:[{type:"Property",name:"user"},{type:"Number",name:"timetag"}]},"3_110":{service:"user",cmd:"syncUpdateMyInfo",response:[{type:"Property",name:"user"}]},"4_1":{service:"notify"},"4_2":{service:"notify"},"4_3":{service:"notify",cmd:"markRead"},"4_4":{service:"notify",cmd:"syncOfflineMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"4_5":{service:"notify",cmd:"batchMarkRead"},"4_6":{service:"notify",cmd:"syncOfflineSysMsgs",response:[{type:"PropertyArray",name:"sysMsgs",entity:"sysMsg"}]},"4_9":{service:"notify",cmd:"syncRoamingMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"4_12":{service:"notify",cmd:"syncMsgReceipts",response:[{type:"PropertyArray",name:"msgReceipts",entity:"msgReceipt"},{type:"Number",name:"timetag"}]},"4_13":{service:"notify",cmd:"syncDonnop",response:[{type:"Property",name:"donnop"},{type:"Number",name:"timetag"}]},"4_14":{service:"notify",cmd:"syncSessionAck",response:[{type:"StrLongMap",name:"p2p"},{type:"LongLongMap",name:"team"},{type:"Number",name:"timetag"}]},"4_15":{service:"notify",cmd:"syncRobots",response:[{type:"PropertyArray",name:"robots",entity:"robot"}]},"4_16":{service:"notify",cmd:"syncBroadcastMsgs",response:[{type:"PropertyArray",name:"broadcastMsgs",entity:"broadcastMsg"}]},"4_100":{service:"notify",cmd:"syncOfflineFilterMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"4_101":{service:"notify",cmd:"syncOfflineFilterSysMsgs",response:[{type:"PropertyArray",name:"sysMsgs",entity:"sysMsg"}]},"5_1":{service:"sync",cmd:"syncDone",response:[{type:"Number",name:"timetag"}]},"5_2":{service:"sync",cmd:"syncTeamMembersDone",response:[{type:"Number",name:"timetag"}]},"7_1":{service:"msg",cmd:"sendMsg",response:[{type:"Property",name:"msg"}],trivialErrorCodes:[7101]},"7_2":{service:"msg",cmd:"msg",response:[{type:"Property",name:"msg"}]},"7_3":{service:"msg",cmd:"sysMsg",response:[{type:"Property",name:"sysMsg"}]},"7_6":{service:"msg",cmd:"getHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"7_7":{service:"msg",cmd:"sendCustomSysMsg",trivialErrorCodes:[7101]},"7_8":{service:"msg",cmd:"searchHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"7_9":{service:"msg",cmd:"deleteSessions"},"7_10":{service:"msg",cmd:"getSessions",response:[{type:"StrArray",name:"sessions"}]},"7_101":{service:"msg",cmd:"syncSendMsg",response:[{type:"Property",name:"msg"}]},"7_11":{service:"msg",cmd:"sendMsgReceipt",response:[{type:"Property",name:"msgReceipt"}]},"7_12":{service:"msg",cmd:"msgReceipt",response:[{type:"Property",name:"msgReceipt"}]},"7_13":{service:"msg",cmd:"onDeleteMsg"},"7_14":{service:"msg",cmd:"onMsgDeleted",response:[{type:"Property",name:"sysMsg"}]},"7_15":{service:"msg",cmd:"onDeleteMsgOfflineRoaming",response:[{type:"PropertyArray",name:"sysMsgs",entity:"sysMsg"},{type:"Number",name:"timetag"},{type:"Number",name:"type"}]},"7_16":{service:"msg",cmd:"onMarkSessionAck"},"7_17":{service:"msg",cmd:"broadcastMsg",response:[{type:"Property",name:"broadcastMsg"}]},"7_116":{service:"msg",cmd:"syncMarkSessionAck",response:[{type:"Number",name:"scene"},{type:"String",name:"to"},{type:"Number",name:"timetag"}]},"8_1":{service:"team",cmd:"createTeam",response:[{type:"Property",name:"team"},{type:"StrArray",name:"abortedAccidList"}]},"8_2":{service:"team",cmd:"sendTeamMsg",response:[{type:"Property",name:"msg"}]},"8_3":{service:"team",cmd:"teamMsg",response:[{type:"Property",name:"msg"}]},"8_4":{service:"team",cmd:"teamMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"8_5":{service:"team",cmd:"addTeamMembers",response:[{type:"long",name:"time"},{type:"StrArray",name:"abortedAccidList"}]},"8_6":{service:"team",cmd:"removeTeamMembers"},"8_7":{service:"team",cmd:"updateTeam",response:[{type:"Number",name:"id"},{type:"Number",name:"time"}]},"8_8":{service:"team",cmd:"leaveTeam"},"8_9":{service:"team",cmd:"getTeam",response:[{type:"Property",name:"team"}]},"8_10":{service:"team",cmd:"getTeams",response:[{type:"PropertyArray",name:"teams",entity:"team"},{type:"Number",name:"timetag"}]},"8_11":{service:"team",cmd:"getTeamMembers",response:[{type:"Number",name:"teamId"},{type:"PropertyArray",name:"members",entity:"teamMember"},{type:"Number",name:"timetag"}]},"8_12":{service:"team",cmd:"dismissTeam"},"8_13":{service:"team",cmd:"applyTeam",response:[{type:"Property",name:"team"}]},"8_14":{service:"team",cmd:"passTeamApply"},"8_15":{service:"team",cmd:"rejectTeamApply"},"8_16":{service:"team",cmd:"addTeamManagers"},"8_17":{service:"team",cmd:"removeTeamManagers"},"8_18":{service:"team",cmd:"transferTeam"},"8_19":{service:"team",cmd:"updateInfoInTeam"},"8_20":{service:"team",cmd:"updateNickInTeam"},"8_21":{service:"team",cmd:"acceptTeamInvite",response:[{type:"Property",name:"team"}]},"8_22":{service:"team",cmd:"rejectTeamInvite"},"8_23":{service:"team",cmd:"getTeamHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"8_24":{service:"team",cmd:"searchTeamHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"8_25":{service:"team",cmd:"updateMuteStateInTeam"},"8_26":{service:"team",cmd:"getMyTeamMembers",response:[{type:"PropertyArray",name:"teamMembers",entity:"teamMember"}]},"8_27":{service:"team",cmd:"getMutedTeamMembers",response:[{type:"Number",name:"teamId"},{type:"PropertyArray",name:"teamMembers",entity:"teamMember"}]},"8_28":{service:"team",cmd:"sendTeamMsgReceipt",response:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},"8_29":{service:"team",cmd:"getTeamMsgReads",response:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},"8_30":{service:"team",cmd:"getTeamMsgReadAccounts",response:[{type:"String",name:"idClient"},{type:"StrArray",name:"readAccounts"},{type:"StrArray",name:"unreadAccounts"}]},"8_31":{service:"team",cmd:"notifyTeamMsgReads",response:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},"8_32":{service:"team",cmd:"muteTeamAll",response:[]},"8_126":{service:"team",cmd:"syncMyTeamMembers",response:[{type:"PropertyArray",name:"teamMembers",entity:"teamMember"},{type:"Number",name:"timetag"}]},"8_109":{service:"team",cmd:"syncTeams",response:[{type:"Number",name:"timetag"},{type:"PropertyArray",name:"teams",entity:"team"}]},"8_111":{service:"team",cmd:"syncTeamMembers",response:[{type:"Number",name:"teamId"},{type:"PropertyArray",name:"members",entity:"teamMember"},{type:"Number",name:"timetag"}]},"8_101":{service:"team",cmd:"syncCreateTeam",response:[{type:"Property",name:"team"}]},"8_102":{service:"team",cmd:"syncSendTeamMsg",response:[{type:"Property",name:"msg"}]},"8_119":{service:"team",cmd:"syncUpdateTeamMember",response:[{type:"Property",name:"teamMember"}]},"12_1":{service:"friend",cmd:"friendRequest"},"12_101":{service:"friend",cmd:"syncFriendRequest",response:[{type:"String",name:"account"},{type:"Number",name:"type"},{type:"String",name:"ps"}]},"12_2":{service:"friend",cmd:"deleteFriend"},"12_102":{service:"friend",cmd:"syncDeleteFriend",response:[{type:"String",name:"account"}]},"12_3":{service:"friend",cmd:"updateFriend"},"12_103":{service:"friend",cmd:"syncUpdateFriend",response:[{type:"Property",name:"friend"}]},"12_4":{service:"friend",cmd:"getFriends",response:[{type:"PropertyArray",name:"friends",entity:"friend"},{type:"Number",name:"timetag"}]},"12_5":{service:"friend",cmd:"syncFriends",response:[{type:"PropertyArray",name:"friends",entity:"friend"},{type:"Number",name:"timetag"}]},"12_6":{service:"friend",cmd:"syncFriendUsers",response:[{type:"PropertyArray",name:"users",entity:"user"},{type:"Number",name:"timetag"}]},"13_1":{service:"chatroom",cmd:"getChatroomAddress",response:[{type:"StrArray",name:"address"}]},"14_1":{service:"eventService",cmd:"publishEvent",response:[{type:"Property",name:"msgEvent"}]},"14_2":{service:"eventService",cmd:"pushEvent",response:[{type:"Property",name:"msgEvent"}]},"14_3":{service:"eventService",cmd:"subscribeEvent",response:[{type:"StrArray",name:"accounts"}]},"14_4":{service:"eventService",cmd:"unSubscribeEventsByAccounts",response:[{type:"StrArray",name:"accounts"}]},"14_5":{service:"eventService",cmd:"unSubscribeEventsByType"},"14_6":{service:"eventService",cmd:"querySubscribeEventsByAccounts",response:[{type:"PropertyArray",name:"msgEventSubscribes",entity:"msgEventSubscribe"}]},"14_7":{service:"eventService",cmd:"querySubscribeEventsByType",response:[{type:"PropertyArray",name:"msgEventSubscribes",entity:"msgEventSubscribe"}]},"14_9":{service:"eventService",cmd:"pushEvents",response:[{type:"PropertyArray",name:"msgEvents",entity:"msgEvent"}]},"101_1":{service:"filter",cmd:"sendFilterMsg",response:[{type:"Property",name:"msg"}]},"101_2":{service:"filter",cmd:"filterMsg",response:[{type:"Property",name:"msg"}]},"101_3":{service:"filter",cmd:"filterSysMsg",response:[{type:"Property",name:"sysMsg"}]},"101_7":{service:"filter",cmd:"sendFilterCustomSysMsg"}});e.exports={idMap:o,cmdConfig:a,packetConfig:s}},function(e,t,n){"use strict";var r=n(0).notundef;function i(e){r(e.shouldPushNotificationWhenPCOnline)&&(this.open=e.shouldPushNotificationWhenPCOnline?2:1)}i.getDefaultConfig=function(){return{shouldPushNotificationWhenPCOnline:!0}},i.reverse=function(e){return{shouldPushNotificationWhenPCOnline:1!=+e.open}},e.exports=i},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(e.exports=n).prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";var r={set:function(e,t,n){r[e]=t,n&&(n.support=t)}};e.exports=r},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(V,Y){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */var e;e=function(){"use strict";function u(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,t=void 0,i=void 0,s=function(e,t){d[r]=e,d[r+1]=t,2===(r+=2)&&(i?i(p):y())},e="undefined"!=typeof window?window:void 0,o=e||{},a=o.MutationObserver||o.WebKitMutationObserver,c="undefined"==typeof self&&void 0!==V&&"[object process]"==={}.toString.call(V),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(p,1)}}var d=new Array(1e3);function p(){for(var e=0;e<r;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;r=0}var h,m,g,v,y=void 0;function b(e,t){var n=this,r=new this.constructor(_);void 0===r[w]&&D(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return L(i,r,o,n._result)})}else I(n,r,e,t);return r}function x(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(_);return E(t,e),t}y=c?function(){return V.nextTick(p)}:a?(m=0,g=new a(p),v=document.createTextNode(""),g.observe(v,{characterData:!0}),function(){v.data=m=++m%2}):l?((h=new MessageChannel).port1.onmessage=p,function(){return h.port2.postMessage(0)}):void 0===e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(p)}:f()}catch(e){return f()}}():f();var w=Math.random().toString(36).substring(2);function _(){}var M=void 0,T=1,S=2,U={error:null};function k(e){try{return e.then}catch(e){return U.error=e,U}}function P(e,t,n){var a,r,i,o;t.constructor===e.constructor&&n===b&&t.constructor.resolve===x?(i=e,(o=t)._state===T?A(i,o._result):o._state===S?O(i,o._result):I(o,void 0,function(e){return E(i,e)},function(e){return O(i,e)})):n===U?(O(e,U.error),U.error=null):void 0===n?A(e,t):u(n)?(a=t,r=n,s(function(i){var o=!1,e=function(e,t,n,r){try{e.call(t,function(e){o||(o=!0,a!==e?E(i,e):A(i,e))},function(e){o||(o=!0,O(i,e))})}catch(e){return e}}(r,a,0,0,i._label);!o&&e&&(o=!0,O(i,e))},e)):A(e,t)}function E(e,t){var n,r;e===t?O(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?A(e,t):P(e,t,k(t)))}function C(e){e._onerror&&e._onerror(e._result),R(e)}function A(e,t){e._state===M&&(e._result=t,e._state=T,0!==e._subscribers.length&&s(R,e))}function O(e,t){e._state===M&&(e._state=S,e._result=t,s(C,e))}function I(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+T]=n,i[o+S]=r,0===o&&e._state&&s(R,e)}function R(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?L(n,r,i,o):i(o);e._subscribers.length=0}}function L(e,t,n,r){var i=u(n),o=void 0,a=void 0,s=void 0,c=void 0;if(i){if((o=function(e,t){try{return e(t)}catch(e){return U.error=e,U}}(n,r))===U?(c=!0,a=o.error,o.error=null):s=!0,t===o)return void O(t,new TypeError("A promises callback cannot return that same promise."))}else o=r,s=!0;t._state!==M||(i&&s?E(t,o):c?O(t,a):e===T?A(t,o):e===S&&O(t,o))}var N=0;function D(e){e[w]=N++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[w]||D(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&A(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===M&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===x){var i=k(t);if(i===b&&t._state!==M)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===F){var o=new n(_);P(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===M&&(this._remaining--,e===S?O(r,n):this._result[t]=n),0===this._remaining&&A(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,function(e){return n._settledAt(T,t,e)},function(e){return n._settledAt(S,t,e)})},e}(),F=function(){function t(e){this[w]=N++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){E(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})},t}();return F.prototype.then=b,F.all=function(e){return new j(this,e).promise},F.race=function(i){var o=this;return n(i)?new o(function(e,t){for(var n=i.length,r=0;r<n;r++)o.resolve(i[r]).then(e,t)}):new o(function(e,t){return t(new TypeError("You must pass an array to race."))})},F.resolve=x,F.reject=function(e){var t=new this(_);return O(t,e),t},F._setScheduler=function(e){i=e},F._setAsap=function(e){s=e},F._asap=s,F.polyfill=function(){var e=void 0;if(void 0!==Y)e=Y;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F},F.Promise=F},t.exports=e()}).call(this,n(174),n(30))},,function(e,t,n){"use strict";var r=n(53);function i(){}i.typeMap={text:0,image:1,audio:2,video:3,geo:4,notification:5,file:6,tip:10,robot:11,custom:100};var o=i.typeReverseMap={0:"text",1:"image",2:"audio",3:"video",4:"geo",5:"notification",6:"file",10:"tip",11:"robot",100:"custom"};i.validTypes=Object.keys(i.typeMap),i.setFlow=function(e,t){var n=t===e.from;n&&t===e.to&&(n=r.deviceId===e.fromDeviceId),e.flow=n?"out":"in","robot"===e.type&&e.content&&e.content.msgOut&&(e.flow="in")},i.getType=function(e){var t=e.type;return o[t]||t},e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),i=r.notundef,o=r.undef;function a(e){i(e.name)&&(this.name=""+e.name),i(e.announcement)&&(this.announcement=""+e.announcement),i(e.broadcastUrl)&&(this.broadcastUrl=""+e.broadcastUrl),i(e.custom)&&(this.custom=""+e.custom),i(e.queuelevel)&&(this.queuelevel=parseInt(e.queuelevel))}a.reverse=function(e){var t=r.copy(e);return o(t.announcement)&&(t.announcement=""),o(t.broadcastUrl)&&(t.broadcastUrl=""),o(t.custom)&&(t.custom=""),i(t.createTime)&&(t.createTime=+t.createTime),i(t.updateTime)&&(t.updateTime=+t.updateTime),i(t.onlineMemberNum)&&(t.onlineMemberNum=+t.onlineMemberNum),i(t.mute)&&(t.mute="1"===t.mute),t},e.exports=a},function(e,t,n){"use strict";var r=n(53);e.exports=function(e){e.db&&(r.db=e.db)}},function(e,t,n){"use strict";var r,a=(r=n(9))&&r.__esModule?r:{default:r};function i(e){var o=this,t=e.url||null;o.level={debug:0,log:1,info:2,warn:3,error:4}[e.level]||0,o.logCache=[],o.logNum=1,o.timeInterval=5e3,window.onerror=function(e,t,n,r,i){o.error(i)},setInterval(function(){0<o.logCache.length&&t&&o.postLogs(t,o.logCache)},o.timeInterval)}i.prototype.debug=function(){0<this.level||(console.debug.apply(this,arguments),this.cacheLogs.apply(this,["[degbug]"].concat(arguments)))},i.prototype.log=function(){1<this.level||(console.log.apply(this,arguments),this.cacheLogs.apply(this,["[log]"].concat(arguments)))},i.prototype.info=function(){2<this.level||(console.info.apply(this,arguments),this.cacheLogs.apply(this,["[info]"].concat(arguments)))},i.prototype.warn=function(){3<this.level||(console.warn.apply(this,arguments),this.cacheLogs.apply(this,["[warn]"].concat(arguments)))},i.prototype.error=function(){4<this.level||(console.error.apply(this,arguments),this.cacheLogs.apply(this,["[error]"].concat(arguments)))},i.prototype.cacheLogs=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"object"===(void 0===i?"undefined":(0,a.default)(i))?n.push(JSON.stringify(i)):n.push(i)}var o=this.logNum+++" "+e+" "+n.join("; ");this.logCache.push(o.replace("%c",""))},i.prototype.postLogs=function(e,t){var n=this,r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status?(console.info("LoggerPlugin::日志上报完成"),n.logCache=[],n.timeInterval=5e3):n.timeInterval+=5e3)},r.open("POST",e),r.setRequestHeader("Content-Type","plain/text;charset=utf-8"),r.timeout=360,r.send(t.join("\n"))},e.exports=i},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e};var i=Object.prototype.hasOwnProperty},function(e,t,n){var r=n(149);e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===i.call(e)?function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}(e,t,n):function(e,t,n){for(var r in e)o.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n)};var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){var a=n(235),r=n(234);e.exports=function(e){if(!e)return{};var o={};return r(a(e).split("\n"),function(e){var t,n=e.indexOf(":"),r=a(e.slice(0,n)).toLowerCase(),i=a(e.slice(n+1));void 0===o[r]?o[r]=i:(t=o[r],"[object Array]"===Object.prototype.toString.call(t)?o[r].push(i):o[r]=[o[r],i])}),o}},function(n,e,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,t(30))},function(e,t,n){"use strict";var r=n(237),i=n(149),g=n(236),o=n(233);function a(e,t,n){var r=e;return i(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=o(t,{uri:e}),r.callback=n,r}function v(e,t,n){return s(t=a(e,t,n))}function s(r){if(void 0===r.callback)throw new Error("callback argument missing");var i=!1,o=function(e,t,n){i||(i=!0,r.callback(e,t,n))};function t(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,o(e,m)}function e(){if(!a){var e;clearTimeout(c),e=r.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var t=m,n=null;return 0!==e?(t={body:function(){var e=void 0;if(e=s.response?s.response:s.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(s),h)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:l,headers:{},url:u,rawRequest:s},s.getAllResponseHeaders&&(t.headers=g(s.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),o(n,t,t.body)}}var n,a,s=r.xhr||null;s||(s=r.cors||r.useXDR?new v.XDomainRequest:new v.XMLHttpRequest);var c,u=s.url=r.uri||r.url,l=s.method=r.method||"GET",f=r.body||r.data,d=s.headers=r.headers||{},p=!!r.sync,h=!1,m={body:void 0,headers:{},statusCode:0,method:l,url:u,rawRequest:s};if("json"in r&&!1!==r.json&&(h=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),f=JSON.stringify(!0===r.json?f:r.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(e,0)},s.onload=e,s.onerror=t,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=t,s.open(l,u,!p,r.username,r.password),p||(s.withCredentials=!!r.withCredentials),!p&&0<r.timeout&&(c=setTimeout(function(){if(!a){a=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},r.timeout)),s.setRequestHeader)for(n in d)d.hasOwnProperty(n)&&s.setRequestHeader(n,d[n]);else if(r.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(r.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in r&&(s.responseType=r.responseType),"beforeSend"in r&&"function"==typeof r.beforeSend&&r.beforeSend(s),s.send(f||null),s}(e.exports=v).XMLHttpRequest=r.XMLHttpRequest||function(){},v.XDomainRequest="withCredentials"in new v.XMLHttpRequest?v.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(r){v["delete"===r?"del":r]=function(e,t,n){return(t=a(e,t,n)).method=r.toUpperCase(),s(t)}})},function(e,t,n){"use strict";var r=n(0),i=r.notundef,o={addFriend:1,applyFriend:2,passFriendApply:3,rejectFriendApply:4},a={1:"addFriend",2:"applyFriend",3:"passFriendApply",4:"rejectFriendApply"};function s(e){r.verifyOptions(e,"account","friend::Friend"),r.verifyParamAtLeastPresentOne(e,"alias custom","friend::Friend"),this.account=e.account,i(e.alias)&&(this.alias=e.alias),i(e.custom)&&(this.custom=e.custom)}s.reverse=function(e){var t=r.filterObj(e,"account alias custom createTime updateTime serverex");return i(e.flag)&&(t.valid="1"===e.flag),i(t.createTime)&&(t.createTime=+t.createTime),i(t.updateTime)&&(t.updateTime=+t.updateTime),t},s.validTypes=function(){return Object.keys(o)},s.getByteFromType=function(e){return o[e]},s.getTypeFromByte=function(e){return a[e]},s.assembleFriend=function(e){var t=+new Date;return{account:e,alias:"",createTime:t,custom:"",updateTime:t,valid:!0}},e.exports=s},function(e,t,n){"use strict";e.exports={imLogin:{3:"clientType",4:"os",6:"sdkVersion",8:"appLogin",9:"protocolVersion",10:"pushTokenName",11:"pushToken",13:"deviceId",18:"appKey",19:"account",24:"browser",26:"session",32:"deviceInfo",38:"customTag",112:"isReactNative",1e3:"token"},nosToken:{1:"objectName",2:"token",3:"bucket",4:"expireTime",7:"expireSec",8:"tag"},audioToText:{2:"url"},imageOp:{0:"type",1:"stripmeta",2:"typeType",3:"blurRadius",4:"blurSigma",5:"qualityQuality",6:"cropX",7:"cropY",8:"cropWidth",9:"cropHeight",10:"rotateAngle",11:"pixelPixel",12:"thumbnailMode",13:"thumbnailWidth",14:"thumbnailHeight",15:"thumbnailAxisX",16:"thumbnailAxisY",17:"thumbnailCenterX",18:"thumbnailCenterY",19:"thumbnailEnlarge",20:"thumbnailToStatic",21:"watermarkType",22:"watermarkGravity",23:"watermarkDissolve",24:"watermarkDx",25:"watermarkDy",26:"watermarkImage",27:"watermarkText",28:"watermarkFont",29:"watermarkFontSize",30:"watermarkFontColor",31:"interlace"},robot:{4:"account",5:"nick",6:"avatar",7:"intro",8:"config",9:"valid",10:"createTime",11:"updateTime",12:"custid",13:"botid",14:"bindTime"},clientAntispam:{1:"version",2:"md5",3:"nosurl",4:"thesaurus"},fileQuickTransfer:{1:"md5",2:"url",3:"size",4:"threshold"},transToken:{1:"name",2:"type",3:"transType",4:"size",5:"extra",6:"body"},transInfo:{1:"docId",2:"name",3:"prefix",4:"size",5:"type",6:"state",7:"transType",8:"transSize",9:"pageCount",10:"picInfo",11:"extra",12:"flag"},fileListParam:{1:"fromDocId",2:"limit"},avSignalTag:{1:"type",2:"channelName",3:"channelId",4:"channelCreateTime",5:"channelExpireTime",6:"creator",7:"ext",8:"channelInValid",10:"from",11:"to",12:"requestId",13:"needPush",14:"pushTitle",15:"pushContent",16:"pushPayload",17:"needBadge",18:"members",19:"attach",20:"attachExt",21:"isSave",22:"msgid",23:"uid",24:"time"},login:{1:"appKey",2:"account",3:"deviceId",5:"chatroomId",8:"appLogin",20:"chatroomNick",21:"chatroomAvatar",22:"chatroomCustom",23:"chatroomEnterCustom",26:"session",38:"isAnonymous"},chatroom:{1:"id",3:"name",4:"announcement",5:"broadcastUrl",12:"custom",14:"createTime",15:"updateTime",16:"queuelevel",100:"creator",101:"onlineMemberNum",102:"mute"},msg:{1:"idClient",2:"type",3:"attach",4:"custom",5:"resend",6:"userUpdateTime",7:"fromNick",8:"fromAvatar",9:"fromCustom",10:"yidunEnable",11:"antiSpamContent",12:"skipHistory",13:"body",14:"antiSpamBusinessId",15:"clientAntiSpam",16:"antiSpamUsingYidun",20:"time",21:"from",22:"chatroomId",23:"fromClientType",25:"highPriority"},chatroomMember:{1:"chatroomId",2:"account",3:"type",4:"level",5:"nick",6:"avatar",7:"custom",8:"online",9:"guest",10:"enterTime",12:"blacked",13:"gaged",14:"valid",15:"updateTime",16:"tempMuted",17:"tempMuteDuration"}}},function(e,t,n){"use strict";e.exports={imLogin:{clientType:3,os:4,sdkVersion:6,appLogin:8,protocolVersion:9,pushTokenName:10,pushToken:11,deviceId:13,appKey:18,account:19,browser:24,session:26,deviceInfo:32,isReactNative:112,token:1e3,customTag:38},nosToken:{objectName:1,token:2,bucket:3,expireTime:4,expireSec:7,tag:8},audioToText:{url:2},imageOp:{type:0,stripmeta:1,typeType:2,blurRadius:3,blurSigma:4,qualityQuality:5,cropX:6,cropY:7,cropWidth:8,cropHeight:9,rotateAngle:10,pixelPixel:11,thumbnailMode:12,thumbnailWidth:13,thumbnailHeight:14,thumbnailAxisX:15,thumbnailAxisY:16,thumbnailCenterX:17,thumbnailCenterY:18,thumbnailEnlarge:19,thumbnailToStatic:20,watermarkType:21,watermarkGravity:22,watermarkDissolve:23,watermarkDx:24,watermarkDy:25,watermarkImage:26,watermarkText:27,watermarkFont:28,watermarkFontSize:29,watermarkFontColor:30,interlace:31},robot:{account:4,nick:5,avatar:6,intro:7,config:8,valid:9,createTime:10,updateTime:11,custid:12,botid:13,bindTime:14},clientAntispam:{version:1,md5:2,nosurl:3,thesaurus:4},fileQuickTransfer:{md5:1,url:2,size:3,threshold:4},transToken:{name:1,type:2,transType:3,size:4,extra:5,body:6},transInfo:{docId:1,name:2,prefix:3,size:4,type:5,state:6,transType:7,transSize:8,pageCount:9,picInfo:10,extra:11,flag:12},fileListParam:{fromDocId:1,limit:2},avSignalTag:{type:1,channelName:2,channelId:3,channelCreateTime:4,channelExpireTime:5,creator:6,ext:7,channelInValid:8,from:10,to:11,requestId:12,needPush:13,pushTitle:14,pushContent:15,pushPayload:16,needBadge:17,members:18,attach:19,attachExt:20,isSave:21,msgid:22,uid:23,time:24},login:{appKey:1,account:2,deviceId:3,chatroomId:5,appLogin:8,chatroomNick:20,chatroomAvatar:21,chatroomCustom:22,chatroomEnterCustom:23,session:26,isAnonymous:38},chatroom:{id:1,name:3,announcement:4,broadcastUrl:5,custom:12,createTime:14,updateTime:15,queuelevel:16,creator:100,onlineMemberNum:101,mute:102},msg:{idClient:1,type:2,attach:3,custom:4,resend:5,userUpdateTime:6,fromNick:7,fromAvatar:8,fromCustom:9,yidunEnable:10,antiSpamContent:11,skipHistory:12,body:13,antiSpamBusinessId:14,clientAntiSpam:15,antiSpamUsingYidun:16,time:20,from:21,chatroomId:22,fromClientType:23,highPriority:25},chatroomMember:{chatroomId:1,account:2,type:3,level:4,nick:5,avatar:6,custom:7,online:8,guest:9,enterTime:10,blacked:12,gaged:13,valid:14,updateTime:15,tempMuted:16,tempMuteDuration:17}}},function(e,t,n){"use strict";var r=n(0),i=n(80),o=r.merge({},i.idMap,{chatroom:{id:13,login:2,kicked:3,logout:4,sendMsg:6,msg:7,getChatroomMembers:8,getHistoryMsgs:9,markChatroomMember:11,closeChatroom:12,getChatroom:13,updateChatroom:14,updateMyChatroomMemberInfo:15,getChatroomMembersInfo:16,kickChatroomMember:17,updateChatroomMemberTempMute:19,queueOffer:20,queuePoll:21,queueList:22,peak:23,queueDrop:24,queueInit:25,queueChange:26},user:{id:3,syncRobot:16}}),a=r.merge({},i.cmdConfig,{login:{sid:o.chatroom.id,cid:o.chatroom.login,params:[{type:"byte",name:"type"},{type:"Property",name:"login"},{type:"Property",name:"imLogin"}]},logout:{sid:o.chatroom.id,cid:o.chatroom.logout},sendMsg:{sid:o.chatroom.id,cid:o.chatroom.sendMsg,params:[{type:"Property",name:"msg"}]},getChatroomMembers:{sid:o.chatroom.id,cid:o.chatroom.getChatroomMembers,params:[{type:"byte",name:"type"},{type:"long",name:"time"},{type:"int",name:"limit"}]},getHistoryMsgs:{sid:o.chatroom.id,cid:o.chatroom.getHistoryMsgs,params:[{type:"long",name:"timetag"},{type:"int",name:"limit"},{type:"bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}]},markChatroomMember:{sid:o.chatroom.id,cid:o.chatroom.markChatroomMember,params:[{type:"string",name:"account"},{type:"int",name:"type"},{type:"bool",name:"isAdd"},{type:"int",name:"level"},{type:"string",name:"custom"}]},closeChatroom:{sid:o.chatroom.id,cid:o.chatroom.closeChatroom,params:[{type:"string",name:"custom"}]},getChatroom:{sid:o.chatroom.id,cid:o.chatroom.getChatroom},updateChatroom:{sid:o.chatroom.id,cid:o.chatroom.updateChatroom,params:[{type:"Property",name:"chatroom"},{type:"bool",name:"needNotify"},{type:"String",name:"custom"}]},updateMyChatroomMemberInfo:{sid:o.chatroom.id,cid:o.chatroom.updateMyChatroomMemberInfo,params:[{type:"Property",name:"chatroomMember"},{type:"bool",name:"needNotify"},{type:"String",name:"custom"},{type:"bool",name:"needSave"}]},getChatroomMembersInfo:{sid:o.chatroom.id,cid:o.chatroom.getChatroomMembersInfo,params:[{type:"StrArray",name:"accounts"}]},kickChatroomMember:{sid:o.chatroom.id,cid:o.chatroom.kickChatroomMember,params:[{type:"string",name:"account"},{type:"string",name:"custom"}]},updateChatroomMemberTempMute:{sid:o.chatroom.id,cid:o.chatroom.updateChatroomMemberTempMute,params:[{type:"String",name:"account"},{type:"long",name:"duration"},{type:"bool",name:"needNotify"},{type:"String",name:"custom"}]},queueOffer:{sid:o.chatroom.id,cid:o.chatroom.queueOffer,params:[{type:"string",name:"elementKey"},{type:"string",name:"elementValue"},{type:"bool",name:"transient"}]},queuePoll:{sid:o.chatroom.id,cid:o.chatroom.queuePoll,params:[{type:"string",name:"elementKey"}]},queueList:{sid:o.chatroom.id,cid:o.chatroom.queueList},peak:{sid:o.chatroom.id,cid:o.chatroom.peak},queueDrop:{sid:o.chatroom.id,cid:o.chatroom.queueDrop},queueInit:{sid:o.chatroom.id,cid:o.chatroom.queueInit,params:[{type:"int",name:"limit"}]},queueChange:{sid:o.chatroom.id,cid:o.chatroom.queueChange,params:[{type:"StrStrMap",name:"elementMap"},{type:"bool",name:"needNotify"},{type:"string",name:"notifyExt"}]},syncRobot:{sid:o.user.id,cid:o.user.syncRobot,params:[{type:"long",name:"timetag"}]}}),s=r.merge({},i.packetConfig,{"4_10":{service:"notify"},"4_11":{service:"notify"},"3_16":{service:"chatroom",cmd:"syncRobot",response:[{type:"PropertyArray",name:"robots",entity:"robot"}]},"13_2":{service:"chatroom",cmd:"login",response:[{type:"Property",name:"chatroom"},{type:"Property",name:"chatroomMember"}]},"13_3":{service:"chatroom",cmd:"kicked",response:[{type:"Number",name:"reason"},{type:"String",name:"custom"}]},"13_4":{service:"chatroom",cmd:"logout"},"13_6":{service:"chatroom",cmd:"sendMsg",response:[{type:"Property",name:"msg"}]},"13_7":{service:"chatroom",cmd:"msg",response:[{type:"Property",name:"msg"}]},"13_8":{service:"chatroom",cmd:"getChatroomMembers",response:[{type:"PropertyArray",name:"members",entity:"chatroomMember"}]},"13_9":{service:"chatroom",cmd:"getHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"13_11":{service:"chatroom",cmd:"markChatroomMember",response:[{type:"Property",name:"chatroomMember"}]},"13_12":{service:"chatroom",cmd:"closeChatroom"},"13_13":{service:"chatroom",cmd:"getChatroom",response:[{type:"Property",name:"chatroom"}]},"13_14":{service:"chatroom",cmd:"updateChatroom"},"13_15":{service:"chatroom",cmd:"updateMyChatroomMemberInfo"},"13_16":{service:"chatroom",cmd:"getChatroomMembersInfo",response:[{type:"PropertyArray",name:"members",entity:"chatroomMember"}]},"13_17":{service:"chatroom",cmd:"kickChatroomMember"},"13_19":{service:"chatroom",cmd:"updateChatroomMemberTempMute"},"13_20":{service:"chatroom",cmd:"queueOffer"},"13_21":{service:"chatroom",cmd:"queuePoll",response:[{type:"String",name:"elementKey"},{type:"String",name:"elementValue"}]},"13_22":{service:"chatroom",cmd:"queueList",response:[{type:"KVArray",name:"queueList"}]},"13_23":{service:"chatroom",cmd:"peak",response:[{type:"String",name:"elementKey"},{type:"String",name:"elementValue"}]},"13_24":{service:"chatroom",cmd:"queueDrop"},"13_25":{service:"chatroom",cmd:"queueInit"},"13_26":{service:"chatroom",cmd:"queueChange",response:[{type:"StrArray",name:"elementKeyArray"}]}});e.exports={idMap:o,cmdConfig:a,packetConfig:s}},function(e,t,n){"use strict";e.exports={nosToken:{1:"objectName",2:"token",3:"bucket",4:"expireTime",7:"expireSec",8:"tag"},audioToText:{2:"url"},imageOp:{0:"type",1:"stripmeta",2:"typeType",3:"blurRadius",4:"blurSigma",5:"qualityQuality",6:"cropX",7:"cropY",8:"cropWidth",9:"cropHeight",10:"rotateAngle",11:"pixelPixel",12:"thumbnailMode",13:"thumbnailWidth",14:"thumbnailHeight",15:"thumbnailAxisX",16:"thumbnailAxisY",17:"thumbnailCenterX",18:"thumbnailCenterY",19:"thumbnailEnlarge",20:"thumbnailToStatic",21:"watermarkType",22:"watermarkGravity",23:"watermarkDissolve",24:"watermarkDx",25:"watermarkDy",26:"watermarkImage",27:"watermarkText",28:"watermarkFont",29:"watermarkFontSize",30:"watermarkFontColor",31:"interlace"},robot:{4:"account",5:"nick",6:"avatar",7:"intro",8:"config",9:"valid",10:"createTime",11:"updateTime",12:"custid",13:"botid",14:"bindTime"},clientAntispam:{1:"version",2:"md5",3:"nosurl",4:"thesaurus"},fileQuickTransfer:{1:"md5",2:"url",3:"size",4:"threshold"},transToken:{1:"name",2:"type",3:"transType",4:"size",5:"extra",6:"body"},transInfo:{1:"docId",2:"name",3:"prefix",4:"size",5:"type",6:"state",7:"transType",8:"transSize",9:"pageCount",10:"picInfo",11:"extra",12:"flag"},fileListParam:{1:"fromDocId",2:"limit"},avSignalTag:{1:"type",2:"channelName",3:"channelId",4:"channelCreateTime",5:"channelExpireTime",6:"creator",7:"ext",8:"channelInValid",10:"from",11:"to",12:"requestId",13:"needPush",14:"pushTitle",15:"pushContent",16:"pushPayload",17:"needBadge",18:"members",19:"attach",20:"attachExt",21:"isSave",22:"msgid",23:"uid",24:"time"},login:{3:"clientType",4:"os",6:"sdkVersion",8:"appLogin",9:"protocolVersion",10:"pushTokenName",11:"pushToken",13:"deviceId",18:"appKey",19:"account",24:"browser",26:"session",32:"deviceInfo",38:"customTag",112:"isReactNative",1e3:"token"},loginRes:{17:"lastLoginDeviceId",38:"customTag",102:"connectionId",103:"ip",104:"port",106:"country"},loginPort:{3:"type",4:"os",5:"mac",13:"deviceId",19:"account",32:"deviceInfo",38:"customTag",102:"connectionId",103:"ip",109:"time"},aosPushInfo:{110:"pushType",111:"hasTokenPreviously"},sync:{1:"myInfo",2:"offlineMsgs",3:"teams",6:"netcallMsgs",7:"roamingMsgs",9:"relations",11:"friends",12:"sessions",13:"friendUsers",14:"msgReceipts",15:"myTeamMembers",16:"donnop",17:"deleteMsg",18:"sessionAck",19:"robots",20:"broadcastMsgs",21:"avSignal",100:"filterMsgs"},donnop:{1:"open"},team:{1:"teamId",3:"name",4:"type",5:"owner",6:"level",7:"selfCustom",8:"valid",9:"memberNum",10:"memberUpdateTime",11:"createTime",12:"updateTime",13:"validToCurrentUser",14:"intro",15:"announcement",16:"joinMode",17:"bits",18:"custom",19:"serverCustom",20:"avatar",21:"beInviteMode",22:"inviteMode",23:"updateTeamMode",24:"updateCustomMode",100:"mute",101:"muteType"},teamMember:{1:"teamId",3:"account",4:"type",5:"nickInTeam",7:"bits",8:"active",9:"valid",10:"joinTime",11:"updateTime",12:"custom",13:"mute"},msg:{0:"scene",1:"to",2:"from",4:"fromClientType",5:"fromDeviceId",6:"fromNick",7:"time",8:"type",9:"body",10:"attach",11:"idClient",12:"idServer",13:"resend",14:"userUpdateTime",15:"custom",16:"pushPayload",17:"pushContent",18:"apnsAccounts",19:"apnsContent",20:"apnsForcePush",21:"yidunEnable",22:"antiSpamContent",23:"antiSpamBusinessId",24:"clientAntiSpam",25:"antiSpamUsingYidun",26:"needMsgReceipt",100:"isHistoryable",101:"isRoamingable",102:"isSyncable",104:"isMuted",105:"cc",107:"isPushable",108:"isOfflinable",109:"isUnreadable",110:"needPushNick",111:"isReplyMsg",112:"tempTeamMemberCount"},msgReceipt:{1:"to",2:"from",7:"time",11:"idClient"},teamMsgReceipt:{0:"teamId",1:"idServer",100:"read",101:"unread",102:"idClient",103:"account"},sysMsg:{0:"time",1:"type",2:"to",3:"from",4:"ps",5:"attach",6:"idServer",7:"sendToOnlineUsersOnly",8:"apnsText",9:"pushPayload",10:"deletedIdClient",11:"deletedIdServer",12:"yidunEnable",13:"antiSpamContent",14:"deletedMsgTime",15:"deletedMsgFromNick",16:"opeAccount",105:"cc",107:"isPushable",109:"isUnreadable",110:"needPushNick"},broadcastMsg:{1:"broadcastId",2:"fromAccid",3:"fromUid",4:"timestamp",5:"body"},friend:{4:"account",5:"flag",6:"beflag",7:"source",8:"alias",9:"bits",10:"custom",11:"createTime",12:"updateTime",13:"serverex"},user:{1:"account",3:"nick",4:"avatar",5:"sign",6:"gender",7:"email",8:"birth",9:"tel",10:"custom",12:"createTime",13:"updateTime"},specialRelation:{0:"account",1:"isMuted",2:"isBlacked",3:"createTime",4:"updateTime"},msgType:{0:"text",1:"picture",2:"audio",3:"video",4:"location",5:"notification",6:"file",7:"netcall_audio",8:"netcall_vedio",9:"datatunnel_new",10:"tips",11:"robot",100:"custom"},msgEvent:{1:"type",2:"value",3:"idClient",4:"custom",5:"validTime",6:"broadcastType",7:"sync",8:"validTimeType",9:"durable",10:"time",11:"idServer",12:"clientType",13:"serverConfig",14:"serverCustom",101:"appid",103:"account",104:"enableMultiClient",106:"consid"},msgEventSubscribe:{1:"type",2:"subscribeTime",3:"sync",102:"to",104:"from",105:"time"}}},function(e,t,n){"use strict";e.exports={nosToken:{objectName:1,token:2,bucket:3,expireTime:4,expireSec:7,tag:8},audioToText:{url:2},imageOp:{type:0,stripmeta:1,typeType:2,blurRadius:3,blurSigma:4,qualityQuality:5,cropX:6,cropY:7,cropWidth:8,cropHeight:9,rotateAngle:10,pixelPixel:11,thumbnailMode:12,thumbnailWidth:13,thumbnailHeight:14,thumbnailAxisX:15,thumbnailAxisY:16,thumbnailCenterX:17,thumbnailCenterY:18,thumbnailEnlarge:19,thumbnailToStatic:20,watermarkType:21,watermarkGravity:22,watermarkDissolve:23,watermarkDx:24,watermarkDy:25,watermarkImage:26,watermarkText:27,watermarkFont:28,watermarkFontSize:29,watermarkFontColor:30,interlace:31},robot:{account:4,nick:5,avatar:6,intro:7,config:8,valid:9,createTime:10,updateTime:11,custid:12,botid:13,bindTime:14},clientAntispam:{version:1,md5:2,nosurl:3,thesaurus:4},fileQuickTransfer:{md5:1,url:2,size:3,threshold:4},transToken:{name:1,type:2,transType:3,size:4,extra:5,body:6},transInfo:{docId:1,name:2,prefix:3,size:4,type:5,state:6,transType:7,transSize:8,pageCount:9,picInfo:10,extra:11,flag:12},fileListParam:{fromDocId:1,limit:2},avSignalTag:{type:1,channelName:2,channelId:3,channelCreateTime:4,channelExpireTime:5,creator:6,ext:7,channelInValid:8,from:10,to:11,requestId:12,needPush:13,pushTitle:14,pushContent:15,pushPayload:16,needBadge:17,members:18,attach:19,attachExt:20,isSave:21,msgid:22,uid:23,time:24},login:{clientType:3,os:4,sdkVersion:6,appLogin:8,protocolVersion:9,pushTokenName:10,pushToken:11,deviceId:13,appKey:18,account:19,browser:24,session:26,deviceInfo:32,isReactNative:112,token:1e3,customTag:38},loginRes:{lastLoginDeviceId:17,customTag:38,connectionId:102,ip:103,port:104,country:106},loginPort:{type:3,os:4,mac:5,deviceId:13,account:19,deviceInfo:32,connectionId:102,ip:103,time:109,customTag:38},aosPushInfo:{pushType:110,hasTokenPreviously:111},sync:{myInfo:1,offlineMsgs:2,teams:3,netcallMsgs:6,roamingMsgs:7,relations:9,friends:11,sessions:12,friendUsers:13,msgReceipts:14,myTeamMembers:15,donnop:16,deleteMsg:17,sessionAck:18,robots:19,broadcastMsgs:20,avSignal:21,filterMsgs:100},donnop:{open:1},team:{teamId:1,name:3,type:4,owner:5,level:6,selfCustom:7,valid:8,memberNum:9,memberUpdateTime:10,createTime:11,updateTime:12,validToCurrentUser:13,intro:14,announcement:15,joinMode:16,bits:17,custom:18,serverCustom:19,avatar:20,beInviteMode:21,inviteMode:22,updateTeamMode:23,updateCustomMode:24,mute:100,muteType:101},teamMember:{teamId:1,account:3,type:4,nickInTeam:5,bits:7,active:8,valid:9,joinTime:10,updateTime:11,custom:12,mute:13},msg:{scene:0,to:1,from:2,fromClientType:4,fromDeviceId:5,fromNick:6,time:7,type:8,body:9,attach:10,idClient:11,idServer:12,resend:13,userUpdateTime:14,custom:15,pushPayload:16,pushContent:17,apnsAccounts:18,apnsContent:19,apnsForcePush:20,yidunEnable:21,antiSpamContent:22,antiSpamBusinessId:23,clientAntiSpam:24,antiSpamUsingYidun:25,needMsgReceipt:26,isHistoryable:100,isRoamingable:101,isSyncable:102,isMuted:104,cc:105,isPushable:107,isOfflinable:108,isUnreadable:109,needPushNick:110,isReplyMsg:111,tempTeamMemberCount:112},msgReceipt:{to:1,from:2,time:7,idClient:11},teamMsgReceipt:{teamId:0,idServer:1,read:100,unread:101,idClient:102,account:103},sysMsg:{time:0,type:1,to:2,from:3,ps:4,attach:5,idServer:6,sendToOnlineUsersOnly:7,apnsText:8,pushPayload:9,deletedIdClient:10,deletedIdServer:11,yidunEnable:12,antiSpamContent:13,deletedMsgTime:14,deletedMsgFromNick:15,opeAccount:16,cc:105,isPushable:107,isUnreadable:109,needPushNick:110},broadcastMsg:{broadcastId:1,fromAccid:2,fromUid:3,timestamp:4,body:5},friend:{account:4,flag:5,beflag:6,source:7,alias:8,bits:9,custom:10,createTime:11,updateTime:12,serverex:13},user:{account:1,nick:3,avatar:4,sign:5,gender:6,email:7,birth:8,tel:9,custom:10,createTime:12,updateTime:13},specialRelation:{account:0,isMuted:1,isBlacked:2,createTime:3,updateTime:4},msgType:{text:0,picture:1,audio:2,video:3,location:4,notification:5,file:6,netcall_audio:7,netcall_vedio:8,datatunnel_new:9,tips:10,robot:11,custom:100},msgEvent:{type:1,value:2,idClient:3,custom:4,validTime:5,broadcastType:6,sync:7,validTimeType:8,durable:9,time:10,idServer:11,clientType:12,serverConfig:13,serverCustom:14,appid:101,account:103,enableMultiClient:104,consid:106},msgEventSubscribe:{type:1,subscribeTime:2,sync:3,to:102,from:104,time:105}}},function(e,t,n){"use strict";var r=n(56).fn,i=n(0),o=n(151);r.processAvSignal=function(e){switch(console.log(e,"avSignal..."),e.cmd){case"signalingCreate":case"signalingDelay":case"signalingClose":case"signalingJoin":case"signalingLeave":case"signalingInvite":case"signalingCancel":case"signalingReject":case"signalingAccept":case"signalingControl":case"signalingSyncMsgRead":break;case"signalingNotify":this.onSignalingNotify(e);break;case"signalingMutilClientSyncNotify":this.onSignalingMutilClientSyncNotify(e);break;case"signalingUnreadMessageSyncNotify":this.onSignalingUnreadMessageSyncNotify(e);break;case"signalingChannelsSyncNotify":this.onSignalingMembersSyncNotify(e);break;default:this.logger.log("avSignal::unhandled cmd:",e.cmd)}};var a=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.needPush&&(e.needPush="1"===e.needPush),e.needBadge&&(e.needBadge="1"===e.needBadge),e.channelInValid&&(e.channelInValid="1"===e.channelInValid),e.attach){var t=JSON.parse(e.attach);e.eventType=o.parseAvSignalType(t.type)}if(e.members){var n=JSON.parse(e.members);e.members=n.map(function(e){return o.parseAvSignalMember(e)})}return e};r.onSignalingNotify=function(e){if(e.error){var t=e.error;this.logger.error("protocal::avSignal:onSignalingNotify error",t),this.emitAPI({type:"error",error:t}),this.options.onerror(t)}else{e.raw&&e.raw.r&&e.raw.r.length&&e.content&&e.content.avSignalTag&&(e.content.avSignalTag.msgid=e.raw.r[0]);var n=e.content;n=Array.isArray(n)?n.map(function(e){return a(e)}):a(n),this.emitAPI({type:"signalingNotify",obj:n}),i.isFunction(this.options.onSignalingNotify)&&this.options.onSignalingNotify(n)}},r.onSignalingMutilClientSyncNotify=function(e){if(e.error){var t=e.error;this.logger.error("protocal::avSignal:onSignalingMutilClientSyncNotify error",t),this.emitAPI({type:"error",error:t}),this.options.onerror(t)}else this.emitAPI({type:"signalingMutilClientSyncNotify",obj:e.content}),i.isFunction(this.options.onSignalingMutilClientSyncNotify)&&this.options.onSignalingMutilClientSyncNotify(e.content)},r.onSignalingUnreadMessageSyncNotify=function(e){if(e.error){var t=e.error;this.logger.error("protocal::avSignal:onSignalingUnreadMessageSyncNotify error",t),this.emitAPI({type:"error",error:t}),this.options.onerror(t)}else{var n=e.content.avSignalTag;Array.isArray(n)&&(n=n.map(function(e){return a(e)})),this.emitAPI({type:"signalingUnreadMessageSyncNotify",obj:n}),i.isFunction(this.options.onSignalingUnreadMessageSyncNotify)&&this.options.onSignalingUnreadMessageSyncNotify(n)}},r.onSignalingMembersSyncNotify=function(e){if(e.error){var t=e.error;this.logger.error("protocal::avSignal:onSignalingMembersSyncNotify error",t),this.emitAPI({type:"error",error:t}),this.options.onerror(t)}else{var n=e.content.avSignalTag;Array.isArray(n)||(n=[n]),n=n.map(function(e){return a(e)}),this.emitAPI({type:"signalingChannelsSyncNotify",obj:n}),i.isFunction(this.options.onSignalingMembersSyncNotify)&&this.options.onSignalingMembersSyncNotify(n)}}},function(e,t,n){"use strict";var r=n(56).fn,i=n(152);r.processMisc=function(e){switch(e.cmd){case"getSimpleNosToken":e.error||(e.obj=e.content.nosTokens[0]);break;case"getNosToken":e.error||(e.obj=e.content.nosToken);break;case"notifyUploadLog":e.error||this.emitAPI({type:"notifyUploadLog"});break;case"audioToText":e.error||(e.obj.text=e.content.text);break;case"processImage":e.obj.imageOps=i.reverseImageOps(e.obj.imageOps),e.error||(e.obj={url:e.content.url});break;case"getNosTokenTrans":e.error||(e.obj={nosToken:e.content.nosToken,docId:e.content.docId});break;case"notifyTransLog":e.error||this.emitAPI({type:"notifyTransLog",obj:e.content.transInfo});break;case"fetchFile":case"fetchFileList":case"removeFile":e.error||(e.obj=e.content)}}},function(e,t,n){"use strict";var r=n(56).fn,i=n(5);r.processLink=function(e){e.cmd},r.startHeartbeat=function(){var e=this;e.stopHeartbeat(),e.heartbeatTimer=setTimeout(function(){e.sendCmd("heartbeat",null,e.onHeartbeat.bind(e))},i.heartbeatInterval)},r.stopHeartbeat=function(){this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null)},r.onHeartbeat=function(e,t){e?(e.callFunc="link::onHeartbeat",this.api.reportLogs({event:"ping_timeout"}),this.onCustomError("heartbeat error","HEARTBEAT_ERROR",e)):this.startHeartbeat()},r.heartbeat=function(){}},function(e,t,n){"use strict";var r,i,o=(r=n(64))&&r.__esModule?r:{default:r},a=n(56).fn,s=n(25),c=n(21),u=n(118),l=n(53),f=n(5),d=n(0),p=d.notundef;a.login=function(){var t=this;Promise.resolve().then(function(){return t.assembleLogin()}).then(function(e){t.sendCmd("login",(0,o.default)({},e),t.onLogin.bind(t))}),t.autoconnect=!1},a.genSessionKey=(i={},function(){var e=this.name;return i[e]=i[e]||d.guid()}),a.assembleIMLogin=function(){var e=this.options,t=e.account,n=this.autoconnect?0:1;return this.sdkSession=this.genSessionKey(),{appLogin:n,appKey:e.appKey,account:t,token:e.token,sdkVersion:f.info.sdkVersion,protocolVersion:f.info.protocolVersion,os:c.os.toString(),browser:c.name+" "+c.version,clientType:f.CLIENTTYPE||16,session:this.sdkSession,deviceId:l.deviceId,isReactNative:f.isRN?1:0,customTag:e.customTag||""}},a.onLogin=function(e,t){this.loginResult=t,e?this.onAuthError(e,"link::onLogin"):(this.startHeartbeat(),this.afterLogin(t))},a.afterLogin=d.emptyFunc,a.notifyLogin=function(){var e=this.loginResult;this.logger.info("link::notifyLogin: on connect",e),this.options.onconnect(e)},a.logout=function(){var e="done disconnect";if(this.doLogout)return this.doLogout=!1,e="done logout",void this.onAuthError(new s(e,"logout"),"link::logout");if(this.isConnected()){var t=new s(e,"logout");this.onAuthError(t,"link::logout")}},a.onKicked=function(e){var t=e.content,n=t.from,r=t.reason,i=t.custom,o={reason:this.kickedReasons[r]||"unknown",message:this.kickedMessages[r]||"未知原因"};if(p(n)&&(o.from=u.reverseType(n)),p(i)&&(o.custom=i),this.shouldNotifyKicked(o)){var a=new s("被踢了","kicked");d.merge(a,o),this.onAuthError(a,"link::onKicked")}else this.logger.warn("link::onKicked: silentlyKick"),this.shouldReconnect=!0,this.hasNotifyDisconnected=!0,this.disconnectSocket()},a.shouldNotifyKicked=function(e){return"silentlyKick"!==e.reason},a.onAuthError=function(e,t){this.shouldReconnect=!1,(e=e||s.newConnectionError({callFunc:t})).callFunc=e.callFunc||t||null,this.markAllCallbackInvalid(e),this.notifyDisconnect(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(56).fn,i=n(25),o=n(172),a=n(150),s=n(5),c=n(0);r.initConnect=function(){this.socket=null,this.retryCount=0,this.connecting=!1,this.shouldReconnect=!0,this.hasNotifyDisconnected=!1,this.doLogout=!1},r.resetConnect=function(){var e=this.options;c.notundef(e.needReconnect)?(c.verifyParamType("needReconnect",e.needReconnect,"boolean","link::resetConnect"),this.needReconnect=e.needReconnect):this.needReconnect=!0,this.logger.log("link::resetConnect: needReconnect "+this.needReconnect),c.notundef(e.reconnectionAttempts)&&c.verifyParamType("reconnectionAttempts",e.reconnectionAttempts,"number","link::resetConnect"),this.reconnectionAttempts="number"==typeof e.reconnectionAttempts?e.reconnectionAttempts:1/0,this.backoff=new o({min:s.reconnectionDelay,max:s.reconnectionDelayMax,jitter:s.reconnectionJitter})},r.connect=function(){if(this.isConnected())this.logger.warn("link::connect: already connected");else if(this.connecting)this.logger.warn("link::connect: already connecting");else if(this.connecting=!0,this.hasNotifyDisconnected=!1,this.socket)this.logger.info("link::connect: try connecting..."),this.socket.socket.connect();else if(this.options.socketUrl&&"string"==typeof this.options.socketUrl)this.connectToUrl(this.options.socketUrl);else{var e=this.getNextSocketUrl();e?this.connectToUrl(e):this.refreshSocketUrl()}},r.getNextSocketUrl=function(){return this.socketUrls.shift()},r.isConnected=function(){return!!this.socket&&!!this.socket.socket&&this.socket.socket.connected},r.connectToUrl=function(t){var n=this;if(n.logger.log("link::connectToUrl: "+t),"undefined"==typeof window){var e=c.getGlobal(),r=t.split(":");e.location||(e.location={protocol:r[0],hostname:r[1].slice(2),port:r[2]}),this.options.transports=["websocket"]}var i=this.options.transports||["websocket","xhr-polling"];n.socket=a.connect(t,{transports:i,reconnect:!1,"force new connection":!0,"connect timeout":s.connectTimeout}),n.logger.info("link::connectToUrl: socket url: "+t+", transports: "+JSON.stringify(i)),n.socket.on("connect",n.onConnect.bind(n)),n.socket.on("handshake_failed",n.onHandshakeFailed.bind(n)),n.socket.on("connect_failed",n.onConnectFailed.bind(n)),n.socket.on("error",n.onError.bind(n)),n.socket.on("message",n.onMessage.bind(n)),n.socket.on("disconnect",function(e){n.logger.warn("link::connectToUrl: socket url: "+t+", disconnected"),n.doLogout?n.logout():n.onDisconnect(!0,"link::socketDisconnect")})},r.disconnect=function(t){var n=this;function r(e){n.logger.info("link::disconnect: socket finally closed, ",e),clearTimeout(n.disconnectCallbackTimer),t(e)}t instanceof Function||(t=function(){}),clearTimeout(n.connectTimer),n.disconnectCallbackTimer=setTimeout(function(){t.call(n,"mark disconnected due to timeout")},1e4),n.socket&&n.socket.socket&&n.socket.socket.transport?n.socket.socket.transport.onDisconnectDone=function(e){r(e)}:r(null),n.isConnected()?(n.logger.log("link::disconnect: start disconnecting"),n.logout()):n.connecting?(n.logger.log("link::disconnect: abort connecting"),n.disconnectSocket()):(n.logger.log("link::disconnect: start otherwise"),n.connecting=!1,n.shouldReconnect=!1,n.needReconnect=!1,n.options.ondisconnect({callFunc:"link::disconnect",message:"manually disconnect status"}))},r.onConnect=function(){this.backoff&&this.backoff.reset(),this.reconnectStatus=0<this.retryCount?1:0,this.retryCount=0,this.connecting=!1,this.shouldReconnect=!0,this.hasNotifyDisconnected=!1,this.logger.log("link::onConnect: socket onconnected, start login"),this.login(),this.api.reportLogs({event:"ws_connected"})},r.onHandshakeFailed=function(){this.api.reportLogs({event:"ws_handshake_failed"}),this.onDisconnect(!1,"link::onHandshakeFailed")},r.onConnectFailed=function(){this.api.reportLogs({event:"ws_connect_failed"}),this.onDisconnect(!1,"link::onConnectFailed")},r.onError=function(){var e=arguments[0];if(e){if(this.api.reportLogs({event:"connect_timeout"}),void 0!==e.x5ImgDecodeStatus)return;if(Object.keys(e).length<=0)return;this.onMiscError("连接错误",new i(e,"LINK_ERROR",{callFunc:"link::onError"}))}this.connecting=!1},r.onDisconnect=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.connected=e,this.connecting=!1,this.markAllCallbackInvalid(i.newNetworkError({callFunc:t})),this.stopHeartbeat(),this.reconnect()},r.willReconnect=function(){return this.shouldReconnect&&this.needReconnect&&this.retryCount<this.reconnectionAttempts},r.reconnect=function(){var t=this;if(t.willReconnect())if(t.socket&&t.socket.socket&&t.socket.socket.transport&&t.socket.socket.transport.websocket){t.logger.info("link::reconnect: on socket closed");try{t.socket.socket.transport.websocket.close()}catch(e){t.logger.warn("link::reconnect: force disconnect error:",e)}t.socket.socket.transport.onConnectionOver=function(){t.logger.log("link::reconnect: on connectionOver"),clearTimeout(t.reconnectTimer),t.doReconnect()}}else clearTimeout(t.reconnectTimer),t.reconnectTimer=setTimeout(function(){t.logger.info("link::reconnect: on socket timeout"),t.doReconnect()},3e4);else t.notifyDisconnect()},r.doReconnect=function(){var e=this;e.socket=null,e.connected&&(e.autoconnect=!0),e.retryCount++,e.appLogin=1;var t=e.backoff.duration();e.logger.info("link::reconnect: will retry after "+t+"ms, retryCount "+e.retryCount),e.options.onwillreconnect({retryCount:e.retryCount,duration:t}),clearTimeout(e.connectTimer),e.connectTimer=setTimeout(function(){e.connect()},t)},r.notifyConnectError=function(e){var t=i.newConnectError({message:e,callFunc:"link::notifyConnectError"});this.logger.error("link::notifyConnectError:",t),this.options.onerror(t)},r.notifyDisconnect=function(e){var t=this;t.hasNotifyDisconnected||(t.hasNotifyDisconnected=!0,t.disconnectSocket(),(e=e||new i).retryCount=t.retryCount,e.willReconnect=t.willReconnect(),t.backoff&&t.backoff.reset(),t.retryCount=0,t.socket&&t.socket.socket&&t.socket.socket.transport&&t.socket.socket.transport.websocket?(t.logger.info("link::notifyDisconnect: ondisconnected",e),t.socket.socket.transport.onConnectionOver=function(){t.socket=null,t.options.ondisconnect(e)}):(t.logger.info("link::notifyDisconnect: ondisconnected/no transport ws",e),t.options.ondisconnect(e)),t.onWbNotifyHangup instanceof Function&&t.onWbNotifyHangup({content:{account:t.account,channelId:null,timetag:+Date()}}))},r.disconnectSocket=function(){if(this.isConnected()||this.connecting)try{this.connecting=!1,this.shouldReconnect=!1,this.needReconnect=!1,this.socket.disconnect()}catch(e){this.logger.info("link::disconnectSocket: disconnect failed, error ",e)}}},function(e,t,n){"use strict";var r,a=(r=n(9))&&r.__esModule?r:{default:r},i=n(46).fn,c=n(0),o=n(80),s=n(151);i.signalingCreate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.channelName,r=e.ext;return c.verifyOptions(e,"type","api::signalling"),this.sendCmdUsePromise("signalingCreate",{avSignalTag:{type:t,channelName:n,ext:r}}).then(function(e){var t=e.avSignalTag;return Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingDelay=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return c.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingDelay",{avSignalTag:e}).then(function(e){var t=e.avSignalTag;return Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingClose=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.offlineEnabled;return c.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingClose",{avSignalTag:c.merge(e,{isSave:!0===t?1:0})}).then(function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingJoin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.offlineEnabled;return c.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingJoin",{avSignalTag:c.merge(e,{isSave:!0===t?1:0})}).then(function(e){var t=e.avSignalTag,n=t.members;return"string"==typeof t.members&&(n=JSON.parse(t.members).map(function(e){return s.parseAvSignalMember(e)})),t.members=n,Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingLeave=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.offlineEnabled;return c.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingLeave",{avSignalTag:c.merge(e,{isSave:!0===t?1:0})}).then(function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingInvite=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.account,n=e.offlineEnabled,r=e.pushInfo,i=void 0===r?{}:r;c.verifyOptions(e,"channelId requestId account","api::signalling"),"object"===(0,a.default)(i.pushPayload)&&(i.pushPayload=JSON.stringify(i.pushPayload));var o=c.merge(e,i,{to:t,isSave:!0===n?1:0,needPush:!0===i.needPush?1:0,needBadge:!1===i.needBadge?0:1});return this.sendCmdUsePromise("signalingInvite",{avSignalTag:o}).then(function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,t.needBadge=1===t.needBadge,t.needPush=1===t.needPush,delete t.isSave,Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingCancel=function(e){var t=e.account,n=e.offlineEnabled;return c.verifyOptions(e,"channelId requestId account","api::signalling"),this.sendCmdUsePromise("signalingCancel",{avSignalTag:c.merge(e,{to:t,isSave:!0===n?1:0})}).then(function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingCall=function(n){var r=this,i=n.account,o=n.offlineEnabled,a=n.requestId;c.verifyOptions(n,"type requestId account","api::signalling");var s="";return this.signalingCreate(n).catch(function(e){return e.code,Promise.reject(e)}).then(function(e){r.logger.log("api::avSignal:signalingCall create:",e);var t={channelId:s=e.channelId,offlineEnabled:o,attachExt:n.attachExt||""};return n.uid&&c.merge(t,{uid:n.uid}),r.signalingJoin(t)}).then(function(e){r.logger.log("api::avSignal:signalingCall join:",e);var t={channelId:s=e.channelId||s,account:i,requestId:a,offlineEnabled:o,attachExt:n.attachExt||"",pushInfo:n.pushInfo||{}};return r.signalingInvite(t)})},i.signalingReject=function(e){var t=e.account,n=e.offlineEnabled;return c.verifyOptions(e,"channelId requestId account","api::signalling"),this.sendCmdUsePromise("signalingReject",{avSignalTag:c.merge(e,{to:t,isSave:!0===n?1:0})}).then(function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingAccept=function(e){var t=e.account,n=e.offlineEnabled;return c.verifyOptions(e,"channelId requestId account","api::signalling"),this.sendCmdUsePromise("signalingAccept",{avSignalTag:c.merge(e,{to:t,isSave:!0===n?1:0})}).then(function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingControl=function(e){var t=e.account;return c.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingControl",{avSignalTag:c.merge(e,t?{to:t}:{})}).then(function(e){var t=e.avSignalTag;return Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingSync=function(){return this.sendCmdUsePromise("sync",{sync:{avSignal:0}}).then(function(e){var t=e.avSignalTag;return Promise.resolve(t)}).catch(function(e){return Promise.reject(s.parseAvSignalError(e))})},i.signalingMarkMsgRead=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c.verifyOptions(e,"msgid","api::signalling");var t=o.idMap.avSignal;return this.sendCmdUsePromise("batchMarkRead",{sid:t.id,cid:t.signalingNotify,ids:e.msgid})}},function(e,t,n){"use strict";var r=n(46).fn,c=n(0),u=n(51),l=n(5),f=n(21);(f=f||{}).name=f.name||"",f.version=f.version||"",r.reportLogs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this,n=t.options,r=l.ntServerAddress;if(r){var i=l.info;e=c.merge(e,{appkey:n.appKey,uid:n.account,os:"web",session:t.protocol.sdkSession||"",ver:i.sdkVersion,type:t.subType,platform:""+f.name.toLowerCase()+f.version.replace(/(\.\d+)+$/,"")});var o=r+c.genUrlSep(r),a=[];for(var s in e)a.push(s+"="+e[s]);o+=a.join("&"),u(o,{proxyUrl:c.url2origin(o)+"/lbs/res/cors/nej_proxy_frame.html",timeout:l.xhrTimeout,onload:function(){},onerror:function(e){t.logger.info("report::ajax report error",e)}})}}},function(e,t,n){"use strict";var r,u=(r=n(9))&&r.__esModule?r:{default:r},i=n(0),o=n(46).fn;function l(e,t,n,r){var i=!1,o="";if(1===n?0<=e.indexOf(t)&&(i=!0,o=t):2===n&&(o=new RegExp(t,"g")).test(e)&&(i=!0),i&&""!==o)switch(r){case 1:return e.replace(o,"**");case 2:return{code:2};case 3:return{code:3}}return e}function a(e,t){for(var n=t.match,r=t.operate,i=e,o=0;o<t.keys.length;o++){var a=t.keys[o],s=a.match||n,c=a.operate||r;try{if("object"===(void 0===(i=l(i,a.key,s,c))?"undefined":(0,u.default)(i)))return i}catch(e){this.logger.warn("misc::filterContent: js cannot parse this regexp ",e)}}return i}o.uploadSdkLogUrl=function(e){return i.verifyOptions(e,"url","misc::uploadSdkLogUrl"),this.cbAndSendCmd("uploadSdkLogUrl",e)},o.getClientAntispamLexicon=function(e){var r=this,i=(e=e||{}).done;i instanceof Function||(i=function(){}),e={clientAntispam:{version:0}};var o=this;return this.protocol.sendCmd("getClientAntispam",e,function(e,t,n){e?(o.protocol.logger.error("misc::getClientAntispamLexicon:",e),i.call(r,e,{})):(i.call(r,null,n),o.antispamLexicon=n.clientAntispam||{})})},o.filterClientAntispam=function(e){var t=e.content,n=e.antispamLexicon;if(!t)return{code:404,errmsg:"待反垃圾文本content不存在"};n=n||this.antispamLexicon||{};var r=this.antispamLexicon&&this.antispamLexicon.thesaurus;if(!r)return{code:404,errmsg:"没有反垃圾词库或者词库格式不合法"};try{r=JSON.parse(r).thesaurus}catch(e){return this.protocol.logger.error("misc::filterClientAntispam: parse thesaurus error"),{code:500,errmsg:"反垃圾词库格式不合法"}}for(var i=t,o=0;o<r.length;o++)if("object"===(void 0===(i=a.call(this,i,r[o]))?"undefined":(0,u.default)(i))){if(2===i.code)return{code:200,type:2,errmsg:"建议拒绝发送",content:t,result:""};if(3===i.code)return{code:200,type:3,errmsg:"建议服务器处理反垃圾，发消息带上字段clientAntiSpam",content:t,result:t}}return i===t?{code:200,type:0,errmsg:"",content:t,result:i}:{code:200,type:1,errmsg:"已对特殊字符做了过滤",content:t,result:i}}},function(e,t,n){"use strict";var r,o,y=(r=n(9))&&r.__esModule?r:{default:r},b=n(81),x=n(0),i=n(46).fn;i.viewImageSync=function(e){var t=this.options;x.verifyOptions(e,"url","nos::viewImageSync");var n=e.url,r=(0,b.url2object)(n),i=r.protocol,o=r.hostname,a=r.path,s=r.query;if("boolean"==typeof e.strip&&(s.stripmeta=e.strip?1:0),"number"==typeof e.quality&&(x.verifyParamMin("quality",e.quality,0,"nos::viewImageSync"),x.verifyParamMax("quality",e.quality,100,"nos::viewImageSync"),s.quality=Math.round(e.quality)),"boolean"==typeof e.interlace&&(s.interlace=e.interlace?1:0),"number"==typeof e.rotate&&(s.rotate=Math.round(e.rotate)),"object"===(0,y.default)(e.thumbnail)){var c=e.thumbnail.mode||"crop",u=e.thumbnail.width,l=e.thumbnail.height;if(0<=u&&0<=l&&u<4096&&l<4096&&(0<u||0<l)){switch(c){case"crop":c="y";break;case"contain":c="x";break;case"cover":c="z";break;default:c="x"}s.thumbnail=""+u+c+l}}if(t.downloadUrl){var f=(0,b.url2object)(e.url),d=t.downloadUrl,p=f.path,h=p.indexOf("/");if(-1!==h){var m=p.substring(0,h),g=p.substring(h+1);d=d.replace("{bucket}",m).replace("{object}",g)}var v=(0,b.url2object)(d);return(0,b.object2url)({protocol:v.protocol,hostname:v.hostname,path:v.path,query:x.merge(v.query,s)})}return(0,b.object2url)({protocol:i,hostname:o,path:a,query:s})},i.viewImageStripMeta=function(e){x.verifyOptions(e,"url strip","nos::viewImageStripMeta"),x.verifyParamType("strip",e.strip,"boolean","nos::viewImageStripMeta");var t="stripmeta="+(e.strip?1:0),n=(0,b.genUrlSep)(e.url);return e.url+n+t},i.viewImageQuality=function(e){x.verifyOptions(e,"url quality","nos::viewImageQuality"),x.verifyParamType("quality",e.quality,"number","nos::viewImageQuality"),x.verifyParamMin("quality",e.quality,0,"nos::viewImageQuality"),x.verifyParamMax("quality",e.quality,100,"nos::viewImageQuality");var t="quality="+Math.round(e.quality),n=(0,b.genUrlSep)(e.url);return e.url+n+t},i.viewImageInterlace=function(e){x.verifyOptions(e,"url","nos::viewImageInterlace");var t=(0,b.genUrlSep)(e.url);return e.url+t+"interlace=1"},i.viewImageRotate=function(e){for(x.verifyOptions(e,"url angle","nos::viewImageRotate"),x.verifyParamType("angle",e.angle,"number","nos::viewImageRotate");e.angle<0;)e.angle=e.angle+360;e.angle=e.angle%360;var t="rotate="+Math.round(e.angle),n=(0,b.genUrlSep)(e.url);return e.url+n+t},i.viewImageBlur=function(e){x.verifyOptions(e,"url radius sigma","nos::viewImageBlur"),x.verifyParamType("radius",e.radius,"number","nos::viewImageBlur"),x.verifyParamMin("radius",e.radius,1,"nos::viewImageBlur"),x.verifyParamMax("radius",e.radius,50,"nos::viewImageBlur"),x.verifyParamType("sigma",e.sigma,"number","nos::viewImageBlur"),x.verifyParamMin("sigma",e.sigma,0,"nos::viewImageBlur");var t="blur="+Math.round(e.radius)+"x"+Math.round(e.sigma),n=(0,b.genUrlSep)(e.url);return e.url+n+t},i.viewImageCrop=function(e){x.verifyOptions(e,"url x y width height","nos::viewImageCrop"),x.verifyParamType("x",e.x,"number","nos::viewImageCrop"),x.verifyParamMin("x",e.x,0,"nos::viewImageCrop"),x.verifyParamType("y",e.y,"number","nos::viewImageCrop"),x.verifyParamMin("y",e.y,0,"nos::viewImageCrop"),x.verifyParamType("width",e.width,"number","nos::viewImageCrop"),x.verifyParamMin("width",e.width,0,"nos::viewImageCrop"),x.verifyParamType("height",e.height,"number","nos::viewImageCrop"),x.verifyParamMin("height",e.height,0,"nos::viewImageCrop");var t="crop="+Math.round(e.x)+"_"+Math.round(e.y)+"_"+Math.round(e.width)+"_"+Math.round(e.height),n=(0,b.genUrlSep)(e.url);return e.url+n+t},i.viewImageThumbnail=(o={cover:"z",contain:"x",crop:"y"},function(e){x.verifyOptions(e,"url mode","nos::viewImageThumbnail"),x.verifyParamValid("mode",e.mode,Object.keys(o),"nos::viewImageThumbnail"),"contain"===e.mode?x.verifyParamAtLeastPresentOne(e,"width height","nos::viewImageThumbnail"):x.verifyOptions(e,"width height","nos::viewImageThumbnail"),x.undef(e.width)&&(e.width=0),x.undef(e.height)&&(e.height=0),x.verifyParamType("width",e.width,"number","nos::viewImageThumbnail"),x.verifyParamMin("width",e.width,0,"nos::viewImageThumbnail"),x.verifyParamType("height",e.height,"number","nos::viewImageThumbnail"),x.verifyParamMin("height",e.height,0,"nos::viewImageThumbnail");var t=Math.round(e.width),n=Math.round(e.height),r="thumbnail="+t+o[e.mode]+n;"crop"===e.mode&&x.notundef(e.axis)&&(x.undef(e.axis.x)&&(e.axis.x=5),x.undef(e.axis.y)&&(e.axis.y=5),x.verifyParamMin("axis.x",e.axis.x,0,"nos::viewImageThumbnail"),x.verifyParamMax("axis.x",e.axis.x,10,"nos::viewImageThumbnail"),x.verifyParamMin("axis.y",e.axis.y,0,"nos::viewImageThumbnail"),x.verifyParamMax("axis.y",e.axis.y,10,"nos::viewImageThumbnail"),r=r+"&axis="+Math.round(e.axis.x)+"_"+Math.round(e.axis.y)),x.notundef(e.enlarge)&&(x.verifyParamType("enlarge",e.enlarge,"boolean","nos::viewImageThumbnail"),e.enlarge&&(r+="&enlarge=1"));var i=(0,b.genUrlSep)(e.url);return e.url+i+r})},function(e,t,n){"use strict";var a,s=n(0),r=n(46).fn,c=n(152),u=n(154),l=n(25);r.transDoc=function(n){s.verifyOptions(n,"fileInput done","nos::transDoc");try{var e=n.fileInput.files[0],t=n.fileInputName=e.name,r={ppt:1,pptx:2,pdf:3},i=t.substring(t.lastIndexOf(".")+1);if(["ppt","pdf","pptx"].indexOf(i)<0)return void n.done(l.newNoFileError("请上传正确格式的文件【ppt, pptx, pdf】",{callFunc:"nos: transDoc",fileInput:n.fileInput}),n)}catch(e){return void n.done(l.newNoFileError("请上传正确的文件节点",{callFunc:"msg::previewFile",fileInput:n.fileInput}),n)}var o=JSON.stringify(u.genResponseBody("file")||{}).replace(/"/gi,'\\"'),a={transToken:{name:t,type:r[i],transType:"png"===n.transcode?11:10,size:e.size,body:o}};this.getNosTokenTrans({responseBody:a,nosToken:{nosScene:n.nosScene||this.nosScene,nosSurvivalTime:n.nosSurvivalTime},callback:function(e,t){e?n.done(e):(n.nosToken=t.nosToken,n.docId=t.docId,this._doPreviewFile(n))}.bind(this)})},r.getSimpleNosToken=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.num=1,s.verifyOptions(e),this.cbAndSendCmd("getSimpleNosToken",e)},r.getNosToken=function(e){var t=e.callback,n=e.nosToken,r=e.responseBody,i={tag:n.nosScene};n.nosSurvivalTime&&n.nosSurvivalTime!==1/0&&(i.expireSec=n.nosSurvivalTime),this.sendCmd("getNosToken",{responseBody:r,nosToken:i},t)},r.getNosTokenTrans=function(e){this.sendCmd("getNosTokenTrans",e.responseBody,e.callback)},r.packFileDownloadName=function(e){s.verifyOptions(e,"url name",!0,"","nos::packFileDownloadName");var t=e.url;return t+s.genUrlSep(t)+"download="+encodeURIComponent(e.name)},r.audioToMp3=function(e){s.verifyOptions(e,"url","nos::audioToMp3");var t=e.url;return t+s.genUrlSep(t)+"audioTrans&type=mp3"},r.removeFile=function(e){this.sendCmd("removeFile",e,e.callback)},r.fetchFile=function(e){this.sendCmd("fetchFile",e,e.callback)},r.fetchFileList=function(e){this.sendCmd("fetchFileList",e,e.callback)},r.stripImageMeta=function(e){return this.beforeProcessImage(e,"stripmeta")},r.qualityImage=function(e){return this.beforeProcessImage(e,"quality")},r.interlaceImage=function(e){return this.beforeProcessImage(e,"interlace")},r.rotateImage=function(e){return this.beforeProcessImage(e,"rotate")},r.blurImage=function(e){return this.beforeProcessImage(e,"blur")},r.cropImage=function(e){return this.beforeProcessImage(e,"crop")},r.thumbnailImage=function(e){return this.beforeProcessImage(e,"thumbnail")},r.beforeProcessImage=function(e,t){var n=s.copy(e);return n.type=t,e.ops=[n],this.processImage(e)},r.processImage=function(e){var t=this;s.verifyOptions(e,"url ops",!0,"","nos::processImage"),s.verifyParamType("ops",e.ops,"array","nos::processImage");var n=e.ops.map(function(e){return s.verifyOptions(e,"type",!0,"","nos::processImage"),s.verifyParamValid("type",e.type,c.validTypes,"nos::processImage"),t["gen"+e.type.slice(0,1).toUpperCase()+e.type.slice(1)+"Op"](e)});t.processCallback(e),t.sendCmd("processImage",{url:e.url,imageOps:n},e.callback)},r.genStripmetaOp=function(e){return new c({type:e.type,stripmeta:e.strip?1:0})},r.genQualityOp=function(e){s.verifyOptions(e,"quality",!0,"","nos::genQualityOp"),s.verifyParamType("quality",e.quality,"number","nos::genQualityOp"),s.verifyParamMin("quality",e.quality,0,"nos::genQualityOp"),s.verifyParamMax("quality",e.quality,100,"nos::genQualityOp");var t=Math.round(e.quality);return new c({type:e.type,qualityQuality:t})},r.genInterlaceOp=function(e){return new c({type:e.type})},r.genRotateOp=function(e){for(s.verifyOptions(e,"angle",!0,"","nos::genRotateOp"),s.verifyParamType("angle",e.angle,"number","nos::genRotateOp");e.angle<0;)e.angle=e.angle+360;e.angle=e.angle%360;var t=Math.round(e.angle);return new c({type:e.type,rotateAngle:t})},r.genBlurOp=function(e){s.verifyOptions(e,"radius sigma","nos::genBlurOp"),s.verifyParamType("radius",e.radius,"number","nos::genBlurOp"),s.verifyParamMin("radius",e.radius,1,"nos::genBlurOp"),s.verifyParamMax("radius",e.radius,50,"nos::genBlurOp"),s.verifyParamType("sigma",e.sigma,"number","nos::genBlurOp"),s.verifyParamMin("sigma",e.sigma,0,"nos::genBlurOp");var t=Math.round(e.radius),n=Math.round(e.sigma);return new c({type:e.type,blurRadius:t,blurSigma:n})},r.genCropOp=function(e){s.verifyOptions(e,"x y width height","nos::genCropOp"),s.verifyParamType("x",e.x,"number","nos::genCropOp"),s.verifyParamMin("x",e.x,0,"nos::genCropOp"),s.verifyParamType("y",e.y,"number","nos::genCropOp"),s.verifyParamMin("y",e.y,0,"nos::genCropOp"),s.verifyParamType("width",e.width,"number","nos::genCropOp"),s.verifyParamMin("width",e.width,0,"nos::genCropOp"),s.verifyParamType("height",e.height,"number","nos::genCropOp"),s.verifyParamMin("height",e.height,0,"nos::genCropOp");var t=Math.round(e.x),n=Math.round(e.y),r=Math.round(e.width),i=Math.round(e.height);return new c({type:e.type,cropX:t,cropY:n,cropWidth:r,cropHeight:i})},r.genThumbnailOp=(a={cover:"z",contain:"x",crop:"y"},function(e){s.verifyOptions(e,"mode","nos::genThumbnailOp"),s.verifyParamValid("mode",e.mode,Object.keys(a),"nos::genThumbnailOp"),"contain"===e.mode?s.verifyParamAtLeastPresentOne(e,"width height","nos::genThumbnailOp"):s.verifyOptions(e,"width height","nos::genThumbnailOp"),s.undef(e.width)&&(e.width=0),s.undef(e.height)&&(e.height=0),s.verifyParamType("width",e.width,"number","nos::genThumbnailOp"),s.verifyParamMin("width",e.width,0,"nos::genThumbnailOp"),s.verifyParamType("height",e.height,"number","nos::genThumbnailOp"),s.verifyParamMin("height",e.height,0,"nos::genThumbnailOp");var t=Math.round(e.width),n=Math.round(e.height),r=new c({type:e.type,thumbnailMode:a[e.mode],thumbnailWidth:t,thumbnailHeight:n});if("crop"===e.mode&&s.notundef(e.axis)){s.undef(e.axis.x)&&(e.axis.x=5),s.undef(e.axis.y)&&(e.axis.y=5),s.verifyParamMin("axis.x",e.axis.x,0,"nos::genThumbnailOp"),s.verifyParamMax("axis.x",e.axis.x,10,"nos::genThumbnailOp"),s.verifyParamMin("axis.y",e.axis.y,0,"nos::genThumbnailOp"),s.verifyParamMax("axis.y",e.axis.y,10,"nos::genThumbnailOp");var i=Math.round(e.axis.x),o=Math.round(e.axis.y);r.thumbnailAxisX=i,r.thumbnailAxisY=o}return s.notundef(e.enlarge)&&(s.verifyParamType("enlarge",e.enlarge,"boolean","nos::genThumbnailOp"),e.enlarge&&(r.thumbnailEnlarge=1)),r})},function(e,t,n){"use strict";var a=n(0),s=n(25),c=n(51).upload,r=n(51).abort,u=a.supportFormData;function i(r){var n=this;n.options=a.copy(r),a.verifyOptions(r,"url fileName"),a.verifyParamPresentJustOne(r,"blob fileInput"),a.verifyCallback(r,"beginupload uploadprogress uploaddone"),r.fileInput&&(r.fileInput=a.verifyFileInput(r.fileInput)),r.type&&a.verifyFileType(r.type),r.timeout?a.verifyParamType("timeout",r.timeout,"number"):r.timeout=6e5,a.verifyFileUploadCallback(r),r.data={};var e=r.fileName,t=r.fileInput;if(u)if(t){var i=r.type?a.filterFiles(t.files,r.type):[].slice.call(t.files,0);if(!i||!i.length)return void r.uploaddone(s.newWrongFileTypeError("未读取到"+r.type+"类型的文件, 请确保文件选择节点的文件不为空, 并且请确保选择了"+r.type+"类型的文件"));if(104857600<t.files[0].size)return void r.uploaddone(s.newFileTooLargeError("文件大小超过100M"));r.data[e]=i[0]}else r.blob&&(r.data[e]=r.blob);else a.dataset(t,"name",e),r.data.input=t;r.params&&a.merge(r.data,r.params);var o={data:r.data,onaftersend:function(){r.beginupload(n)},onuploading:function(e){var t=Math.floor(1e4*e.loaded/e.total)/100,n={docId:r.docId,total:e.total,loaded:e.loaded,percentage:t,percentageText:t+"%"};r.fileInput&&(n.fileInput=r.fileInput),r.blob&&(n.blob=r.blob),r.uploadprogress(n)},onload:function(e){e.docId=r.docId,e.Error?n.onError(e):r.uploaddone(null,e)},onerror:function(e){try{if(e.result)var t=JSON.parse(e.result);else t=e;n.onError(t)}catch(t){console.error("ignore error if could not parse obj.result",t),r.uploaddone(new s(e.message,e.code),n.options)}}};u||(o.mode="iframe"),o.putFileAtEnd=!0,n.sn=c(r.url,o)}i.prototype.onError=function(e){var t,n,r,i=this.options;n=(t=(e=e||{}).Error||e||{}).Code||t.code||"unknown",r=t.Message||t.message||"未知错误",i.uploaddone(new s(n+"("+r+")",n))},i.prototype.abort=function(){r(this.sn)},e.exports=i},function(n,r,e){var i,o,a;!function(e,t){"use strict";o=[],void 0===(a="function"==typeof(i=function(b){return function(p){(p=p||{}).arrayAccessForm=p.arrayAccessForm||"none",p.emptyNodeForm=p.emptyNodeForm||"text",p.jsAttributeFilter=p.jsAttributeFilter,p.jsAttributeConverter=p.jsAttributeConverter,p.attributeConverters=p.attributeConverters||[],p.datetimeAccessFormPaths=p.datetimeAccessFormPaths||[],p.arrayAccessFormPaths=p.arrayAccessFormPaths||[],void 0===p.enableToStringFunc&&(p.enableToStringFunc=!0),void 0===p.skipEmptyTextNodesForObj&&(p.skipEmptyTextNodesForObj=!0),void 0===p.stripWhitespaces&&(p.stripWhitespaces=!0),void 0===p.useDoubleQuotes&&(p.useDoubleQuotes=!0),void 0===p.ignoreRoot&&(p.ignoreRoot=!1),void 0===p.escapeMode&&(p.escapeMode=!0),void 0===p.attributePrefix&&(p.attributePrefix="_"),void 0===p.selfClosingElements&&(p.selfClosingElements=!0),void 0===p.keepCData&&(p.keepCData=!1),void 0===p.jsDateUTC&&(p.jsDateUTC=!1),function(){function e(e){var t=String(e);return 1===t.length&&(t="0"+t),t}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var h={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function m(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!==t||(t=e.nodeName),t}function c(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):e}function g(e,t,n){switch(p.arrayAccessForm){case"property":e[t]instanceof Array?e[t+"_asArray"]=e[t]:e[t+"_asArray"]=[e[t]]}if(!(e[t]instanceof Array)&&0<p.arrayAccessFormPaths.length){for(var r=!1,i=0;i<p.arrayAccessFormPaths.length;i++){var o=p.arrayAccessFormPaths[i];if("string"==typeof o){if(o===n){r=!0;break}}else if(o instanceof RegExp){if(o.test(n)){r=!0;break}}else if("function"==typeof o&&o(t,n)){r=!0;break}}r&&(e[t]=[e[t]])}}function v(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),r=t[5].split(".");if(n.setHours(t[3],t[4],r[0]),1<r.length&&n.setMilliseconds(r[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]);i=0+("-"===(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function y(a,e){return a.nodeType===h.DOCUMENT_NODE?function(e){for(var t={},n=a.childNodes,r=0;r<n.length;r++){var i=n.item(r);if(i.nodeType===h.ELEMENT_NODE){var o=m(i);p.ignoreRoot?t=y(i,o):t[o]=y(i,o)}}return t}():a.nodeType===h.ELEMENT_NODE?function(e,t){for(var n={__cnt:0},r=e.childNodes,i=0;i<r.length;i++){var o=r.item(i),a=m(o);o.nodeType!==h.COMMENT_NODE&&(n.__cnt++,null==n[a]?(n[a]=y(o,t+"."+a),g(n,a,t+"."+a)):(n[a]instanceof Array||(n[a]=[n[a]],g(n,a,t+"."+a)),n[a][n[a].length]=y(o,t+"."+a)))}for(var s=0;s<e.attributes.length;s++){var c=e.attributes.item(s);n.__cnt++;for(var u=c.value,l=0;l<p.attributeConverters.length;l++){var f=p.attributeConverters[l];f.test.call(null,c.name,c.value)&&(u=f.convert.call(null,c.name,c.value))}n[p.attributePrefix+c.name]=u}var d=e.prefix;return d&&(n.__cnt++,n.__prefix=d),n["#text"]&&(n.__text=n["#text"],n.__text instanceof Array&&(n.__text=n.__text.join("\n")),p.escapeMode&&(n.__text=n.__text.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")),p.stripWhitespaces&&(n.__text=n.__text.trim()),delete n["#text"],"property"===p.arrayAccessForm&&delete n["#text_asArray"],n.__text=function(e,t,n){if(0<p.datetimeAccessFormPaths.length)for(var r=n.split(".#")[0],i=0;i<p.datetimeAccessFormPaths.length;i++){var o=p.datetimeAccessFormPaths[i];if("string"==typeof o){if(o===r)return v(e)}else if(o instanceof RegExp){if(o.test(r))return v(e)}else if("function"==typeof o&&o(r))return v(e)}return e}(n.__text,0,t+".#text")),n.hasOwnProperty("#cdata-section")&&(n.__cdata=n["#cdata-section"],delete n["#cdata-section"],"property"===p.arrayAccessForm&&delete n["#cdata-section_asArray"]),1===n.__cnt&&n.__text?n=n.__text:0===n.__cnt&&"text"===p.emptyNodeForm?n="":1<n.__cnt&&void 0!==n.__text&&p.skipEmptyTextNodesForObj&&(p.stripWhitespaces&&""===n.__text||""===n.__text.trim())&&delete n.__text,delete n.__cnt,p.keepCData||n.hasOwnProperty("__text")||!n.hasOwnProperty("__cdata")?(p.enableToStringFunc&&(n.__text||n.__cdata)&&(n.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),n):n.__cdata?n.__cdata:""}(a,e):a.nodeType===h.TEXT_NODE||a.nodeType===h.CDATA_SECTION_NODE?a.nodeValue:null}function o(e,t,n,r){var i="<"+(e&&e.__prefix?e.__prefix+":":"")+t;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=e[a];p.escapeMode&&(s=c(s)),i+=" "+a.substr(p.attributePrefix.length)+"=",p.useDoubleQuotes?i+='"'+s+'"':i+="'"+s+"'"}return i+(r?" />":">")}function i(e,t){return"</"+(e&&e.__prefix?e.__prefix+":":"")+t+">"}function a(e,t){return"property"===p.arrayAccessForm&&("_asArray",-1!==(n=t.toString()).indexOf("_asArray",n.length-"_asArray".length))||0===t.toString().indexOf(p.attributePrefix)||0===t.toString().indexOf("__")||e[t]instanceof Function;var n}function s(e){var t=0;if(e instanceof Object)for(var n in e)a(e,n)||t++;return t}function u(e){var t=[];if(e instanceof Object)for(var n in e)-1===n.toString().indexOf("__")&&0===n.toString().indexOf(p.attributePrefix)&&t.push(n);return t}function l(e){var t,n,r="";return e instanceof Object?r+=(n="",(t=e).__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),t.__text&&(p.escapeMode?n+=c(t.__text):n+=t.__text),n):null!==e&&(p.escapeMode?r+=c(e):r+=e),r}function f(e,t,n){var r="";if(p.jsAttributeFilter&&p.jsAttributeFilter.call(null,t,e))return r;if(p.jsAttributeConverter&&(e=p.jsAttributeConverter.call(null,t,e)),null!=e&&""!==e||!p.selfClosingElements)if("object"==typeof e)if("[object Array]"===Object.prototype.toString.call(e))r+=function(e,t,n){var r="";if(0===e.length)r+=o(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=f(e[i],t,u(e[i]));return r}(e,t,n);else if(e instanceof Date)r+=o(e,t,n,!1),r+=p.jsDateUTC?e.toUTCString():e.toISOString(),r+=i(e,t);else{0<s(e)||e.__text||e.__cdata?(r+=o(e,t,n,!1),r+=d(e),r+=i(e,t)):p.selfClosingElements?r+=o(e,t,n,!0):(r+=o(e,t,n,!1),r+=i(e,t))}else r+=o(e,t,n,!1),r+=l(e),r+=i(e,t);else r+=o(e,t,n,!0);return r}function d(e){var t="";if(0<s(e))for(var n in e)if(!a(e,n)){var r=e[n];t+=f(r,n,u(r))}return t+l(e)}function n(e){if(void 0===e)return null;if("string"!=typeof e)return null;var t=null,n=null;if(b)n=(t=new b).parseFromString(e,"text/xml");else if(window&&window.DOMParser){t=new window.DOMParser;var r=null;if(!(window.ActiveXObject||"ActiveXObject"in window))try{r=t.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(e){r=null}try{n=t.parseFromString(e,"text/xml"),null!==r&&0<n.getElementsByTagNameNS(r,"parsererror").length&&(n=null)}catch(e){n=null}}else 0===e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e);return n}this.asArray=function(e){return null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?v(e):e},this.xml2dom=function(e){return n(e)},this.dom2js=function(e){return y(e,null)},this.js2dom=function(e){return n(this.js2xml(e))},this.xml2js=function(e){var t=n(e);return null!=t?this.dom2js(t):null},this.js2xml=function(e){return d(e)},this.getVersion=function(){return"3.1.1"}}})?i.apply(r,o):i)||(n.exports=a)}()},function(e,t,n){"use strict";var r,i=(r=n(9))&&r.__esModule?r:{default:r},o=n(46).fn,u=n(0),a=n(257),l=n(25),d=n(5),f=n(154),p=n(256),s=n(153);o.sendText=function(e){return this.processCallback(e),e.msg=new this.message.TextMessage(e),this.sendMsg(e)},o.previewFile=function(n){if(u.verifyOptions(n,"done","msg::previewFile"),n.type||(n.type="file"),u.verifyParamPresentJustOne(n,"dataURL blob fileInput filePath wxFilePath fileObject","msg::previewFile"),n.nosSurvivalTime?(u.verifyParamType("nosSurvivalTime",n.nosSurvivalTime,"number","api::Base.getInstance"),u.verifyParamMin("nosSurvivalTime",n.nosSurvivalTime,86400,"api::Base.getInstance")):n.nosSurvivalTime=this.nosSurvivalTime,n.filePath=n.filePath||n.wxFilePath,delete n.wxFilePath,n.dataURL)n.blob=s.fromDataURL(n.dataURL);else if(n.blob);else if(n.fileInput){if(n.fileInput=u.verifyFileInput(n.fileInput,"msg::previewFile"),n.fileInput.files){if(!n.fileInput.files.length)return void n.done(l.newNoFileError("请选择"+n.type+"文件",{callFunc:"msg::previewFile",fileInput:n.fileInput}),n);n.fileSize=n.fileInput.files[0].size}n.fileInputName=u.getFileName(n.fileInput)}this.processCallback(n);var e=JSON.stringify(f.genResponseBody(n.type)||{}).replace(/"/gi,'\\"'),t=null,r=n.transcode?"getNosTokenTrans":"getNosToken";if(n.transcode){u.verifyOptions(n,"fileInput","msg::previewFile");var i=u.getFileInfo(n.fileInput);t={transToken:{name:i.name,type:i.transcodeType,transType:"png"===n.transcode?11:10,size:i.size,body:e}}}else t=e;this[r]({responseBody:t,nosToken:{nosScene:n.nosScene||this.nosScene,nosSurvivalTime:n.nosSurvivalTime},callback:function(e,t){e?n.done(e):(n.transcode?(n.nosToken=t.nosToken,n.docId=t.docId):n.nosToken=t,this._doPreviewFile(n))}.bind(this)})},o._doPreviewFile=function(o){var a=this,s=o.uploaddone,e=d.genUploadUrl(o.nosToken.bucket),c=this.assembleUploadParams(o.nosToken);function n(e,t){if(o.uploaddone=s,e)o.done(e,o.callback.options);else{if((t=f.parseResponse(t,a.options.exifOrientation)).url=d.genDownloadUrl(o.nosToken,c.Object),u.exist(o.fileInputName))t.name=o.fileInputName;else if(o.blob){var n=o.blob.name;if(t.name=n||"blob-"+t.md5,!n){var r=o.blob.type;t.ext=r.slice(r.lastIndexOf("/")+1)}}else o.filePath?t.name=o.filePath:o.fileObject&&(t.name=o.fileObject.fileName);if(!t.ext){var i=t.name.lastIndexOf(".");t.ext=-1===i?"unknown":t.name.slice(i+1)}t.size=t.size||0,o.done(null,u.copy(t))}}if(d.isWeixinApp)u.verifyOptions(o,"filePath","msg::_doPreviewFile"),a.fileQuickTransfer(o,n,function(){wx.uploadFile({url:e,filePath:o.filePath,name:"file",formData:c,fail:function(e){console.error("api::msg:upload file failed",e)},success:function(t){if(200===t.statusCode)try{n(null,JSON.parse(t.data))}catch(e){console.error("parse wx upload file res error",e),n({code:"PARSE_WX_UPLOAD_FILE_RES_ERROR",str:t.data,msg:t.errMsg})}else n({code:t.statusCode,msg:t.errMsg})}})});else if(d.isNodejs){var t={url:e,name:"file",formData:c,success:function(t){if(200===t.statusCode)try{n(null,JSON.parse(t.data))}catch(e){console.error("parse nodejs upload file res error",e),n({code:"PARSE_NODEJS_UPLOAD_FILE_RES_ERROR",str:t.data,msg:t.errMsg})}else n({code:t.statusCode,msg:t.errMsg})},fail:function(e){console.error("api::msg:upload file failed",e)}};if(o.filePath)t.filePath=o.filePath;else{if("object"!==(0,i.default)(o.fileObject))throw new l("Nodejs上传fileObject参数类型应如 {fileName:..,fileData:..} ");t.fileData=o.fileObject.fileData}a.fileQuickTransfer(o,n,function(){p.uploadFile(t)})}else if(d.isRN){var r={url:e,name:"file",formData:c,filePath:o.filePath,success:function(t){if(t.ok&&200===t.status)try{t.md5=t.headers.map&&t.headers.map.etag&&t.headers.map.etag[0]||"UNKNOWN",n(null,t)}catch(e){console.error("parse React Native upload file res error",e),n({code:"PARSE_React_Native_UPLOAD_FILE_RES_ERROR",res:t})}else n({code:t.status,msg:t.statusText})},fail:function(e){console.error("api::msg:upload file failed",e)}};a.fileQuickTransfer(o,n,function(){p.uploadFile(r)})}else o.uploaddone=n,o.url=e,o.params=c,o.fileName="file",a.fileQuickTransfer(o,n,function(){return new p(o)})},o.fileQuickTransfer=function(e,r,i){var o=this;e=e||{},r instanceof Function||(r=function(){}),i instanceof Function||(i=function(){});var t=e.fastPass;if(t)try{t=JSON.parse(t),e.fastPass=t}catch(e){o.protocol.logger.error("快传参数解析失败")}var n=e.fileInputName||e.name||e.blob&&e.blob.name||"",a=e.fileSize||e.size||e.blob&&e.blob.size||0,s=t?((t.md5||e.digest||"")+"").trim():"",c=e.type||e.blob&&e.blob.type;if(s&&a>=d.threshold){var u=!0,l={name:n,md5:s,ext:n.slice(n.lastIndexOf(".")+1),type:c};switch(c){case"image":t&&t.w&&t.h?(l.w=t.w,l.h=t.h):(u=!1,o.protocol.logger.error("快传 image 文件缺少参数 w 或 h"));break;case"video":t&&t.w&&t.h&&t.dur?(l.w=t.w,l.h=t.h,l.dur=t.dur):(u=!1,o.protocol.logger.error("快传 video 文件缺少参数 w 或 h 或 dur"));break;case"audio":t&&t.dur?l.dur=t.dur:(u=!1,o.protocol.logger.error("快传 audio 文件缺少参数 dur"))}if(!u)return void i();var f={fileQuickTransfer:{md5:s}};return a&&(f.fileQuickTransfer.size=a),this.protocol.sendCmd("fileQuickTransfer",f,function(e,t,n){!e&&n&&n.fileQuickTransfer&&n.fileQuickTransfer.url||(o.protocol.logger.error("misc::fileQuickTransfer: not found",e,t,n),i()),n&&n.fileQuickTransfer&&n.fileQuickTransfer.threshold&&(d.threshold=n.fileQuickTransfer.threshold||0),n&&n.fileQuickTransfer&&n.fileQuickTransfer.url&&(l.size=a||n.fileQuickTransfer.size,l.url=n.fileQuickTransfer.url,r(e,l))})}i()},o.sendFile=function(e){if(e.type||(e.type="file"),u.verifyParamPresentJustOne(e,"dataURL blob fileInput file filePath wxFilePath fileObject","msg::sendFile"),this.processCallback(e),e.filePath=e.filePath||e.wxFilePath,delete e.wxFilePath,e.dataURL)this._previewAndSendFile(e);else if(e.blob)this._previewAndSendFile(e);else if(e.fileInput){if(e.fileInput=u.verifyFileInput(e.fileInput,"msg::sendFile"),e.fileInput.files&&!e.fileInput.files.length)return void e.done(l.newNoFileError("请选择"+e.type+"文件",{callFunc:"msg::sendFile",fileInput:e.fileInput}),e.callback.options);this._previewAndSendFile(e)}else if(e.filePath||e.fileObject)this._previewAndSendFile(e);else if(e.file)return e.msg=new this.message.FileMessage(e),this.sendMsg(e)},o._previewAndSendFile=function(n){var r=this;u.verifyCallback(n,"uploaddone beforesend","msg::_previewAndSendFile");var i=n.done;n.done=function(e,t){if(n.done=i,e)n.uploaddone(e,n.callback.options);else{if(/chatroom/.test(n.scene))return;n.uploaddone(null,u.copy(t)),n.file=t,n.msg=new r.message.FileMessage(n),n.beforesend(r.sendMsg(n))}},r.previewFile(n)},o.assembleUploadParams=function(e){return e?{Object:decodeURIComponent(e.objectName),"x-nos-token":e.token,"x-nos-entity-type":"json"}:null},o.deleteFile=function(n){u.verifyParamPresentJustOne(n,"docId","msg::deleteFile"),this.removeFile({docId:n.docId,callback:function(e,t){e?n.error&&n.error(e,t):n.success&&n.success(t)}})},o.getFile=function(n){u.verifyParamPresentJustOne(n,"docId","msg::getFile"),this.fetchFile({docId:n.docId,callback:function(e,t){e?n.error&&n.error(e,t):n.success&&n.success(t.info)}})},o.getFileList=function(n){var e=n.fromDocId,t=void 0===e?"":e,r=n.limit,i=void 0===r?10:r,o={limit:i};t&&(o.fromDocId=t),this.fetchFileList({fileListParam:o,callback:function(e,t){e?(30<i&&(e.message=e.message+"::文档条数超过限制:30"),n.error&&n.error(e,t)):n.success&&n.success(t)}})},o.sendGeo=function(e){return this.processCallback(e),e.msg=new this.message.GeoMessage(e),this.sendMsg(e)},o.sendTipMsg=function(e){return this.processCallback(e),e.msg=new this.message.TipMessage(e),this.sendMsg(e)},o.sendCustomMsg=function(e){return this.processCallback(e),e.msg=new this.message.CustomMessage(e),this.sendMsg(e)},o.sendRobotMsg=function(e){return this.processCallback(e),e.msg=new this.message.RobotMessage(e),this.sendMsg(e)},o.sendMsg=function(e){var t=this.protocol,n=e.msg,r={},i=!!e.isLocal;if(i&&(e.time&&(n.time=e.time),e.idClient&&(n.idClient=e.idClient)),e.resend&&("out"!==e.flow||"fail"!==e.status))return u.onError("只能重发发送失败的消息");e.callback.options.idClient=n.idClient,this.beforeSendMsg(e,r);var o=e.rtnMsg=this.formatReturnMsg(n);return i&&(o.status="success",o.isLocal=!0),t.storeSendMsg&&(r.promise=t.storeSendMsg(o)),e.cbaop=function(e){if(e&&"server"!==e.from)return o.status="fail",t.updateSendMsgError&&t.updateSendMsgError(o),o},i||(r.msg=n,this.sendCmd(e.cmd,r,e.callback)),this.afterSendMsg(e),i&&setTimeout(function(){o=u.simpleClone(o),e.done(null,o)},0),u.copy(o)},o.beforeSendMsg=function(){},o.afterSendMsg=function(){},o.formatReturnMsg=function(e){return e=u.copy(e),this.protocol.completeMsg(e),e.status="sending",this.message.reverse(e)},o.resendMsg=function(e){return u.verifyOptions(e,"msg","msg::resendMsg"),this.trimMsgFlag(e),e.resend=!0,this._sendMsgByType(e)},o.forwardMsg=function(e){return u.verifyOptions(e,"msg","msg::forwardMsg"),this.beforeForwardMsg(e),this.trimMsgFlag(e),e.forward=!0,e.msg.idClient=u.guid(),this._sendMsgByType(e)},o.trimMsgFlag=function(e){e&&e.msg&&(e.msg=u.copy(e.msg),delete e.msg.resend,delete e.msg.forward)},o.beforeForwardMsg=function(){},o._sendMsgByType=function(e){switch(u.verifyOptions(e,"msg","msg::_sendMsgByType"),u.verifyParamValid("msg.type",e.msg.type,this.message.validTypes,"msg::_sendMsgByType"),u.merge(e,e.msg),e.type){case"text":return this.sendText(e);case"image":case"audio":case"video":case"file":return this.sendFile(e);case"geo":return this.sendGeo(e);case"custom":return this.sendCustomMsg(e);case"tip":return this.sendTipMsg(e);default:throw new l("不能发送类型为 "+e.type+" 的消息")}},o.parseRobotTemplate=function(e){if(/<template[^>\/]+\/>/.test(e))return{raw:e,json:[{type:"text",name:"",text:""}]};if(!/<template[^>\/]+>/.test(e))return{raw:e,json:[{type:"text",name:"",text:e}]};var t=new a({escapeMode:!1});e=e.replace(/<template [^>]+>/,"<template>");var n=t.xml2js(e);n=n.template.LinearLayout,Array.isArray(n)||(n=[n]);var r=[];return n=n.forEach(function(e){e.image&&(r=r.concat(o(e))),e.text&&(r=r.concat(i(e))),e.link&&(r=r.concat(function(e){if(e.link){var t=e.link;Array.isArray(t)||(t=[t]),t=t.map(function(e){return e.image&&(e.image=o(e)),e.text&&(e.text=i(e)),"url"===e._type?(e.type="url",e.style=e._style||"",e.target=e._target,delete e._target,delete e._style):"block"===e._type&&(e.type="block",e.style=e._style||"",e.params=e._params||"",e.target=e._target,delete e._params,delete e._target,delete e._style),delete e._type,e}),e.link=t}return e.link}(e)))}),{raw:e,json:r};function i(e){return Array.isArray(e.text)||(e.text=[e.text]),e.text=e.text.map(function(e){return{type:"text",name:e._name,text:e.__text}}),e.text}function o(e){return Array.isArray(e.image)||(e.image=[e.image]),e.image=e.image.map(function(e){return{type:"image",name:e._name,url:e._url}}),e.image}}},function(e,t,n){"use strict";var r=n(46).fn;r.isConnected=function(){return!!this.protocol&&this.protocol.isConnected()},r.connect=function(){this.protocol.appLogin=0,this.protocol.connect()},r.disconnect=function(e){e=e||{},this.protocol.disconnect(e.done)}},function(e,t,n){"use strict";var r=n(21),a=n(0);function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.merge(this,{options:e,debug:!1,api:"log",style:"color:blue;",log:a.emptyFunc,info:a.emptyFunc,warn:a.emptyFunc,error:a.emptyFunc}),this.prefix=e.prefix||"",this.setDebug(e.debug)}n(51);var o=i.prototype,s=["Chrome","Safari","Firefox"];o.setDebug=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=this;if((i.debug=e).style&&(i.style=e.style),i.debug&&a.exist(console)){var o=console;i.debug=function(){var e=i.formatArgs(arguments);-1!==s.indexOf(r.name)&&a.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,i.style)),i._log("debug",e)},i.log=function(){var e=i.formatArgs(arguments);-1!==s.indexOf(r.name)&&a.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,i.style)),i._log("log",e)},i.info=function(){var e=i.formatArgs(arguments);-1!==s.indexOf(r.name)&&a.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,i.style)),i._log("info",e)},i.warn=function(){var e=i.formatArgs(arguments);-1!==s.indexOf(r.name)&&a.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,i.style)),i._log("warn",e)},i.error=function(){var e=i.formatArgs(arguments);-1!==s.indexOf(r.name)&&a.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,i.style)),i._log("error",e)},i._log=function(e,t){var n=i.options.logFunc,r=null;if(n&&(n[e]&&(r=n[e]),a.isFunction(r)))r.apply(n,t);else if(o[e])try{o[e].apply?i.chrome(e,t):i.ie(e,t)}catch(e){}},i.chrome=function(e,t){-1!==s.indexOf(r.name)?o[e].apply(o,t):i.ie(e,t)},i.ie=function(t,e){e.forEach(function(e){o[t](JSON.stringify(e,null,4))})}}},o.formatArgs=function(n){n=[].slice.call(n,0);var e=new Date,t="[NIM LOG "+c(e.getMonth()+1)+"-"+c(e.getDate())+" "+c(e.getHours())+":"+c(e.getMinutes())+":"+c(e.getSeconds())+":"+c(e.getMilliseconds(),3)+" "+this.prefix.toUpperCase()+"]  ";return a.isString(n[0])?n[0]=t+n[0]:n.splice(0,0,t),n.forEach(function(e,t){(a.isArray(e)||a.isObject(e))&&(n[t]=a.simpleClone(e))}),n};var c=function(e,t){t=t||2;for(var n=""+e;n.length<t;)n="0"+n;return n};e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(129).fn,i=n(0);r.queueOffer=function(e){i.verifyOptions(e,"elementKey elementValue","msg::queueOffer"),e.transient?e.transient=!0:e.transient=!1,this.processCallback(e),this.sendCmd("queueOffer",e,e.callback)},r.queuePoll=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.elementKey=e.elementKey||"",this.processCallback(e),this.sendCmd("queuePoll",e,e.callback)},r.queueList=function(e){this.processCallback(e),this.sendCmd("queueList",e,e.callback)},r.peak=function(e){this.processCallback(e),this.sendCmd("peak",e,e.callback)},r.queueDrop=function(e){this.processCallback(e),this.sendCmd("queueDrop",e,e.callback)},r.queueChange=function(e){i.verifyOptions(e,"elementMap","msg::queueOffer"),e.needNotify?(e.needNotify=!0,i.verifyOptions(e,"notifyExt","msg::queueOffer")):e.needNotify=!1,this.processCallback(e),this.sendCmd("queueChange",e,e.callback)}},function(e,t,n){"use strict";var r=n(0),i=r.undef,o=r.verifyOptions,a=r.verifyParamType,s=n(168),c=n(129).fn;c.updateMyChatroomMemberInfo=function(e){o(e,"member needNotify","member::updateMyChatroomMemberInfo"),a("needNotify",e.needNotify,"boolean","member::updateMyChatroomMemberInfo"),e.needSave=e.needSave||!1,a("needSave",e.needSave,"boolean","member::updateMyChatroomMemberInfo"),this.processCustom(e),this.processCallback(e),e.chatroomMember=new s(e.member),this.sendCmd("updateMyChatroomMemberInfo",e)},c.getChatroomMembers=function(e){o(e,"guest","member::getChatroomMembers"),a("guest",e.guest,"boolean","member::getChatroomMembers"),i(e.time)?e.time=0:a("time",e.time,"number","member::getChatroomMembers"),i(e.limit)?e.limit=100:a("limit",e.limit,"number","member::getChatroomMembers"),this.processCallback(e),e.type=e.guest?1:0,!e.guest&&e.onlyOnline&&(e.type=2),this.sendCmd("getChatroomMembers",e)},c.getChatroomMembersInfo=function(e){o(e,"accounts","member::getChatroomMembersInfo"),a("accounts",e.accounts,"array","member::getChatroomMembersInfo"),this.processCallback(e),this.sendCmd("getChatroomMembersInfo",e)},c.markChatroomIdentity=function(e){o(e,"identity","member::markChatroomIdentity"),e.type={manager:1,common:2,black:-1,mute:-2}[e.identity],delete e.identity,isNaN(e.type)?o(e,"identity",'member::markChatroomIdentity. The valid value of the identity is "manager" or "common" or "black" or "mute".'):this.markChatroomMember(e)},c.markChatroomManager=function(e){e.type=1,this.markChatroomMember(e)},c.markChatroomCommonMember=function(e){e.type=2,this.markChatroomMember(e)},c.markChatroomBlacklist=function(e){e.type=-1,this.markChatroomMember(e)},c.markChatroomGaglist=function(e){e.type=-2,this.markChatroomMember(e)},c.markChatroomMember=function(e){o(e,"account type isAdd","member::markChatroomMember"),a("isAdd",e.isAdd,"boolean","member::markChatroomMember"),i(e.level)?e.level=0:a("level",e.level,"number","member::markChatroomMember"),this.processCustom(e),this.processCallback(e),this.sendCmd("markChatroomMember",e)},c.kickChatroomMember=function(e){o(e,"account","member::kickChatroomMember"),this.processCustom(e),this.processCallback(e),this.sendCmd("kickChatroomMember",e)},c.updateChatroomMemberTempMute=function(e){o(e,"account duration needNotify","member::updateChatroomMemberTempMute"),a("duration",e.duration,"number","member::updateChatroomMemberTempMute"),a("needNotify",e.needNotify,"boolean","member::updateChatroomMemberTempMute"),this.processCustom(e),this.processCallback(e),this.sendCmd("updateChatroomMemberTempMute",e)},c.getRobotList=function(e){i(e.timetag)&&(e.timetag=0),this.processCallback(e),this.sendCmd("syncRobot",e)}},function(e,t,n){"use strict";var i=n(0),o=i.undef,r=n(129).fn;r.beforeSendMsg=function(e){e.cmd="sendMsg"};var a={text:0,image:1,audio:2,video:3,geo:4,notification:5,file:6,tip:10,robot:11,custom:100};r.getHistoryMsgs=function(r){i.verifyOptions(r),o(r.timetag)?r.timetag=0:i.verifyParamType("timetag",r.timetag,"number","msg::getHistoryMsgs"),o(r.limit)?r.limit=100:i.verifyParamType("limit",r.limit,"number","msg::getHistoryMsgs"),o(r.reverse)?r.reverse=!1:i.verifyParamType("reverse",r.reverse,"boolean","msg::getHistoryMsgs"),o(r.msgTypes)?r.msgTypes=[]:Array.isArray(r.msgTypes)?(r.msgTypes=r.msgTypes.map(function(e){return a[e]}),r.msgTypes=r.msgTypes.filter(function(e){return"number"==typeof e})):"number"==typeof a[r.msgTypes]?r.msgTypes=[a[r.msgTypes]]:r.msgTypes=[],this.processCallback(r),this.sendCmd("getHistoryMsgs",r,function(e,t,n){Array.isArray(n)&&(n=n.map(function(e){return a[e.type]&&(e.type=a[e.type]),e})),r.callback(e,t,n)})}},function(e,t,n){"use strict";var i=n(71),o=n(0),r={welcome:"00",text:"01",link:"03"},a={"01":"text","02":"image","03":"answer",11:"template"};function s(e){o.verifyOptions(e,"content","msg::RobotMessage");var t=e.content;switch(t.type){case"welcome":o.undef(e.body)&&(this.body="欢迎消息");break;case"text":o.verifyOptions(t,"content","msg::RobotMessage"),o.undef(e.body)&&(this.body=t.content);break;case"link":o.verifyOptions(t,"target","msg::RobotMessage")}t.type&&(t.type=r[t.type]),t={param:t,robotAccid:e.robotAccid},this.attach=JSON.stringify(t),e.type="robot",i.call(this,e)}s.prototype=Object.create(i.prototype),s.reverse=function(e){var t=i.reverse(e);if("robot"===t.type){var n=JSON.parse(e.attach);if(n.param&&(n.param.type=a[n.param.type]||"unknown"),n.robotMsg){var r=(n=o.merge(n,n.robotMsg)).message;"bot"===n.flag?n.message=r.map(function(e){return e.type=a[e.type]||"unknown",e}):n.flag,delete n.robotMsg}t.content=n}return t},e.exports=s},function(e,t,n){"use strict";var r=n(71),i=n(0);function o(e){i.verifyOptions(e,"tip","msg::TipMessage"),e.type="tip",r.call(this,e),this.attach=e.tip}o.prototype=Object.create(r.prototype),o.reverse=function(e){var t=r.reverse(e);return t.tip=e.attach,t},e.exports=o},function(e,t,n){"use strict";var r=n(71),i=n(0);function o(e){i.verifyOptions(e,"content","msg::CustomMessage"),e.type="custom",r.call(this,e),"string"!=typeof e.content&&(e.content=JSON.stringify(e.content)),this.attach=e.content}o.prototype=Object.create(r.prototype),o.reverse=function(e){var t=r.reverse(e);return t.content=e.attach,t},e.exports=o},function(e,t,n){"use strict";var o=n(0).notundef,a=n(71),s={301:"memberEnter",302:"memberExit",303:"blackMember",304:"unblackMember",305:"gagMember",306:"ungagMember",307:"addManager",308:"removeManager",309:"addCommon",310:"removeCommon",311:"closeChatroom",312:"updateChatroom",313:"kickMember",314:"addTempMute",315:"removeTempMute",316:"updateMemberInfo",317:"updateQueue",318:"muteRoom",319:"unmuteRoom",320:"batchUpdateQueue"};function r(){}r.prototype=Object.create(a.prototype),r.reverse=function(e){var t=a.reverse(e);if(e.attach=e.attach?""+e.attach:"",e.attach){var n=JSON.parse(e.attach);if(t.attach={type:s[n.id]},o(n.data)){var r=n.data;if(o(r.operator)&&(t.attach.from=r.operator),o(r.opeNick)&&(t.attach.fromNick=r.opeNick),o(r.target)&&(t.attach.to=r.target),o(r.tarNick)&&(t.attach.toNick=r.tarNick),o(r.muteDuration)&&(t.attach.duration=parseInt(r.muteDuration,10)),"memberEnter"===t.attach.type&&(o(r.muted)?t.attach.gaged=1==+r.muted:t.attach.gaged=!1,o(r.tempMuted)?t.attach.tempMuted=1==+r.tempMuted:t.attach.tempMuted=!1,o(r.muteTtl)?t.attach.tempMuteDuration=+r.muteTtl:t.attach.tempMuteDuration=0),o(r.ext)&&(t.attach.custom=r.ext),o(r.queueChange)){var i=JSON.parse(r.queueChange);switch(i._e){case"OFFER":t.attach.queueChange={type:"OFFER",elementKey:i.key,elementValue:i.content};break;case"POLL":t.attach.queueChange={type:"POLL",elementKey:i.key,elementValue:i.content};break;case"DROP":t.attach.queueChange={type:"DROP"};break;case"PARTCLEAR":case"BATCH_UPDATE":t.attach.queueChange={type:i._e,elementKv:i.kvObject}}}}}else t.attach={};return t},e.exports=r},function(e,t,n){"use strict";var r=n(71),i=n(0);function o(e){e.type="geo",i.verifyOptions(e,"geo","msg::GeoMessage"),i.verifyOptions(e.geo,"lng lat title",!0,"geo.","msg::GeoMessage"),i.verifyParamType("geo.lng",e.geo.lng,"number","msg::GeoMessage"),i.verifyParamType("geo.lat",e.geo.lat,"number","msg::GeoMessage"),i.verifyParamType("geo.title",e.geo.title,"string","msg::GeoMessage"),r.call(this,e),this.attach=JSON.stringify(e.geo)}o.prototype=Object.create(r.prototype),o.reverse=function(e){var t=r.reverse(e);return e.attach=e.attach?""+e.attach:"",t.geo=e.attach?JSON.parse(e.attach):{},t},e.exports=o},function(e,t,n){"use strict";var r=n(128),i=n(0);function o(){}o.prototype=Object.create(r.prototype),o.verifyFile=function(e,t){i.verifyOptions(e,"dur w h",!0,"file.",t)},e.exports=o},function(e,t,n){"use strict";var r=n(128),i=n(0);function o(){}o.prototype=Object.create(r.prototype),o.verifyFile=function(e,t){i.verifyOptions(e,"dur",!0,"file.",t)},e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(128);function o(){}o.prototype=Object.create(i.prototype),o.verifyFile=function(e,t){r.verifyOptions(e,"w h",!0,"file.",t)},e.exports=o},function(e,t,n){"use strict";var r=n(71),i=n(0);function o(e){i.verifyOptions(e,"text","msg::TextMessage"),e.type="text",r.call(this,e),this.attach=e.text,this.body=""}o.prototype=Object.create(r.prototype),o.reverse=function(e){var t=r.reverse(e);return t.text=e.attach,t},e.exports=o},function(e,t,n){"use strict";var o=n(0),r=function(e){this.account=e.account},i=r.prototype,a=i.Message=n(71),s=i.TextMessage=n(398),c=i.FileMessage=n(128),u=i.GeoMessage=n(394),l=i.NotificationMessage=n(393),f=i.CustomMessage=n(392),d=i.TipMessage=n(391),p=i.RobotMessage=n(390);i.validTypes=a.validTypes,i.reverse=function(e){var t;switch(a.getType(e)){case"text":t=s.reverse(e);break;case"image":case"audio":case"video":case"file":t=c.reverse(e);break;case"geo":t=u.reverse(e);break;case"notification":t=l.reverse(e);break;case"custom":t=f.reverse(e);break;case"tip":t=d.reverse(e);break;case"robot":t=p.reverse(e);break;default:t=a.reverse(e)}return a.setExtra(t,this.account),t},i.reverseMsgs=function(e,t){var n,r,i=this;return e.map(function(e){return e=i.reverse(e),t&&((n=t.modifyObj)&&(e=o.merge(e,n)),r=t.mapper,o.isFunction(r)&&(e=r(e))),e})},e.exports=r},function(e,t,n){"use strict";var r=n(115).fn,i=n(168);r.onChatroomMembersInfo=r.onChatroomMembers=function(e){e.error||(e.obj.members=i.reverseMembers(e.content.members))},r.onMarkChatroomMember=function(e){e.error||(e.obj.member=i.reverse(e.content.chatroomMember))},r.onSyncRobot=function(e){!e.error&&this.options.onrobots?this.options.onrobots(null,e.content):this.ontions.onrobots(e.error,{})}},function(e,t,n){"use strict";var r=n(115).fn,i=n(0);r.completeMsg=function(e){e.chatroomId=this.chatroom.id,e.from=this.options.account,e.fromClientType="Web",e.time||(e.time=+new Date)},r.onMsg=function(e){var t=this.message.reverse(e.content.msg);this.checkMsgUnique(t)&&(this.msgBuffer.push(t),this.msgFlushTimer||this.startMsgFlushTimer())},r.startMsgFlushTimer=function(){var t=this,n=t.options;t.msgFlushTimer=setTimeout(function(){var e=t.msgBuffer.splice(0,n.msgBufferSize);t.options.onmsgs(e),t.msgBuffer.length?t.startMsgFlushTimer():delete t.msgFlushTimer},n.msgBufferInterval)},r.checkMsgUnique=i.genCheckUniqueFunc("idClient"),r.onSendMsg=function(e){var t=e.obj.msg;e.error?t.status="fail":(t=e.content.msg).status="success",t=this.message.reverse(t),e.obj=t},r.onHistoryMsgs=function(e){e.error||(e.obj||(e.obj={}),e.obj.msgs=this.message.reverseMsgs(e.content.msgs))}},function(e,t,n){"use strict";var r=n(115).fn,i=n(53),o=n(0);r.assembleLogin=function(){var e=this.options;this.sdkSession=this.genSessionKey();var t={appKey:e.appKey,account:e.account,deviceId:i.deviceId,chatroomId:e.chatroomId,session:this.sdkSession,appLogin:this.appLogin||0};return{type:1,login:t=o.merge(t,o.filterObj(e,"chatroomNick chatroomAvatar chatroomCustom chatroomEnterCustom isAnonymous")),imLogin:this.assembleIMLogin()}},r.afterLogin=function(e){var t=e.chatroom;this.chatroom=t,this.notifyLogin()},r.kickedReasons=["","chatroomClosed","managerKick","samePlatformKick","silentlyKick","blacked"],r.kickedMessages=["","聊天室关闭了","被房主或者管理员踢出","不允许同一个帐号在多个地方同时登录","悄悄被踢","被拉黑了"]},function(e,t,n){"use strict";n(115).fn.refreshSocketUrl=function(){this.socketUrls=this.socketUrlsBackup.slice(0),this.logger.info("link::refreshSocketUrl"),this.connectToUrl(this.getNextSocketUrl())}},function(e,t,n){"use strict";n(141);var r=n(129);n(169)(r),e.exports=r},function(e,t,n){"use strict";var r=n(0),i=r.notundef;function o(e){r.verifyOptions(e,"type","event::MsgEventSubscribe"),r.verifyParamType("type",e.type,"number","event::MsgEventSubscribe"),r.findObjIndexInArray([1,2,3],e.type)<0&&r.verifyParamMin("type",e.type,1e5,"event::MsgEventSubscribe"),this.type=e.type,i(e.subscribeTime)?(r.verifyParamType("subscribeTime",e.subscribeTime,"number","event::MsgEventSubscribe"),r.verifyParamMin("subscribeTime",e.subscribeTime,60,"event::MsgEventSubscribe"),r.verifyParamMax("subscribeTime",e.subscribeTime,2592e3,"event::MsgEventSubscribe"),this.subscribeTime=e.subscribeTime):this.subscribeTime=2592e3,i(e.sync)?(r.verifyParamType("sync",e.sync,"boolean","event::MsgEventSubscribe"),this.sync=e.sync):this.sync=!0}o.prototype.assembleEvent=function(e){return{type:this.type,subscribeTime:this.subscribeTime,sync:!0===this.sync?1:0}},e.exports=o},function(e,t,n){"use strict";var r=n(0),i=r.notundef,o=n(25);function a(e){if(r.verifyOptions(e,"type value","event::MsgEvent"),r.verifyParamType("type",e.type,"number","event::MsgEvent"),r.verifyParamType("value",e.value,"number","event::MsgEvent"),this.type=e.type,this.value=e.value,this.idClient=r.guid(),i(e.custom)&&(this.custom=""+e.custom),this.validTime=e.validTime||604800,r.verifyParamType("validTime",this.validTime,"number","event::MsgEvent"),r.verifyParamMin("validTime",this.validTime,60,"event::MsgEvent"),r.verifyParamMax("validTime",this.validTime,604800,"event::MsgEvent"),i(e.broadcastType)){if(r.verifyParamType("broadcastType",e.broadcastType,"number","event::MsgEvent"),[1,2].indexOf(e.broadcastType)<0)throw new o('参数错误"broadcastType":只能为1或2');this.broadcastType=e.broadcastType}else this.broadcastType=2;i(e.sync)?(r.verifyParamType("sync",e.sync,"boolean","event::MsgEvent"),this.sync=e.sync):this.sync=!1}a.prototype.assembleEvent=function(){return{type:this.type,value:this.value,idClient:this.idClient,custom:this.custom||"",validTime:this.validTime,broadcastType:this.broadcastType,sync:!0===this.sync?1:0}},e.exports=a},function(e,t,n){"use strict";var r,i=(r=n(9))&&r.__esModule?r:{default:r},o=n(31).fn,c=n(0),a=n(406),s=n(405);function u(e){return"object"===(void 0===e?"undefined":(0,i.default)(e))&&(e.msgEventSubscribes?e=e.msgEventSubscribes:e.msgEventSubscribe?e=e.msgEventSubscribe:e.accounts?e=e.accounts:e.msgEvent&&(e=e.msgEvent).time&&(e.time=+e.time),1===e.sync?e.sync=!0:0===e.sync&&(e.sync=!1)),e}o.batchSendEventsCmds=function(i,o,a){var s=this,e=c.dropArrayDuplicates(o.accounts);e=c.reshape2d(e,100);var n=[];e.forEach(function(t){n.push(new Promise(function(n,r){var e=c.simpleClone(o);e.accounts=t,s.sendCmdWithResp(i,e,function(e,t){e?r(e):n(u(t))})}))}),Promise.all(n).then(function(e){var t=null;if(0<e.length)if(e[0].msgEventSubscribe){var n=e[0].msgEventSubscribe;n=u(n);var r=[];e.forEach(function(e){r=r.concat(e.accounts)}),t={accounts:r,msgEventSubscribe:n}}else t=[],e.forEach(function(e){t=t.concat(e)});a(null,t)},function(e){a(e,null)})},o.publishEvent=function(n){var e=new a(n);e=e.assembleEvent(),this.processCallback(n),this.sendCmdWithResp("publishEvent",{msgEvent:e},function(e,t){e||(t=u(t)),n.callback(e,t)})},o.subscribeEvent=function(n){c.verifyOptions(n,"accounts","event::subscribeEvent");var e=new s(n);c.verifyParamType("accounts",n.accounts,"array","event::subscribeEvent"),this.processCallback(n),e=e.assembleEvent(),this.batchSendEventsCmds("subscribeEvent",{msgEventSubscribe:e,accounts:n.accounts},function(e,t){!e&&t&&(t={failedAccounts:t}),n.callback(e,t)})},o.unSubscribeEventsByAccounts=function(n){c.verifyOptions(n,"accounts","event::unSubscribeEventsByAccounts"),c.verifyParamType("accounts",n.accounts,"array","event::unSubscribeEventsByAccounts");var e=new s(n);e=e.assembleEvent(),this.processCallback(n),this.batchSendEventsCmds("unSubscribeEventsByAccounts",{msgEventSubscribe:e,accounts:n.accounts},function(e,t){!e&&t&&(t={failedAccounts:t}),n.callback(e,t)})},o.unSubscribeEventsByType=function(n){var e=new s(n);e=e.assembleEvent(),this.processCallback(n),this.sendCmdWithResp("unSubscribeEventsByType",{msgEventSubscribe:e},function(e,t){n.callback(e)})},o.querySubscribeEventsByAccounts=function(n){c.verifyOptions(n,"accounts","event::querySubscribeEventsByAccounts"),c.verifyParamType("accounts",n.accounts,"array","event::querySubscribeEventsByAccounts");var e=new s(n);e=e.assembleEvent(),this.processCallback(n),this.batchSendEventsCmds("querySubscribeEventsByAccounts",{msgEventSubscribe:e,accounts:n.accounts},function(e,t){!e&&t&&(t={msgEventSubscribes:t}),n.callback(e,t)})},o.querySubscribeEventsByType=function(n){var e=new s(n);e=e.assembleEvent(),this.processCallback(n),this.sendCmdWithResp("querySubscribeEventsByType",{msgEventSubscribe:e},function(e,t){e||(t={msgEventSubscribes:u(t)}),n.callback(e,t)})}},function(e,t,n){"use strict";var r=n(31).fn,i=n(171),o=n(0),a=o.undef;r.getPushNotificationMultiportConfig=function(){return this.protocol.getPushNotificationMultiportConfig()},r.updatePushNotificationMultiportConfig=function(e){o.verifyOptions(e),a(e.shouldPushNotificationWhenPCOnline)&&(e.shouldPushNotificationWhenPCOnline=!0),e.donnop=new i(e),this.processCallback(e),this.sendCmd("updateDonnop",e)}},function(e,t,n){"use strict";var r=n(31).fn;r.clearDB=function(e){var t=this.db;this.processCallback(e);var n=e.done;t.enable?t.clear().then(n,n):n()},r.removeDB=function(e){var t=this.db;this.processCallback(e);var n=e.done;t.enable?t.destroy().then(n,n):n()},r.closeDB=function(e){var t=this.db;this.processCallback(e);var n=e.done;t.enable?t.close().then(n,n):n()}},function(e,t,n){"use strict";var r=n(31).fn,i=n(0);r.audioToText=function(e){i.verifyOptions(e,"url","audio::audioToText"),e.audioToText=i.filterObj(e,"url"),this.processCallback(e),this.sendCmd("audioToText",e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(31).fn,i=n(0),o=n(5);r.getChatroomAddress=function(e){i.verifyOptions(e,"chatroomId","chatroom::getChatroomAddress"),e.isWeixinApp=o.isWeixinApp,this.processCallback(e),this.sendCmd("getChatroomAddress",e)}},function(e,t,n){"use strict";var r=n(31).fn,s=n(0),o=s.undef,a=s.notundef,c=n(117);r.markSysMsgRead=function(e){var t,n=this.db,r=Promise.resolve(),i=this.protocol;s.verifyOptions(e,"sysMsgs","sysmsg::markSysMsgRead");var o=e.sysMsgs;function a(){e.done(t,e)}s.isArray(o)||(o=[o]),n.enable?r=n.markSysMsgRead(o).then(function(e){o=e,i.onUpdateSysMsg(e)}):(o=o.filter(function(e){return!e.read})).length&&(i.options.autoMarkRead||i.markSysMsgRead(o,!0),o.forEach(function(e){e.read=!0}),i.onUpdateSysMsg(o)),r.then(function(){return i.reduceSysMsgUnread(o)}).then(a,function(e){t=e,a()})},r.sendCustomSysMsg=function(e){s.verifyOptions(e,"scene to content","sysmsg::sendCustomSysMsg"),s.verifyParamValid("scene",e.scene,this.message.validScenes,"sysmsg::sendCustomSysMsg"),this.processCallback(e),"p2p"===e.scene?e.type="customP2p":e.type="customTeam",e.sysMsg=new c(e);var t="sendCustomSysMsg";return e.filter&&(t="sendFilterCustomSysMsg"),this.sendCmd(t,{sysMsg:e.sysMsg,single:!0},e.callback),this.formatReturnSysMsg(e.sysMsg)},r.formatReturnSysMsg=function(e){return e=s.copy(e),this.protocol.completeSysMsg(e),e.status="sending",c.reverse(e)},r.getLocalSysMsgs=function(e){var t,n=this.db,r=[];function i(){e.sysMsgs=r,e.done(t,e)}s.verifyOptions(e),e.category&&s.verifyParamValid("category",e.category,c.validCategories,"sysmsg::getLocalSysMsgs"),e.type&&s.verifyParamValid("type",e.type,c.validTypes,"sysmsg::getLocalSysMsgs"),o(e.limit)&&(e.limit=100),s.verifyParamType("limit",e.limit,"number","sysmsg::getLocalSysMsgs"),s.verifyParamMax("limit",e.limit,100,"sysmsg::getLocalSysMsgs"),a(e.reverse)?s.verifyParamType("reverse",e.reverse,"boolean","sysmsg::getLocalSysMsgs"):e.reverse=!1,this.processCallback(e),n.enable?n.getSysMsgs(e).then(function(e){r=e,i()},function(e){t=e,i()}):i()},r.updateLocalSysMsg=function(e){var t,n=this.db,r=null;if(s.verifyOptions(e,"idServer","sysmsg::updateLocalSysMsg"),this.processCallback(e),n.enable){var i=s.filterObj(e,"idServer state localCustom");n.updateSysMsg(i).then(function(e){r=e,o()},function(e){t=e,o()})}else o();function o(){e.sysMsg=r,e.done(t,e)}},r.deleteLocalSysMsg=function(e){var t,n=this.db;function r(){e.done(t,e)}s.verifyOptions(e,"idServer","sysmsg::deleteLocalSysMsg"),this.processCallback(e),n.enable?n.deleteSysMsg(e.idServer).then(function(){r()},function(e){t=e,r()}):r()},r.deleteAllLocalSysMsgs=function(e){var t,n=this,r=n.db;function i(){n.protocol.onUpdateSysMsgUnread({}),e.done(t,e)}n.processCallback(e),r.enable&&r.deleteAllSysMsgs().then(function(){i()},function(e){t=e,i()})}},function(e,t,n){"use strict";var r=n(31).fn,s=n(0),c=s.undef,u=s.notundef,i=n(53),o=n(116),a=n(117),l=n(25);r.beforeSendMsg=function(e){var t,n=this.protocol,r=e.msg;switch(r.to===this.account&&(r.fromDeviceId=i.deviceId),r.userUpdateTime=n.myInfo&&n.myInfo.updateTime,r.getScene()){case"p2p":t="sendMsg";break;case"team":t="sendTeamMsg"}e.filter&&(t="sendFilterMsg",r.filter=!0),e.cmd=t},r.afterSendMsg=function(e){var t=e.rtnMsg,n=o.genSessionByMsg(t);this.protocol.onUpdateSession(n)},r.beforeForwardMsg=function(e){s.verifyOptions(e,"msg scene to","msg::beforeForwardMsg"),e.msg.scene=e.scene,e.msg.to=e.to},r.markMsgRead=function(e){var t=this.protocol;!e||this.db.enable||t.options.autoMarkRead?this.logger.warn("api::markMsgRead: 不需要标记消息为已收到 (没有消息, 或者启用了数据库, 或者启用了自动标记已收到)"):t.markMsgRead(e,!0)},r.sendMsgReceipt=function(e){if(s.verifyOptions(e),this.processCallback(e),e.msg){s.verifyOptions(e,"msg","msg::sendMsgReceipt");var t=e.msg;s.verifyOptions(t,"target idClient time",!0,"msg.","msg::sendMsgReceipt"),this.protocol.shouldSendMsgReceipt(t)?this.sendCmd("sendMsgReceipt",{msgReceipt:{to:t.target,idClient:t.idClient,time:t.time}},e.callback):e.done()}else e.done()},r.isMsgRemoteRead=function(e){return this.protocol.isMsgRemoteRead(e)},r.deleteMsg=function(e){s.verifyOptions(e,"msg","msg::deleteMsg");var t=e.msg;if("team"!==t.scene&&"out"!==t.flow||"success"!==t.status||t.from===t.to||t.isLocal)return e.done(l.newParamError("只能删除自己发送给别人的, 并且发送成功的非本地消息",{callFunc:"msg::deleteMsg"}),e);s.verifyOptions(t,["scene","to","from","time","idClient","idServer"],!0,"msg.","msg::deleteMsg"),s.verifyParamValid("msg.scene",t.scene,this.message.validScenes,"msg::deleteMsg");var n=s.simpleClone(t);this.processPs(n),this.processCallback(e),u(e.opeAccount)?n.opeAccount=e.opeAccount:c(n.opeAccount)&&(n.opeAccount=n.from),"p2p"===n.scene?n.type="deleteMsgP2p":n.type="deleteMsgTeam",n.deletedIdClient=n.idClient,n.deletedIdServer=n.idServer,n=new a(n),this.sendCmd("deleteMsg",{sysMsg:n,msg:t},e.callback)};var f={text:0,image:1,audio:2,video:3,geo:4,notification:5,file:6,tip:10,robot:11,custom:100};r.getHistoryMsgs=function(e){var t;switch(s.verifyOptions(e,"scene to","msg::getHistoryMsgs"),s.verifyParamValid("scene",e.scene,this.message.validScenes,"msg::getHistoryMsgs"),void 0===e.beginTime&&(e.beginTime=0),s.verifyParamType("beginTime",e.beginTime,"number","msg::getHistoryMsgs"),void 0===e.endTime&&(e.endTime=0),s.verifyParamType("endTime",e.endTime,"number","msg::getHistoryMsgs"),void 0!==e.lastMsgId&&null!==e.lastMsgId||(e.lastMsgId="0"),void 0===e.limit&&(e.limit=100),s.verifyParamType("limit",e.limit,"number","msg::getHistoryMsgs"),s.verifyParamMax("limit",e.limit,100,"msg::getHistoryMsgs"),u(e.reverse)?s.verifyParamType("reverse",e.reverse,"boolean","msg::getHistoryMsgs"):e.reverse=!1,u(e.asc)?s.verifyParamType("asc",e.asc,"boolean","msg::getHistoryMsgs"):e.asc=!1,c(e.msgTypes)?e.msgTypes=[]:Array.isArray(e.msgTypes)?(e.msgTypes=e.msgTypes.map(function(e){return f[e]}),e.msgTypes=e.msgTypes.filter(function(e){return"number"==typeof e})):"number"==typeof f[e.msgTypes]?e.msgTypes=[f[e.msgTypes]]:e.msgTypes=[],this.processCallback(e),e.asc&&(e.cbaop=function(e,t){e||(t.msgs=t.msgs.reverse())}),e.scene){case"p2p":t="getHistoryMsgs";break;case"team":t="getTeamHistoryMsgs"}var n={scene:e.scene,to:e.to,beginTime:e.beginTime,endTime:e.endTime,lastMsgId:e.lastMsgId,limit:e.limit,reverse:e.reverse,msgTypes:e.msgTypes};this.sendCmd(t,n,e.callback)},r.searchHistoryMsgs=function(e){var t;switch(s.verifyOptions(e,"scene to keyword","msg::searchHistoryMsgs"),s.verifyParamValid("scene",e.scene,this.message.validScenes,"msg::searchHistoryMsgs"),void 0===e.beginTime&&(e.beginTime=0),s.verifyParamType("beginTime",e.beginTime,"number","msg::searchHistoryMsgs"),void 0===e.endTime&&(e.endTime=0),s.verifyParamType("endTime",e.endTime,"number","msg::searchHistoryMsgs"),void 0===e.limit&&(e.limit=100),s.verifyParamType("limit",e.limit,"number","msg::searchHistoryMsgs"),s.verifyParamMax("limit",e.limit,100,"msg::searchHistoryMsgs"),u(e.reverse)?s.verifyParamType("reverse",e.reverse,"boolean","msg::searchHistoryMsgs"):e.reverse=!1,u(e.asc)?s.verifyParamType("asc",e.asc,"boolean","msg::searchHistoryMsgs"):e.asc=!1,this.processCallback(e),e.asc&&(e.cbaop=function(e,t){e||(t.msgs=t.msgs.reverse())}),e.scene){case"p2p":t="searchHistoryMsgs";break;case"team":t="searchTeamHistoryMsgs"}var n=s.filterObj(e,"scene to beginTime endTime keyword limit reverse");this.sendCmd(t,n,e.callback)},r.getLocalMsgs=function(t){var e=this.db,n=null,r=[];s.verifyOptions(t);var i=!1;u(t.start)&&(i=!0,s.verifyParamType("start",t.start,"number","msg::getLocalMsgs"));var o=!1;function a(){var e=s.simpleClone(t);e.msgs=r,delete e.callback,delete e.done,t.done(n,e)}u(t.end)&&(o=!0,s.verifyParamType("end",t.end,"number","msg::getLocalMsgs")),i&&o&&t.end<=t.start&&s.onParamError("参数 end 必须晚于 start"),c(t.limit)&&(t.limit=100),s.verifyParamType("limit",t.limit,"number","msg::getLocalMsgs"),s.verifyParamMin("limit",t.limit,1,"msg::getLocalMsgs"),this.processCallback(t),e.enable?e.getMsgs(t).then(function(e){r=e,a()},function(e){(e=e||{}).message=e.message||"msg::getLocalMsgs:db error",a()}):a()},r.getLocalMsgByIdClient=function(e){var t,n=this.db,r=null;function i(){e.msg=r,e.done(t,e)}s.verifyOptions(e,"idClient","msg::getLocalMsgByIdClient"),this.processCallback(e),n.enable?n.getMsgByIdClient(e.idClient).then(function(e){e&&(r=e),i()},function(e){t=e,i()}):i()},r.getLocalMsgsByIdClients=function(e){var t,n=this.db,r=[];function i(){e.msgs=r,e.done(t,e)}s.verifyOptions(e,"idClients","msg::getLocalMsgByIdClient"),s.verifyParamType("idClients",e.idClients,"array","msg::getLocalMsgByIdClient"),this.processCallback(e),n.enable?n.getMsgsByIdClients(e.idClients).then(function(e){r=e.filter(function(e){return!!e}),i()},function(e){t=e,i()}):i()},r.updateLocalMsg=function(e){var t,n=this.db,r=null;if(s.verifyOptions(e,"idClient","msg::updateLocalMsg"),this.processCallback(e),n.enable){var i=s.filterObj(e,"idClient localCustom");n.updateMsg(i).then(function(e){r=e,o()},function(e){t=e,o()})}else o();function o(){e.msg=r,e.done(t,e)}},r.deleteLocalMsg=function(e){var t;s.verifyOptions(e,"msg","msg::deleteLocalMsg");var n=e.msg;function r(){e.done(t,e)}s.verifyOptions(n,"idClient sessionId",!0,"msg.","msg::deleteLocalMsg"),this.processCallback(e),this.protocol.deleteLocalMsg(n).then(r,function(e){t=e,r()})},r.deleteLocalMsgsBySession=function(e){var t,n=this.db;function r(){e.done(t,e)}s.verifyOptions(e,"scene to","msg::deleteLocalMsgsBySession"),s.verifyParamValid("scene",e.scene,this.message.validScenes,"msg::deleteLocalMsgsBySession"),e.sessionId=e.scene+"-"+e.to,this.processCallback(e),n.enable?n.deleteMsgsBySessionId(e.sessionId).then(function(){r()},function(e){t=e,r()}):r()},r.deleteAllLocalMsgs=function(e){var t,n=this.db;function r(){e.done(t,e)}this.processCallback(e),n.enable&&n.deleteAllMsgs().then(function(){r()},function(e){t=e,r()})}},function(e,t,n){"use strict";var r=n(31).fn,a=n(0),s=a.undef,c=a.notundef;r.setCurrSession=function(e){this.resetSessionUnread(e),this.protocol.setCurrSession(e)},r.resetAllSessionUnread=function(){for(var e in this.protocol.sessionSet)0<this.protocol.sessionSet[e].unread&&this.resetSessionUnread(e)},r.resetSessionUnread=function(e){if(this.protocol.resetSessionUnread(e),this.options.syncSessionUnread){var t=this.protocol.findSession(e);if(t)if(t.lastMsg)if(t.scene&&t.to){var n=t.lastMsg.time;if(t&&t.ack&&t.ack>=n)this.logger.warn("api::resetSessionUnread: session ack not needs "+e);else{var r={scene:"p2p"===t.scene?0:1,to:t.to,timetag:n};this.sendCmd("markSessionAck",r)}}else this.logger.warn("api::resetSessionUnread: session.scene|to undefined "+e);else this.logger.warn("api::resetSessionUnread: session.lastMsg undefined "+e);else this.logger.warn("api::resetSessionUnread: session undefined "+e)}},r.resetCurrSession=function(){this.protocol.setCurrSession("")},r.insertLocalSession=function(e){var t,n;function r(){e.session=n,e.done(t,e)}a.verifyOptions(e,"scene to","scene::insertLocalSession"),a.verifyParamValid("scene",e.scene,this.message.validScenes,"scene::insertLocalSession"),this.processCallback(e),this.protocol.insertLocalSession(e).then(function(e){n=e,r()},function(e){t=e,r()})},r.getLocalSessions=function(e){var t,n=this,r=n.db,i=[];function o(){e.sessions=i,e.done(t,e)}a.verifyOptions(e),s(e.limit)&&(e.limit=100),a.verifyParamType("limit",e.limit,"number","scene::getLocalSessions"),a.verifyParamMax("limit",e.limit,100,"scene::getLocalSessions"),c(e.reverse)?a.verifyParamType("reverse",e.reverse,"boolean","scene::getLocalSessions"):e.reverse=!1,n.processCallback(e),r.enable?r.getSessions(e).then(function(e){i=e,n.protocol.mergeSessions(i),o()},function(e){t=e,o()}):o()},r.getLocalSession=function(e){var t,n=this.db,r=null;if(a.verifyOptions(e,"sessionId","scene::getLocalSession"),a.verifyParamType("sessionId",e.sessionId,"string","scene::getLocalSession"),n.enable)return this.processCallback(e),void n.getSession(e.sessionId).then(function(e){e&&(r=e),i()},function(e){t=e,i()});function i(){e.done(t,r)}this.protocol.sessionSet&&this.protocol.sessionSet[e.sessionId]&&(r=this.protocol.sessionSet[e.sessionId]),i()},r.updateLocalSession=function(e){var t,n=this,r=n.db;a.verifyOptions(e,"id","scene::updateLocalSession"),n.processCallback(e);var i=a.filterObj(e,"id localCustom");function o(){n.protocol.onUpdateSession(i),e.session=i,e.done(t,e)}r.enable?r.updateSession(i).then(function(e){i=e,o()},function(e){t=e,o()}):o()},r.deleteLocalSession=function(e){var t,n=this,r=n.db;function i(){e.done(t,e)}a.verifyOptions(e,"id","session::deleteLocalSession"),n.processCallback(e),r.enable?r.deleteSession(e.id).then(function(){n.protocol.deleteLocalSession(e.id),i()},function(e){t=e,i()}):i()},r.deleteSession=function(e){a.verifyOptions(e,"scene to","session::deleteSession"),this.processCallback(e),e.sessions=[{scene:e.scene,to:e.to}],this.deleteSessions(e)},r.deleteSessions=function(e){a.verifyOptions(e,"sessions","session::deleteSessions"),a.verifyParamType("sessions",e.sessions,"array","session::deleteSessions"),e.sessions.forEach(function(e,t){a.verifyOptions(e,"scene to",!0,"sessions["+t+"].","session::deleteSessions")}),this.processCallback(e),this.sendCmd("deleteSessions",{sessions:e.sessions.map(function(e){return e.scene+"|"+e.to})},e.callback)}},function(e,t,n){"use strict";var r=n(31).fn,a=n(0),i=a.undef,o=n(119),s=n(90);r.createTeam=function(e){a.verifyOptions(e,"type name","team::createTeam"),i(e.accounts)?e.accounts=[]:a.verifyParamType("accounts",e.accounts,"array","team::createTeam"),e.action="create",this.processPs(e),this.processCallback(e),e.team=new o(e);var t={team:e.team,accounts:e.accounts.slice(0),ps:e.ps};this.sendCmd("createTeam",t,e.callback)},r.updateTeam=function(e){a.verifyOptions(e,"teamId","team::updateTeam"),e.action="update",this.processCallback(e),e.team=new o(e),this.sendCmd("updateTeam",{team:e.team,single:!0},e.callback)},r.addTeamMembers=function(e){a.verifyOptions(e,"teamId accounts","team::addTeamMembers"),a.verifyParamType("accounts",e.accounts,"array","team::addTeamMembers"),this.processPs(e),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0),ps:e.ps};this.sendCmd("addTeamMembers",t,e.callback)},r.removeTeamMembers=function(e){a.verifyOptions(e,"teamId accounts","team::removeTeamMembers"),a.verifyParamType("accounts",e.accounts,"array","team::removeTeamMembers"),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0)};this.sendCmd("removeTeamMembers",t,e.callback)},r.acceptTeamInvite=function(e){a.verifyOptions(e,"idServer teamId from","team::acceptTeamInvite"),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from};this.sendCmd("acceptTeamInvite",t,e.callback)},r.rejectTeamInvite=function(e){a.verifyOptions(e,"idServer teamId from","team::rejectTeamInvite"),this.processPs(e),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from,ps:e.ps};this.sendCmd("rejectTeamInvite",t,e.callback)},r.applyTeam=function(e){a.verifyOptions(e,"teamId","team::applyTeam"),this.processPs(e),this.processCallback(e);var t={teamId:e.teamId,ps:e.ps};this.sendCmd("applyTeam",t,e.callback)},r.passTeamApply=function(e){a.verifyOptions(e,"idServer teamId from","team::passTeamApply"),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from};this.sendCmd("passTeamApply",t,e.callback)},r.rejectTeamApply=function(e){a.verifyOptions(e,"idServer teamId from","team::rejectTeamApply"),this.processPs(e),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from,ps:e.ps};this.sendCmd("rejectTeamApply",t,e.callback)},r.addTeamManagers=function(e){a.verifyOptions(e,"teamId accounts","team::addTeamManagers"),a.verifyParamType("accounts",e.accounts,"array","team::addTeamManagers"),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0)};this.sendCmd("addTeamManagers",t,e.callback)},r.removeTeamManagers=function(e){a.verifyOptions(e,"teamId accounts","team::removeTeamManagers"),a.verifyParamType("accounts",e.accounts,"array","team::removeTeamManagers"),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0)};this.sendCmd("removeTeamManagers",t,e.callback)},r.updateInfoInTeam=function(e){a.verifyOptions(e,"teamId","team::updateInfoInTeam"),this.processCallback(e),this.sendCmd("updateInfoInTeam",{teamMember:new s(e),single:!0},e.callback)},r.updateNickInTeam=function(e){a.verifyOptions(e,"teamId account","team::updateNickInTeam"),this.processCallback(e),this.sendCmd("updateNickInTeam",{teamMember:new s(e),single:!0},e.callback)},r.updateMuteStateInTeam=function(e){a.verifyOptions(e,"teamId account mute","team::updateMuteStateInTeam"),this.processCallback(e),e.mute=e.mute?1:0,this.sendCmd("updateMuteStateInTeam",e)},r.getMutedTeamMembers=function(e){a.verifyOptions(e,"teamId","team::getMutedTeamMembers"),this.processCallback(e),this.sendCmd("getMutedTeamMembers",e)},r.leaveTeam=function(e){a.verifyOptions(e,"teamId","team::leaveTeam"),this.processCallback(e);var t={teamId:e.teamId};this.sendCmd("leaveTeam",t,e.callback)},r.transferTeam=function(e){a.verifyOptions(e,"teamId account leave","team::transferTeam"),a.verifyParamType("leave",e.leave,"boolean","team::transferTeam"),this.processCallback(e);var t={teamId:e.teamId,account:e.account,leave:e.leave};this.sendCmd("transferTeam",t,e.callback)},r.dismissTeam=function(e){a.verifyOptions(e,"teamId","team::dismissTeam"),this.processCallback(e);var t={teamId:e.teamId};this.sendCmd("dismissTeam",t,e.callback)},r.getTeam=function(t){var n,r=this,e=r.db;function i(){r.sendCmd("getTeam",{teamId:t.teamId},t.callback)}a.verifyOptions(t,"teamId","team::getTeam"),r.processCallback(t),t.cbaop=function(e,t){e||r.logger.log("api::getTeam: cbaop "+n,t)},n=t.teamId,e.enable&&!t.sync?e.getTeam(n).then(function(e){e?(r.logger.log("api::getTeam: db.getTeam "+n,e),t.done(null,e)):i()},i):i()},r.getTeams=function(e){var t=this,n=t.db,r=0;function i(){t.sendCmd("getTeams",{timetag:r,NOTSTORE:"timetag"},e.callback)}a.verifyOptions(e),t.processCallback(e),n.enable?n.getTeamsTimetag().then(function(e){r=e,i()},i):i()},r.getTeamMembers=function(e){a.verifyOptions(e,"teamId","team::getTeamMembers"),this.processCallback(e),this.sendCmd("getTeamMembers",{teamId:e.teamId,timetag:0,NOTSTORE:"timetag"},e.callback)},r.getTeamMemberByTeamIdAndAccount=function(o){a.verifyParamType("teamId",o.teamId,"numeric or numeric string","team::getTeamMemberByTeamIdAndAccount"),a.verifyOptions(o,"account","team::getTeamMemberByTeamIdAndAccount"),this.processCallback(o),this.sendCmd("getTeamMembers",{teamId:o.teamId,timetag:0,NOTSTORE:"timetag"},function(e,t,n){var r={};if(t&&t.members&&t.members.length)for(var i=0;i<t.members.length;i++)if(t.members[i].account===o.account){r[o.account]=t.members[i];break}o.callback(e,r,n)})},r.notifyForNewTeamMsg=function(t){a.verifyOptions(t,"teamIds","team::notifyForNewTeamMsg"),this.protocol.notifyForNewTeamMsg(t.teamIds).then(function(e){t.done(null,e)},function(e){t.done(e)})},r.getMyTeamMembers=function(e){a.verifyOptions(e,"teamIds","team::getMyTeamMembers");var t=this.processCallbackPromise(e);return this.sendCmd("getMyTeamMembers",e),t},r.getLocalTeams=function(e){var t,n=this.db,r=[];function i(){e.teams=r,e.done(t,e)}a.verifyOptions(e,"teamIds","team::getLocalTeams"),a.verifyParamType("teamIds",e.teamIds,"array","team::getLocalTeams"),this.processCallback(e),n.enable?n.getTeamsByTeamIds(e.teamIds).then(function(e){r=e.filter(function(e){return!!e}),i()},function(e){t=e,i()}):i()},r.getLocalTeamMembers=function(e){var t,n=this.db,r=[];function i(){e.members=r,e.done(t,e)}a.verifyOptions(e,"teamId accounts","team::getLocalTeamMembers"),a.verifyParamType("accounts",e.accounts,"array","team::getLocalTeamMembers"),this.processCallback(e),n.enable?n.getInvalidTeamMembers(e.teamId,e.accounts).then(function(e){r=e.filter(function(e){return!!e}),i()},function(e){t=e,i()}):i()},r.deleteLocalTeam=function(e){var t,n=this.db;function r(){e.done(t,e)}a.verifyOptions(e,"teamId","team::deleteLocalTeam"),this.processCallback(e),n.enable?n.deleteTeam(e.teamId).then(function(){r()},function(e){t=e,r()}):r()},r.muteTeamAll=function(e){switch(a.verifyOptions(e,"teamId type","team::muteTeamAll"),e.type){case"none":e.muteType=0;break;case"normal":e.muteType=1;break;case"all":e.muteType=2;break;default:e.muteType=1}this.processCallback(e),this.sendCmd("muteTeamAll",e)},r.sendTeamMsgReceipt=function(e){a.verifyOptions(e,"teamMsgReceipts","team::sendTeamMsgReceipt"),this.processCallback(e),this.sendCmd("sendTeamMsgReceipt",e)},r.getTeamMsgReads=function(e){a.verifyOptions(e,"teamMsgReceipts","team::getTeamMsgReads"),this.processCallback(e),this.sendCmd("getTeamMsgReads",e)},r.getTeamMsgReadAccounts=function(e){a.verifyOptions(e,"teamMsgReceipt","team::getTeamMsgReadAccounts"),this.processCallback(e),this.sendCmd("getTeamMsgReadAccounts",e)}},function(e,t,n){"use strict";n(31).fn.getRobots=function(e){(e=e||{}).type="getRobots",this.processCallback(e),this.sendCmd("sync",{sync:{robots:0}},e.callback)}},function(e,t,n){"use strict";var r=n(31).fn,o=n(0),i=o.notundef,a=n(239);r.friendRequest=function(e){o.verifyOptions(e,"type account","friend::friendRequest"),o.verifyParamValid("type",e.type,a.validTypes(),"friend::friendRequest"),this.processPs(e),this.processCallback(e);var t={account:e.account,type:a.getByteFromType(e.type),ps:e.ps};i(e.idServer)&&(t.idServer=e.idServer),this.sendCmd("friendRequest",t,e.callback)},r.addFriend=function(e){e.type="addFriend",this.friendRequest(e)},r.applyFriend=function(e){e.type="applyFriend",this.friendRequest(e)},r.passFriendApply=function(e){o.verifyOptions(e,"idServer","friend::passFriendApply"),e.type="passFriendApply",this.friendRequest(e)},r.rejectFriendApply=function(e){o.verifyOptions(e,"idServer","friend::rejectFriendApply"),e.type="rejectFriendApply",this.friendRequest(e)},r.deleteFriend=function(e){o.verifyOptions(e,"account","friend::deleteFriend"),this.processCallback(e),this.sendCmd("deleteFriend",{account:e.account},e.callback)},r.updateFriend=function(e){this.processCallback(e);var t=new a(e);this.sendCmd("updateFriend",{friend:t,single:!0},e.callback)},r.getFriends=function(e){var t=this,n=t.db,r=0;function i(){t.sendCmd("getFriends",{timetag:r,NOTSTORE:"timetag"},e.callback)}o.verifyOptions(e),t.processCallback(e),n.enable?n.getFriendsTimetag().then(function(e){r=e,i()},i):i()}},function(e,t,n){"use strict";var r=n(31).fn,c=n(0),u=c.objs2accounts,i=n(131);r.updateMyInfo=function(e){c.verifyOptions(e),this.processCallback(e),e.user=new i(e),delete e.user.account,this.sendCmd("updateMyInfo",{user:e.user,single:!0},e.callback)},r.getMyInfo=function(e){return(e=e||{}).account=this.account,this.getUser(e)},r.getUser=function(t){var n,r=this,e=r.db;function i(){r.sendCmd("getUsers",{accounts:[n],single:!0},t.callback)}c.verifyOptions(t,"account","user::getUser"),r.processCallback(t),t.cbaop=function(e,t){if(!e)return t=t[0]||null,r.logger.log("api::getUser: cbaop "+n,t),t},n=t.account,t.sync?i():e.enable?e.getUser(n).then(function(e){e?(r.logger.log("api::getUser: db.getUser "+n,e),t.done(null,e)):i()},i):i()},r.getUsers=function(r){var i,o=this,e=o.db,a=[];function s(){o.sendCmd("getUsers",{accounts:i,single:!0},r.callback)}c.verifyOptions(r,"accounts","user::getUsers"),c.verifyParamType("accounts",r.accounts,"array","user::getUsers"),o.processCallback(r),r.cbaop=function(e,t){if(!e)return t=t.concat(a),o.logger.log("api::getUsers: cbaop "+i,t),t},i=c.deduplicate(r.accounts),c.verifyArrayMax("accounts",r.accounts,150,"user::getUsers"),r.sync?s():e.enable?e.getUsers(i).then(function(e){if(e&&e.length===i.length)o.logger.log("api::getUsers: db.getUsers",e),r.done(null,e);else{var t=u(a=e),n=[];i.forEach(function(e){-1===t.indexOf(e)&&n.push(e)}),i=n,s()}},s):s()}},function(e,t,n){"use strict";var r=n(31).fn,o=n(0);r.markInBlacklist=function(e){o.verifyOptions(e,"account isAdd","relation::markInBlacklist"),o.verifyParamType("isAdd",e.isAdd,"boolean","relation::markInBlacklist"),this.processCallback(e),this.sendCmd("markInBlacklist",{account:e.account,isAdd:e.isAdd},e.callback)},r.addToBlacklist=function(e){return e.isAdd=!0,this.markInBlacklist(e)},r.removeFromBlacklist=function(e){return e.isAdd=!1,this.markInBlacklist(e)},r.markInMutelist=function(e){o.verifyOptions(e,"account","relation::markInMutelist"),o.verifyParamType("isAdd",e.isAdd,"boolean","relation::markInMutelist"),this.processCallback(e),this.sendCmd("markInMutelist",{account:e.account,isAdd:e.isAdd},e.callback)},r.addToMutelist=function(e){return e.isAdd=!0,this.markInMutelist(e)},r.removeFromMutelist=function(e){return e.isAdd=!1,this.markInMutelist(e)},r.getRelations=function(e){var t=this,n=t.db,r=0;function i(){t.sendCmd("getRelations",{timetag:r,NOTSTORE:"timetag"},e.callback)}e=o.verifyOptions(e),t.processCallback(e),n.enable?n.getRelationsTimetag().then(function(e){r=e,i()},i):i()}},function(e,t,n){"use strict";var r=n(31).fn,i=n(0);r.kick=function(e){i.verifyOptions(e,"deviceIds","link::kick"),this.processCallback(e),this.sendCmd("kick",{deviceIds:e.deviceIds.slice(0)},e.callback)}},function(e,t,n){"use strict";var r=n(31).fn,i=n(0),o=i.isArray,a=n(90);r.mergeObjArray=function(e,t,n){return e||(e=[]),t?(o(t)||(t=[t]),t.length?(n=n||{},i.mergeObjArray(e,t,n)):e):e},r.cutObjArray=function(e,t,n){return e&&t?(o(t)||(t=[t]),t.length?(n=n||{},i.cutObjArray(e,t,n)):e):e},r.mergeLoginPorts=function(e,t){return this.mergeObjArray(e,t,{keyPath:"deviceId"})},r.cutLoginPorts=function(e,t){return this.cutObjArray(e,t,{keyPath:"deviceId",sortPath:"type"})},r.mergeRelations=function(e,t){return this.mergeObjArray(e,t,{keyPath:"account"})},r.cutRelations=function(e,t){return this.cutObjArray(e,t,{keyPath:"account"})},r.findRelation=function(e,t){return i.findObjInArray(e,{keyPath:"account",value:t})},r.mergeFriends=function(e,t){return this.mergeObjArray(e,t,{keyPath:"account"})},r.cutFriends=function(e,t){return this.cutObjArray(e,t,{keyPath:"account"})},r.cutFriendsByAccounts=function(e,t){o(t)||(t=[t]);var n=t.map(function(e){return{account:e}});return this.cutFriends(e,n)},r.findFriend=function(e,t){return i.findObjInArray(e,{keyPath:"account",value:t})},r.mergeUsers=function(e,t){return this.mergeObjArray(e,t,{keyPath:"account"})},r.findUser=function(e,t){return i.findObjInArray(e,{keyPath:"account",value:t})},r.mergeTeams=function(e,t){return this.mergeObjArray(e,t,{keyPath:"teamId"})},r.cutTeams=function(e,t){return this.cutObjArray(e,t,{keyPath:"teamId"})},r.findTeam=function(e,t){return i.findObjInArray(e,{keyPath:"teamId",value:t})},r.assembleTeamOwner=a.assembleOwner,r.assembleTeamMembers=a.assembleMembers,r.genTeamMemberId=a.genId,r.mergeTeamMembers=function(e,t){return this.mergeObjArray(e,t)},r.cutTeamMembers=function(e,t){return this.cutObjArray(e,t)},r.cutTeamMembersByAccounts=function(e,t,n){o(n)||(n=[n]);var r=a.assembleMembers({teamId:t},n);return this.cutTeamMembers(e,r)},r.findTeamMember=function(e,t){return i.findObjInArray(e,{keyPath:"id",value:t})},r.mergeSessions=function(e,t){return this.mergeObjArray(e,t,{sortPath:"updateTime",desc:!0})},r.cutSessions=function(e,t){return this.cutObjArray(e,t)},r.cutSessionsByIds=function(e,t){o(t)||(t=[t]);var n=t.map(function(e){return{id:e}});return this.cutSessions(e,n)},r.findSession=function(e,t){return i.findObjInArray(e,{keyPath:"id",value:t})},r.mergeMsgs=function(e,t){return this.mergeObjArray(e,t,{keyPath:"idClient",sortPath:"time"})},r.cutMsgs=function(e,t){return this.cutObjArray(e,t,{keyPath:"idClient"})},r.cutMsgsByIdClients=function(e,t){o(t)||(t=[t]);var n=t.map(function(e){return{idClient:e}});return this.cutMsgs(e,n)},r.findMsg=function(e,t){return i.findObjInArray(e,{keyPath:"idClient",value:t})},r.mergeSysMsgs=function(e,t){return this.mergeObjArray(e,t,{keyPath:"idServer",desc:!0})},r.cutSysMsgs=function(e,t){return this.cutObjArray(e,t,{keyPath:"idServer"})},r.cutSysMsgsByIdServers=function(e,t){o(t)||(t=[t]);var n=t.map(function(e){return{idServer:e}});return this.cutSysMsgs(e,n)},r.findSysMsg=function(e,t){return i.findObjInArray(e,{keyPath:"idServer",value:t})}},function(e,t,n){"use strict";var i=n(72),o=n(0),r={welcome:"00",text:"01",link:"03"},a={"01":"text","02":"image","03":"answer",11:"template"};function s(e){o.verifyOptions(e,"content","msg::RobotMessage"),o.undef(e.robotAccid)&&(e.robotAccid=e.to);var t=e.content;switch(t.type){case"welcome":o.undef(e.body)&&(this.body="欢迎消息");break;case"text":o.verifyOptions(t,"content","msg::RobotMessage"),o.undef(e.body)&&(this.body=t.content);break;case"link":o.verifyOptions(t,"target","msg::RobotMessage")}t.type&&(t.type=r[t.type]),t={param:t,robotAccid:e.robotAccid},this.attach=JSON.stringify(t),e.type="robot",i.call(this,e)}s.prototype=Object.create(i.prototype),s.reverse=function(e){var t=i.reverse(e);if("robot"===t.type){var n=JSON.parse(e.attach);if(n.param&&(n.param.type=a[n.param.type]||"unknown"),n.robotMsg){var r=(n=o.merge(n,n.robotMsg)).message;"bot"===n.flag?n.message=r.map(function(e){return e.type=a[e.type]||"unknown",e}):n.flag,delete n.robotMsg}t.content=n}return t},e.exports=s},function(e,t,n){"use strict";var r=n(72),i=n(0);function o(e){i.verifyOptions(e,"tip","msg::TipMessage"),e.type="tip",r.call(this,e),this.body=e.tip}o.prototype=Object.create(r.prototype),o.reverse=function(e){var t=r.reverse(e);return t.text="",t.tip=e.body,e.attach&&(t.attach=e.attach),t},e.exports=o},function(e,t,n){"use strict";var r=n(72),i=n(0);function o(e){i.verifyOptions(e,"content","msg::CustomMessage"),e.type="custom",r.call(this,e),this.attach=e.content}o.prototype=Object.create(r.prototype),o.reverse=function(e){var t=r.reverse(e);return t.content=e.attach,t},e.exports=o},function(e,t,n){"use strict";var i=n(0).notundef,o=n(72),a=n(84).getInstance("IM"),s=n(119),c=n(131),u={0:"addTeamMembers",1:"removeTeamMembers",2:"leaveTeam",3:"updateTeam",4:"dismissTeam",5:"passTeamApply",6:"transferTeam",7:"addTeamManagers",8:"removeTeamManagers",9:"acceptTeamInvite",10:"updateTeamMute",101:"netcallMiss",102:"netcallBill"};function r(){}r.prototype=Object.create(o.prototype),r.reverse=function(e){var t=o.reverse(e);if(e.attach=e.attach?""+e.attach:"",e.attach){var n=JSON.parse(e.attach);if(t.attach={type:u[n.id]||n.id},i(n.data)){var r=n.data;i(r.tinfo)&&(t.attach.team=s.reverse(a.unserialize(r.tinfo,"team"),!0)),i(r.ids)&&(t.attach.accounts=r.ids),i(r.id)&&(t.attach.account=r.id),i(r.uinfos)&&(t.attach.users=r.uinfos.map(function(e){return c.reverse(a.unserialize(e,"user"))})),i(r.mute)&&(t.attach.mute=1==+r.mute),i(r.attach)&&(t.attach.custom=r.attach),i(r.channel)&&(t.attach.channelId=r.channel),i(r.calltype)&&(t.attach.netcallType=r.calltype),i(r.duration)&&(t.attach.duration=r.duration),i(r.time)&&(t.attach.time=r.time),t.attach.accounts&&t.attach.accounts.length<=2&&t.from===t.to&&t.attach.accounts.some(function(e){if(e!==t.to)return t.to=e,!0})}}else t.attach={};return t},e.exports=r},function(e,t,n){"use strict";var r=n(72),i=n(0);function o(e){e.type="geo",i.verifyOptions(e,"geo","msg::GeoMessage"),i.verifyOptions(e.geo,"lng lat title",!0,"geo.","msg::GeoMessage"),i.verifyParamType("geo.lng",e.geo.lng,"number","msg::GeoMessage"),i.verifyParamType("geo.lat",e.geo.lat,"number","msg::GeoMessage"),i.verifyParamType("geo.title",e.geo.title,"string","msg::GeoMessage"),r.call(this,e),this.attach=JSON.stringify(e.geo)}o.prototype=Object.create(r.prototype),o.reverse=function(e){var t=r.reverse(e);return e.attach=e.attach?""+e.attach:"",t.geo=e.attach?JSON.parse(e.attach):{},t},e.exports=o},function(e,t,n){"use strict";var r=n(130),i=n(0);function o(){}o.prototype=Object.create(r.prototype),o.verifyFile=function(e,t){i.verifyOptions(e,"dur w h",!0,"file.",t)},e.exports=o},function(e,t,n){"use strict";var r=n(130),i=n(0);function o(){}o.prototype=Object.create(r.prototype),o.verifyFile=function(e,t){i.verifyOptions(e,"dur",!0,"file.",t)},e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(130);function o(){}o.prototype=Object.create(i.prototype),o.verifyFile=function(e,t){r.verifyOptions(e,"w h",!0,"file.",t)},e.exports=o},function(e,t,n){"use strict";var r=n(72),i=n(0);function o(e){i.verifyOptions(e,"text","msg::TextMessage"),e.type="text",r.call(this,e)}o.prototype=Object.create(r.prototype),o.reverse=function(e){return r.reverse(e)},e.exports=o},function(e,t,n){"use strict";var o=n(0),r=function(e){this.account=e.account},i=r.prototype,a=i.Message=n(72),s=i.TextMessage=n(432),c=i.FileMessage=n(130),u=i.GeoMessage=n(428),l=i.NotificationMessage=n(427),f=i.CustomMessage=n(426),d=i.TipMessage=n(425),p=i.RobotMessage=n(424);i.validScenes=a.validScenes,i.validTypes=a.validTypes,i.reverse=function(e){var t;switch(a.getType(e)){case"text":t=s.reverse(e);break;case"image":case"audio":case"video":case"file":t=c.reverse(e);break;case"geo":t=u.reverse(e);break;case"notification":t=l.reverse(e);break;case"custom":t=f.reverse(e);break;case"tip":t=d.reverse(e);break;case"robot":t=p.reverse(e);break;default:t=a.reverse(e)}return a.setExtra(t,this.account),t},i.reverseMsgs=function(e,t){var n,r,i=this;return e.map(function(e){return e=i.reverse(e),t&&((n=t.modifyObj)&&(e=o.merge(e,n)),r=t.mapper,o.isFunction(r)&&(e=r(e))),e})},e.exports=r},function(e,t,n){"use strict";var r,i=(r=n(53))&&r.__esModule?r:{default:r},o=n(24).fn,a=n(0),s=i.default.clientTypeMap;function c(e){e=e||{};var t=a.copy(e);return t.clientType&&(t.clientType=s[t.clientType]||""),t.serverCustom&&(t.custom=JSON.parse(t.serverCustom),"string"==typeof t.custom[0]&&(t.custom=t.custom[0]),delete t.serverCustom),t}o.processEventService=function(e){var t=e.content,n=e.error,r=this.options||{};switch(n&&(n.callFunc="events::processEventService",this.onCustomError("事件服务解包失败","EVENT_SERVICE_ERROR",n)),e.cmd){case"pushEvent":if(a.isFunction(r.onpushevents)){var i={msgEvents:[c(t.msgEvent)]};r.onpushevents(i)}break;case"pushEvents":if(a.isFunction(r.onpushevents)){var o=t.msgEvents;o={msgEvents:o.map(function(e){return c(e)})},r.onpushevents(o)}}}},function(e,t,n){"use strict";n(24).fn.processFilter=function(e){switch(e.cmd){case"sendFilterMsg":this.onSendMsg(e,!0);break;case"filterMsg":this.onMsg(e,!0);break;case"filterSysMsg":this.onSysMsg(e,!0);break;case"sendFilterCustomSysMsg":this.onSendSysMsg(e,!0)}}},function(e,t,n){"use strict";var r=n(24).fn;r.processChatroom=function(e){switch(e.cmd){case"getChatroomAddress":this.onChatroomAddress(e)}},r.onChatroomAddress=function(e){e.error||(e.obj.address=e.content.address)}},function(e,t,n){"use strict";var r=n(24).fn;r.syncSessionAck=function(e){var o=this,a=o.db,s=Promise.resolve();[[e.content.p2p,"p2p"],[e.content.team.m_map,"team"]].forEach(function(e){var r=e[0],i=e[1];Object.keys(r).forEach(function(e){var t=i+"-"+e,n={id:t,ack:r[e]};a.enable&&(s=s.then(function(){return a.putSession(n)}).then(function(){o.markUnreadBySessionAck({sessionId:t,ack:r[e]})})),o.mergeSession(n)})}),o.logger.warn("session::syncSessionAck: parse offline session ack",o.sessionSet);var t=e.content.timetag;a.enable&&(s=s.then(function(){return o.db.updateSessionAck(t)}).catch(function(e){return o.logger.error("sessionAck::syncSessionAck: ",e),Promise.reject(e)})),s.cmd="sessionAck",o.syncPromiseArray.push(s)},r.onMarkSessionAck=function(e){e.error||this.storeSessionAck(e.obj)},r.syncMarkSessionAck=function(e){this.storeSessionAck(e.content)},r.storeSessionAck=function(e){if(this.options.syncSessionUnread){var t=this.db,n=(0===e.scene?"p2p":"team")+"-"+e.to,r=e.timetag;if(r<=((this.findSession(n)||{}).ack||0))this.logger.warn("session::storeSessionAck: ack <= ackInMemory",r);else{var i={id:n,ack:r};this.mergeSession(i),t.enable&&t.updateSession(i),this.logger.info("session::storeSessionAck:",i),this.markUnreadBySessionAck({sessionId:n,ack:i.ack})}}},r.markUnreadBySessionAck=function(e){var n=e.sessionId,t=e.ack,r=this,i=r.db;if(i.enable)r.pushMsgTask(function(){return i.getMsgCountAfterAck({shouldCountNotifyUnread:r.options.shouldCountNotifyUnread,sessionId:n,ack:t}).then(function(e){var t={id:n,unread:e};return r.logger.log("session::markUnreadBySessionAck: db.getMsgCountAfterAck done"),r.syncing&&r.cacheSyncedSession(t),r.onUpdateSession(t),i.updateSession(t)})});else{var o=r.findSession(n);if(o){var a=o.unreadMsgs;if(a&&a.length){for(var s=0,c=[],u=a.length-1;0<=u;u--){var l=a[u];if(!(l.time>t))break;s++,c.push(l)}o.unreadMsgs=c,o.unread=s,r.logger.info("session::markUnreadBySessionAck: unread "+s),r.onUpdateSession(o)}}}}},function(e,t,n){"use strict";var r=n(24).fn,m=n(0),g=n(116),v=n(25);r.mergeSession=function(e){e=m.copyWithNull(e);var t=this.sessionSet,n=e.id,r=t[n];if(r&&r.lastMsg&&e&&e.lastMsg&&e.lastMsg.isLocal){var i=r.lastMsg.time||0;if((e.lastMsg.time||0)<i)return r}return t[n]=m.merge(r,e),e=t[n],m.undef(e.unread)&&(e.unread=0),e},r.mergeSessions=function(e){var t=this;e.forEach(function(e){t.mergeSession(e)})},r.deleteLocalSession=function(e){var t=this;m.isArray(e)||(e=[e]),e.forEach(function(e){delete t.sessionSet[e]})},r.onDeleteSessions=function(e){e.obj=e.obj.sessions.map(function(e){return g.parse(e)})},r.onUpdateSession=function(t){var n=this;return new Promise(function(e){t?(t=n.mergeSession(t),t=m.simpleClone(t),g.trim(t),g.isComplete(t)&&(n.logger.info("session::onUpdateSession:",t.id,m.simpleClone(t)),n.options.onupdatesession(t),e(t))):e(t)})},r.setCurrSession=function(e){e=""+e,this.currSessionId=e,this.logger.info("session::setCurrSession:",e)},r.findSession=function(e){return this.sessionSet[e]},r.resetSessionUnread=function(e){e=""+e;var t,n=this,r=n.db;if(n.findSession(e)){if(r.enable&&r.resetSessionUnread(e),!n.options.autoMarkRead&&n.sessionUnreadMsgs&&n.sessionUnreadMsgs[e]){var i=n.sessionUnreadMsgs[e];n.markMsgRead(i,!0),n.sessionUnreadMsgs[e]=[]}t={id:e,unread:0},n.onUpdateSession(t)}else n.logger.warn("session::resetSessionUnread: no session "+e)},r.insertLocalSession=function(f){var d=this,p=d.db,h=d.sessionSet;return new Promise(function(n,r){var i=f.scene,o=f.to,a=i+"-"+o,s=d.findSession(a);if(s)r(v.sessionExist({callFunc:"session::insertLocalSession",session:s}));else{var c;if(m.isNumber(f.updateTime))c=f.updateTime;else{var e,t=[];for(var u in h)h.hasOwnProperty(u)&&(e=h[u],m.isNumber(e.updateTime)&&t.push(e.updateTime));c=Math.max.apply(Math,t)+1,c=Math.max(c,+new Date)}var l=Promise.resolve();p.enable&&(l=p.getMsgs({sessionId:a,limit:1})),l.then(function(e){if(m.isArray(e)&&1===e.length){var t=e[0];(s=g.genSessionByMsg(t)).updateTime=c}else s={id:a,scene:i,to:o,updateTime:c,lastMsg:null};p.enable?p.putSession(s).then(n,r):n(s),d.onUpdateSession(s)})}})},r.updateLocalSession=function(o,a){var s=this;return new Promise(function(e,t){var n=s.db;if(s.findSession(o.id)){var r=Promise.resolve(),i=m.filterObj(o,"id lastMsg localCustom");n.enable&&(r=n.updateSession(i)),r.then(function(e){return s.onUpdateSession(e,a)}).then(e,function(e){t({callFunc:"session::updateLocalSession",event:e})})}else t(v.sessionNotExist({sessionId:o.id,callFunc:"session::updateLocalSession"}))})}},function(e,t,n){"use strict";var r=n(24).fn,s=n(0),c=n(117);r.splitSysMsgs=function(e,t){for(var n,r=e.length-1;0<=r;r--)n=e[r],c.isCustom(n)&&(e.splice(r,1),t.push(n))},r.onOfflineSysMsgs=function(e,t){var n=this,r=e.content.sysMsgs.map(function(e){return e=c.reverse(e),t&&(e.filter=!0),e});r=r.reverse(),n.markSysMsgRead(r);var i=[];n.splitSysMsgs(r,i);var o=t?"offlineFilterSysMsgs":"offlineSysMsgs",a=t?"offlineFilterCustomSysMsgs":"offlineCustomSysMsgs";if(r.length){var s=n.putSysMsg(r,"offlineSysMsgs").then(function(e){(r=e).length&&(n.logger.info("sysmsg::onOfflineSysMsgs: ",o,r.length,r),n.syncResult[o]=n.syncResult[o]||[],n.syncResult[o]=n.syncResult[o].concat(r))}).catch(function(e){return n.logger.error("sysMsg::onOfflineSysMsgs: ",e),Promise.reject(e)});s.cmd="sysMsgs",n.syncPromiseArray.push(s)}i.length&&(n.logger.info("sysmsg::onOfflineSysMsgs: ",a,i),n.syncResult[a]=n.syncResult[a]||[],n.syncResult[a]=n.syncResult[a].concat(i))},r.onSendSysMsg=function(e,t){var n=e.obj;this.completeSysMsg(n),e.error?n.status="fail":n.status="success",n=c.reverse(n),t&&(e.obj.filter=!0),e.obj=n},r.completeSysMsg=function(e){return e.from=this.account,e},r.onSysMsg=function(e,t){var n=c.reverse(e.content.sysMsg);this.markSysMsgRead(n),t&&(n.filter=!0),c.isCustom(n)?(this.logger.info("sysmsg::onSysMsg: on customSysMsg",n),this.options.oncustomsysmsg(n)):this.syncing?this.unhandledSysMsgs.push(n):this.handleSysMsg(n)},r.handleSysMsg=function(n){var r=this,i=n.type,o=n.from;r.sysMsgPromise=r.sysMsgPromise.then(function(){return r.putSysMsg(n,"onSysMsg")}).then(function(e){n=e[0]}).then(function(){if(n){var e,t=Promise.resolve();switch(i){case"addFriend":e={type:"addFriend",account:o},t=r.onFriendRequest(e);break;case"passFriendApply":e={type:"passFriendApply",account:o},t=r.onFriendRequest(e);break;case"deleteFriend":t=r.onDeleteFriend({account:o})}return e&&e.friend&&(n.friend=e.friend),t}}).then(function(){n&&(r.logger.info("sysmsg::handleSysMsg: ",i,n),setTimeout(function(){r.options.onsysmsg(n)},0))})},r.putSysMsg=function(n,t){if(s.isArray(n)||(n=[n]),n[0].filter)return Promise.resolve(n);var r=this,e=r.db,i=e.enable,o=Promise.resolve(),a=[];return(o=(o=o.then(function(){return i?e.putSysMsg(n):n}).then(function(e){var t=[];n.forEach(function(e){r.checkSysMsgUnique(e)&&t.push(e)}),n=t,a=i?e:n})).then(function(){return r.getSysMsgUnread().then(function(e){return a.length||((a=n).backward=!0),r.updateSysMsgUnread(a,e,1).then(function(e){"offlineSysMsgs"===t&&(r.syncResult.sysMsgUnread=e),"onSysMsg"===t&&r.onUpdateSysMsgUnread(e)})})})).then(function(){return n})},r.checkSysMsgUnique=s.genCheckUniqueFunc("idServer"),r.getSysMsgUnread=function(){var e=this,n=e.db;return new Promise(function(t){n.enable?n.getSysMsgUnread().then(function(e){t(e)},function(){t(e.sysMsgUnread)}):t(e.sysMsgUnread)})},r.updateSysMsgUnread=function(e,t,n){if(s.isArray(e)||(e=[e]),!e.length)return Promise.resolve(t);t=t||{};var r,i=this.db;return e.forEach(function(e){(0<n&&!e.read||n<0&&e.read)&&(r=e.type,t[r]=(t[r]||0)+n)}),t=c.completeUnread(t),this.sysMsgUnread=t,i.enable&&!e.backward?i.updateSysMsgUnread(t):Promise.resolve(t)},r.reduceSysMsgUnread=function(t){var n=this;return n.getSysMsgUnread().then(function(e){return n.updateSysMsgUnread(t,e,-1)}).then(function(e){n.onUpdateSysMsgUnread(e)})},r.onUpdateSysMsgUnread=function(e){var t=this;setTimeout(function(){t.logger.info("sysmsg::onUpdateSysMsgUnread:",e),t.options.onupdatesysmsgunread(e)},0)},r.updateSysMsg=function(e){var t=this,n=t.db;(n.enable?n.updateSysMsg(e):Promise.resolve(e)).then(function(e){t.onUpdateSysMsg(e)})},r.onUpdateSysMsg=function(e){var t=this;setTimeout(function(){s.isArray(e)||(e=[e]),e.forEach(function(e){t.logger.info("sysmsg::onUpdateSysMsg:",e),t.options.onupdatesysmsg(e)})},0)},r.processUnsettledSysMsgs=function(){var t=this;t.unhandledSysMsgs.forEach(function(e){t.handleSysMsg(e)}),t.resetUnsettledSysMsgs()}},function(e,t,n){"use strict";var r=n(24).fn,a=n(117),s=n(116),c=n(0);r.onDeleteMsg=function(e){var n=this.db;delete e.obj.sysMsg,e.error||(e.promise=this.deleteLocalMsg(e.obj.msg).then(function(){var t=e.obj.msg;n.enable&&n.getTimetag("deleteMsg").then(function(e){e=e||0,t.time>=e&&n.updateDeleteMsgTimetag((new Date).getTime())})}))},r.onMsgDeleted=function(e){if(!e.error){var t=this,n=t.db,r=a.reverse(e.content.sysMsg);r=t.processDeleteMsgSysMsg(r),t.markSysMsgRead(r),t.deleteLocalMsg(r.msg).then(function(){n.enable&&n.updateDeleteMsgTimetag(r.time+1),t.handleSysMsg(r)})}},r.processDeleteMsgSysMsg=function(t){return t.msg={},["scene","from","to"].forEach(function(e){t.msg[e]=t[e]}),t.msg.idClient=t.deletedIdClient,t.msg.idServer=t.deletedIdServer,t.msg.time=t.deletedMsgTime,t.msg.fromNick=t.deletedMsgFromNick,t.opeAccount=t.opeAccount||t.from,t.msg.opeAccount=t.opeAccount,this.message.Message.setExtra(t.msg,this.account),t},r.onDeleteMsgOfflineRoaming=function(e){if(!e.error){var t=this,n=1==+e.content.type?"offline":"roaming",r=a.reverseSysMsgs(e.content.sysMsgs,{mapper:function(e){return t.processDeleteMsgSysMsg(e)}});t.logger.info("msg::onDeleteMsgOfflineRoaming: on delete "+n,r),"offline"===n&&t.markSysMsgRead(r);var i=e.content.timetag;t.timetags.deleteMsg=i,t.syncResult.deleteMsgTimetag=i;var o=t.putSysMsg(r,"offlineSysMsgs").catch(function(e){return t.logger.error("msgDelete::onDeleteMsgOfflineRoaming: ",e),Promise.reject(e)});o.cmd="deleteMsgSysMsgs "+n,t.syncPromiseArray.push(o),t.syncResult.deleteMsgSysMsgs=t.syncResult.deleteMsgSysMsgs||[],t.syncResult.deleteMsgSysMsgs.push({type:n,sysMsgs:r})}},r.deleteMsgOfflineRoaming=function(e,n){if(!e)return Promise.resolve();var r=this;r.logger.info("msg::deleteMsgOfflineRoaming: ",e,n);var i=r.db,o=[];return e.forEach(function(e){e.sysMsgs.forEach(function(e){var t=r.deleteLocalMsg(e.msg,{cbUpdateSession:function(e){e=r.mergeSession(e),e=c.simpleClone(e),s.trim(e);var t=c.findObjIndexInArray(n,{value:e.id});if(-1!==t&&(n[t]=c.merge({},n[t],e)),i.enable)return i.updateSession(e)}});o.push(t)})}),Promise.all(o).then(function(){if(i.enable)return i.updateDeleteMsgTimetag(r.syncResult.deleteMsgTimetag)})},r.deleteLocalMsg=function(t,e){var n=this.db,r=(e=e||{}).cbUpdateSession||this.updateLocalSession.bind(this);if(n.enable&&t){var i=!1,o=null,a=t.sessionId;return n.getMsgs({sessionId:a,limit:1}).then(function(e){e&&e[0]&&e[0].idClient===t.idClient&&(i=!0)}).then(function(){return n.deleteMsg(t.idClient)}).then(function(){if(i)return n.getMsgs({sessionId:a,limit:1})}).then(function(e){if(i)return e&&e[0]&&(o=e[0]),r({id:a,lastMsg:o})})}return Promise.resolve()}},function(e,t,n){"use strict";var r=n(24).fn,i=n(0);r.onOfflineMsgReceipts=function(e){var t,a=this,s=a.db,n=e.content.msgReceipts,c=a.syncResult.msgReceipts=[],u=[],l="msgReceipts",f=a.syncResult.sessions||{};n.forEach(function(r){r.time=+r.time;var i=r.sessionId="p2p-"+r.from;l+="-"+i,t=Promise.resolve();var o=f[i];s.enable?t=s.getSession(i).then(function(e){if((e=e||o)&&a.shouldUpdateSessionFromMsgReceipt(e,r)){var t=a.genSessionFromMsgReceipt(e,r),n=a.syncResult.sessions;return n&&n[i]&&(n=n[i]).lastMsg&&t.lastMsg&&n.lastMsg.time>t.lastMsg.time&&(t.lastMsg=n.lastMsg),s.putSession(t).then(function(e){e&&a.cacheSyncedSession(e)})}}).catch(function(e){return a.logger.error("msgReceipt::onOfflineMsgReceipt: ",e),Promise.reject(e)}):o&&c.push(r),u.push(t)}),(t=Promise.all(u).then(function(){if(s.enable)return s.updateMsgReceiptsTimetag(e.content.timetag)})).cmd=l,a.syncPromiseArray.push(t)},r.mergeSessionAndMsgReceipts=function(r,e){var i=this,o={};return e=e||[],(r=r||[]).forEach(function(e){o[e.id]=e}),e.forEach(function(e){var t=o[e.sessionId];if(i.shouldUpdateSessionFromMsgReceipt(t,e)){var n=i.genSessionFromMsgReceipt(t,e);r=i.api.mergeSessions(r,n)}}),r},r.shouldUpdateSessionFromMsgReceipt=function(e,t){return!e||!e.msgReceiptServerTime||t.time>e.msgReceiptServerTime},r.genSessionFromMsgReceipt=function(e,t){var n=t.time,r={id:t.sessionId,msgReceiptTime:n,msgReceiptServerTime:n};return e&&e.id===t.sessionId&&(r=i.merge({},e,r)),e&&e.updateTime||(r.updateTime=n),r},r.onMsgReceipt=function(e){var n=this,t=n.db,r=e.content.msgReceipt;r.time=+r.time;var i=r.idClient,o=Promise.resolve();t.enable&&i&&(o=t.getMsgByIdClient(i)),o.then(function(e){var t;if(e){if(!e.idServer)return void(n.msgReceiptTasks[i]=r);t=e.time}else t=r.time;r.msgReceiptTime=t,n.updateSessionMsgReceiptTime(r)})},r.resolveMsgReceiptTask=function(e){var t=this.msgReceiptTasks[e.idClient];t&&(t.msgReceiptTime=e.time,this.updateSessionMsgReceiptTime(t))},r.updateSessionMsgReceiptTime=function(e){var t=this.db,n={id:"p2p-"+e.from,msgReceiptTime:e.msgReceiptTime,msgReceiptServerTime:e.time};t.enable&&t.putSession(n),this.onUpdateSession(n)},r.onSendMsgReceipt=function(e){if(!e.error){var t=e.obj.msgReceipt,n=+t.time,r=+e.content.msgReceipt.time;this.sessionSet["p2p-"+t.to].msgReceiptSendTime=Math.min(n,r)}},r.shouldSendMsgReceipt=function(e){if(e&&"p2p"===e.scene&&"success"===e.status){var t=this.sessionSet[e.sessionId];if(t){var n=t.msgReceiptSendTime;return!n||n<e.time}}return!1},r.isMsgRemoteRead=function(e){if(e&&"p2p"===e.scene&&"out"===e.flow&&"success"===e.status){var t=this.sessionSet[e.sessionId];if(t&&t.msgReceiptTime)return e.time<=t.msgReceiptTime}return!1}},function(e,t,n){"use strict";var r=n(24).fn,v=n(0),y=v.undef,i=n(53),f=n(90),c=n(116),o=n(170);r.processMsg=function(e){switch(e.cmd){case"sendMsg":this.onSendMsg(e);break;case"msg":this.onMsg(e);break;case"sysMsg":this.onSysMsg(e);break;case"broadcastMsg":this.onBroadcastMsg(e);break;case"sendCustomSysMsg":this.onSendSysMsg(e);break;case"getHistoryMsgs":case"searchHistoryMsgs":this.onHistoryMsgs(e);break;case"syncSendMsg":this.onMsg(e);break;case"deleteSessions":this.onDeleteSessions(e);break;case"sendMsgReceipt":this.onSendMsgReceipt(e);break;case"msgReceipt":this.onMsgReceipt(e);break;case"onDeleteMsg":this.onDeleteMsg(e);break;case"onMsgDeleted":this.onMsgDeleted(e);break;case"onDeleteMsgOfflineRoaming":this.onDeleteMsgOfflineRoaming(e);break;case"onMarkSessionAck":this.onMarkSessionAck(e);break;case"syncMarkSessionAck":this.syncMarkSessionAck(e)}},r.checkIgnore=function(e){var t=this;e.forEach(function(e){"notification"===e.type&&!e.ignore&&t.options.shouldIgnoreNotification(e)&&(e.ignore=!0)})},r.filterIgnore=function(e){return e.filter(function(e){return!e.ignore})},r.genSessionByMsgs=function(e){return this.checkIgnore(e),c.genSessionByMsgs(this.message.Message,e)},r.onRoamingMsgs=function(e){var t=this,n=t.message,r=n.Message,i=r.getMaxTimetag,o=n.reverseMsgs(e.content.msgs),a=i(o);o=r.sortMsgs(o);var s=(o=r.deduplication(o))[0],c=s.sessionId,u=t.genSessionByMsgs(o);t.cacheSyncedSession(u);var l=t.putMsg(o,"roamingMsgs").then(function(e){o=e,(o=t.filterIgnore(o)).length&&(t.logger.info("msg::onRoamingMsgs: putRoamingMsgs",c,o.length,o),t.syncResult.roamingMsgs=t.syncResult.roamingMsgs||[],t.syncResult.roamingMsgs.push({sessionId:c,scene:s.scene,to:s.target,msgs:o,timetag:a}))}).catch(function(e){return t.logger.error("msg::onRoamingMsgs: ",e),Promise.reject(e)});l.cmd="roamingMsgs-"+c,t.syncPromiseArray.push(l)},r.onOfflineMsgs=function(e,t){var o=this,n=o.message,a=n.Message,r=null;t&&(r={filter:!0});var i,s,c=n.reverseMsgs(e.content.msgs,{modifyObj:r}),u=[],l="",f=t?"offlineFilterMsgs":"offlineMsgs";function d(t){if(u.length){var n=a.getMaxTimetag(u),r=u[0].scene,i=u[0].target;o.markMsgRead(u),u=a.sortMsgs(u),u=a.deduplication(u);var e=o.genSessionByMsgs(u);o.cacheSyncedSession(e),(s=o.putMsg(u,"offlineMsgs").then(function(e){u=e,(u=o.filterIgnore(u)).length&&(o.logger.info("msg::onOfflineMsgs： toreLastSession",f,t,u.length,u),o.syncResult[f]=o.syncResult[f]||[],o.syncResult[f].push({sessionId:t,scene:r,to:i,msgs:u,timetag:n}))}).catch(function(e){return o.logger.error("msg::onOfflineMsgs: ",e),Promise.reject(e)})).cmd="offlineMsgs-"+t,o.syncPromiseArray.push(s)}}c.forEach(function(e){(i=e.sessionId)!==l?(d(l),(u=[]).push(e),l=i):u.push(e)}),d(l)},r.markUnreadByMsgsPromise=function(t){var n=this,e=n.db;e.enable&&e.getSession(t).then(function(e){e.ack&&n.markUnreadBySessionAck({sessionId:t,ack:e.ack})})},r.completeMsg=function(e){return e.from=this.account,e.fromNick=this.myInfo&&this.myInfo.nick,e.fromClientType="Web",e.fromDeviceId=i.deviceId,e.time||(e.time=+new Date),e},r.onMsgs=function(e){var t=this;t.message.reverseMsgs(e.content.msgs,{mapper:function(e){t.handleMsg(e)}})},r.onMsg=function(e,t){var n=this.message.reverse(e.content.msg);t&&(n.filter=!0),this.syncing?(this.logger.log("msg::onMsg:is in syncing ..."),this.unhandledMsgs.push({type:"onMsg",msg:n})):this.handleMsg(n)},r.onBroadcastMsgs=function(e){var t=e.content.broadcastMsgs;t=t.sort(function(e,t){return e.broadcastId-t.broadcastId}),this.putBroadcastMsgs(t)},r.onBroadcastMsg=function(e){var t=e.content.broadcastMsg;t.time=t.timestamp,this.syncing?this.unhandledMsgs.push({type:"onBroadcastMsg",msg:t}):t&&this.putBroadcastMsg(t)},r.pushMsgTask=function(e){this.msgPromise=this.msgPromise.then(function(){return e()})},r.handleMsg=function(t){var n=this,r=t.time;n.markMsgRead(t),n.msgPromise=n.msgPromise.then(function(){return n.putMsg(t,"onMsg")}).then(function(e){return n.logger.log("msg::handleMsg:putMsg: ",t),t=e[0],n.updateRoamingMsgTimetag(r)}).then(function(){if(n.logger.log("msg::handleMsg:updateRoamingMsgTimetag: ",r,t),t)return n.checkUserUpdate(t)}).then(function(){if(t){var e=t.type;switch(n.logger.log("msg::handleMsg:checkUserUpdate: "+t.scene+" "+e+" msg"+("notification"===e?" "+t.attach.type:""),t),e){case"notification":return n.onTeamNotificationMsg(t)}}}).then(function(){t&&!t.ignore&&(n.logger.info("msg::handleMsg:onmsg: ",t),setTimeout(function(){n.options.onmsg(v.copy(t))},0))}).then(void 0,function(e){e.callFunc="msg::handleMsg",n.onCustomError("消息处理错误",e)})},r.putMsg=function(n,r){if(v.isArray(n)||(n=[n]),n[0].filter)return Promise.resolve(n);var c=this,u=c.db,l=u.enable,e=Promise.resolve(),t=c.message.Message.getLastMsg(n),f=t.flow,d=t.sessionId!==c.currSessionId,p=c.genSessionByMsgs(n);g(p);var h=!1,m=[];function g(e){"roamingMsgs"!==r&&"offlineMsgs"!==r||c.cacheSyncedSession(e)}return c.checkIgnore(n),c.logger.log("start"),e=(e=(e=e.then(function(){return l||c.options.autoMarkRead||"roamingMsgs"===r||!p||(c.sessionUnreadMsgs=c.sessionUnreadMsgs||{},c.sessionUnreadMsgs[p.id]=c.sessionUnreadMsgs[p.id]||[],c.sessionUnreadMsgs[p.id]=c.sessionUnreadMsgs[p.id].concat(n.filter(function(e){return c.options.shouldCountNotifyUnread(e)}))),l&&"roamingMsgs"!==r&&"offlineMsgs"!==r?(c.logger.log("msg::putMsg:db.putMsg: ",p),u.putMsg(n)):n}).then(function(e){var t=[];return n.forEach(function(e){c.checkMsgUnique(e)&&t.push(e)}),n=t,m=l?e:n,Promise.resolve(n)})).then(function(r){return r.length&&(g(p=c.genSessionByMsgs(r)),l&&p)?new Promise(function(n,e){u.getSessions({sessionId:p.id}).then(function(e){if(e&&e.lastMsg){var t=e.lastMsg;p.lastMsg&&p.lastMsg.time<t.time&&(p.lastMsg=t)}c.logger.log("msg::putMsg:db.getSessions: ",p),m.length?p?u.putSession(p).then(function(e){n(e)}):n(e):(h=!0,m=r,n(e))})}):Promise.resolve(p)})).then(function(e){if(p&&m.length){var t="roamingMsgs"===r,i=c.options.syncSessionUnread,n=p.id,o=c.findSession(n)||{},a=o.ack||0;if("offlineMsgs"===r||t&&i||"onMsg"===r&&"in"===f&&d){l&&e?(p=e,a=a||p.ack||0):(e=o)&&(p.unread=e.unread||0),g(p),p.unread=p.unread||0;var s=0;if(m.forEach(function(e){var t=c.options.shouldCountNotifyUnread(e),n=("notification"!==e.type||"notification"===e.type&&t)&&(y(e.isUnreadable)||e.isUnreadable);if(n&&i&&(n=e.time>a&&"out"!==e.flow),n&&(s++,i&&!l)){var r=o.unreadMsgs||[];r.push(e),p.unreadMsgs=r}}),console.log(p),p.unread+=s,c.logger.log("msg::putMsg:updateSession: ",p),g(p),l&&!h)return u.updateSession({id:p.id,unread:p.unread})}}}),"onMsg"===r?e=e.then(function(){n.length&&p&&(c.onUpdateSession(p),c.options.syncSessionUnread&&!d&&c.api.resetSessionUnread(c.currSessionId))}):"sendMsg"===r&&!d&&p&&p.lastMsg&&p.lastMsg.isLocal&&(c.onUpdateSession(p),c.api.resetSessionUnread(c.currSessionId)),e.then(function(){return Promise.resolve(n)})},r.putBroadcastMsgs=function(e){var t=this,n=t.db,r=e.length;if(0<r){if(t.doMarkBroadcastMsgsRead(e),n.enable){var i=e[r-1].broadcastId;return n.updateBroadcastMsgTimetag(i),n.putBroadcastMsg(e).then(function(){return setTimeout(function(){t.doMarkMsgsRead(),t.options.onbroadcastmsgs(v.copy(e))},0),Promise.resolve(e)})}setTimeout(function(){t.options.onbroadcastmsgs(v.copy(e))},0)}return e},r.putBroadcastMsg=function(e){var t=this,n=t.db;return t.doMarkBroadcastMsgsRead([e]),n.enable?(e.broadcastId&&n.updateBroadcastMsgTimetag(e.broadcastId),n.putBroadcastMsg(e).then(function(){return setTimeout(function(){t.options.onbroadcastmsg(v.copy(e))},0),Promise.resolve(e)})):(setTimeout(function(){t.options.onbroadcastmsg(v.copy(e))},0),e)},r.doMarkBroadcastMsgsRead=function(e){e=e.map(function(e){return e.broadcastId}),this.sendCmd("batchMarkRead",{sid:7,cid:17,ids:e})},r.cacheSyncedSession=function(e){if(e&&this.syncResult){e=v.merge({},e),this.syncResult.sessions=this.syncResult.sessions||{};var t=e.id;this.syncResult.sessions[t]=v.merge(this.syncResult.sessions[t],e),y(this.syncResult.sessions[t].unread)&&(this.syncResult.sessions[t].unread=0),this.mergeSession(this.syncResult.sessions[t])}},r.checkMsgUnique=v.genCheckUniqueFunc("idClient"),r.storeSendMsg=function(e){if(!this.syncing){var t=this.putMsg(e,"sendMsg");return this.msgPromise=this.msgPromise.then(function(){return t}),t}this.unhandledMsgs.push({type:"sendMsg",msg:e})},r.updateSendMsgError=function(e){if(!this.syncing){var t=this.updateMsg(e);return this.msgPromise=this.msgPromise.then(function(){return t}),t}this.unupdatedMsgs.push(e)},r.onSendMsg=function(t,n){var r=this,i=t.obj&&t.obj.msg||t.content.msg;if(t.obj)o();else{var e=r.db;e&&e.enable&&e.getMsgByIdClient(i.idClient).then(function(e){e&&(i=e,o())},function(e){o()})}function o(){r.completeMsg(i);var e=t.error&&7101===t.error.code;t.error&&!e||(i.idServer=t.content.msg.idServer,i.time=+t.content.msg.time),t.error?i.status="fail":i.status="success",i=r.message.reverse(i),n&&(i.filter=!0),t.obj=i,r.syncing?r.unupdatedMsgs.push(i):r.msgPromise=Promise.all([r.msgPromise,t.obj.promise]).then(function(e){return e.length||(i.resend=!0),r.updateMsg(i).then(function(){return r.options.syncSessionUnread&&r.currSessionId===i.sessionId&&r.api.resetSessionUnread(r.currSessionId),r.resolveMsgReceiptTask(i),i})})}},r.updateLocalMsg=function(e){var t=this.updateMsg(e);return this.msgPromise=this.msgPromise.then(function(){return t}),t},r.updateMsg=function(e){if(e.filter)return Promise.resolve(e);var r=this,i=r.db,o="success"===e.status,a=c.genSessionByMsg(e),s=!!e.isLocal;return i.enable?i.updateMsg(e).then(function(e){var t=i.updateSession(a),n=Promise.resolve();return o&&e&&!s&&(n=i.updateRoamingMsgTimetag(e.time)),r.onUpdateSession(a),Promise.all([t,n])}):(o&&!s&&(r.timetags.roamingMsgs=e.time),r.onUpdateSession(a),Promise.resolve(e))},r.updateRoamingMsgTimetag=function(e){var t=this.db;return t.enable?t.updateRoamingMsgTimetag(e):(this.timetags.roamingMsgs=e,Promise.resolve(e))},r.checkUserUpdate=function(o){var a=this,s=o.from;return s===a.account?Promise.resolve():new Promise(function(n){var e=a.userSet[s];if(e){var t=+e.updateTime,r=+o.userUpdateTime;!isNaN(t)&&!isNaN(r)&&v.isNumber(t)&&v.isNumber(r)&&t<r?i():n()}else i();function i(){a.api.getUser({account:s,sync:!0,done:function(e,t){e||setTimeout(function(){a.logger.log("user::checkUserUpdate: onupdateuser",t.account,t),a.options.onupdateuser(t)},0),n()}})}})},r.processUnsettledMsgs=function(){var n=this;n.unhandledMsgs.forEach(function(e){var t=e.msg;switch(e.type){case"onMsg":n.handleMsg(t);break;case"sendMsg":n.msgPromise=n.msgPromise.then(function(){return n.putMsg(t)});break;case"onBroadcastMsg":n.msgPromise=n.msgPromise.then(function(){return n.putBroadcastMsg(t)})}}),n.unupdatedMsgs.forEach(function(e){n.msgPromise=n.msgPromise.then(function(){return n.updateMsg(e)})}),n.resetUnsettledMsgs()},r.onTeamNotificationMsg=function(e){this.db;var t=e.attach,n=t.type,r=e.from,i=e.to,o=e.time,a=t.team,s=t.account,c=t.accounts;switch(n){case"updateTeam":return a.updateTime=o,this.onUpdateTeam(a);case"addTeamMembers":return this.onAddTeamMembers(e,a,c);case"removeTeamMembers":return this.onRemoveTeamMembers(a,i,c);case"acceptTeamInvite":return this.onAddTeamMembers(e,a,[r]);case"passTeamApply":return this.onAddTeamMembers(e,a,[s]);case"addTeamManagers":return this.updateTeamManagers(e,i,c,!0,o);case"removeTeamManagers":return this.updateTeamManagers(e,i,c,!1,o);case"leaveTeam":return this.onRemoveTeamMembers(a,i,[r]);case"dismissTeam":return this.onDismissTeam(i,o);case"transferTeam":return this.transferTeam(e,a,r,s);case"updateTeamMute":return this.onUpdateTeamMembersMute(e,a,[s],t.mute)}},r.onAddTeamMembers=function(e,t,n){var r=this,i=r.db,o=t.teamId,a=f.assembleMembers(t,n),s={team:t,accounts:n,members:e.attach.members=a};if(r.logger.info("team::onAddTeamMembers: ",s),r.options.onAddTeamMembers(v.simpleClone(s)),i.enable){var c,u=i.putTeam(t);return-1===n.indexOf(r.account)?c=i.putTeamMembers(a):(r.logger.warn("team::onAddTeamMembers: user join team",o),u=new Promise(function(e){r.api.getTeamMembers({teamId:o,sync:!0,done:function(){e()}})})),Promise.all([c,u])}},r.onRemoveTeamMembers=function(e,t,n){var r=this.db,i={team:e,accounts:n};if(this.logger.info("team::onRemoveTeamMembers:",i),this.options.onRemoveTeamMembers(v.simpleClone(i)),r.enable){if(-1!==n.indexOf(this.account))return r.leaveTeam(t);var o=r.removeTeamMembersByAccounts(t,n),a=Promise.resolve();return e&&(a=r.putTeam(e)),Promise.all([o,a])}},r.updateTeamManagers=function(e,t,n,r,i){var o=this.db,a=e.attach.members=n.map(function(e){return{id:f.genId(t,e),type:r?"manager":"normal",updateTime:i}}),s={teamId:""+t,memberUpdateTime:i},c={team:e.attach.team=s,accounts:n,isManager:r,members:a};if(this.logger.info("team::updateTeamManagers:",c),this.options.onUpdateTeamManagers(v.simpleClone(c)),o.enable){var u=o.updateTeam(s),l=o.updateTeamManagers(t,n,r,i);return Promise.all([u,l])}},r.onDismissTeam=function(e,t){var n=this.db,r={teamId:e};if(this.logger.info("team::onDismissTeam:",r),this.options.onDismissTeam(r),n.enable)return n.dismissTeam(e,t)},r.transferTeam=function(e,t,n,r){var i=this.db,o=t.teamId,a=t.memberUpdateTime,s={id:f.genId(o,n),type:"normal",updateTime:a},c={id:f.genId(o,r),type:"owner",updateTime:a};e.attach.members=[s,c];var u={team:t,from:s,to:c};if(this.logger.info("team::transferTeam:",u),this.options.onTransferTeam(v.simpleClone(u)),i.enable)return i.transferTeam(t,n,r)},r.onUpdateTeamMembersMute=function(e,t,n,r){var i=this.db,o=n.map(function(e){return{id:f.genId(t.teamId,e),account:e,teamId:t.teamId,mute:r,updateTime:t.memberUpdateTime}});e.attach.members=o;var a={team:t,accounts:n,members:o,mute:r};if(this.logger.info("team::onUpdateTeamMembersMute:",a),this.options.onUpdateTeamMembersMute(v.simpleClone(a)),i.enable){var s=i.updateTeamMembers(o),c=i.putTeam(t);return Promise.all([s,c])}},r.onHistoryMsgs=function(e){e.error||(e.obj.msgs=this.message.reverseMsgs(e.content.msgs))},r.isFilterMsgs=function(e){return!!e[0].filter},r.splitMsgs=function(e,t,n,r){e.forEach(function(e){if(e.filter)r.push(e);else switch(e.scene){case"p2p":t.push(e);break;case"team":n.push(e)}})},r.markMsgRead=function(e,t){if(v.isArray(e)||(e=[e]),this.db.enable||this.options.autoMarkRead||t){var n=[],r=[],i=[];this.splitMsgs(e,n,r,i),this.markP2pMsgsRead(n),this.markTeamMsgsRead(r),this.markFilterMsgsRead(i)}},r.markP2pMsgsRead=function(e){if(e.length){var t=o.idMap.msg.id,n=o.idMap.msg.msg;this.doMarkMsgsRead(t,n,e)}},r.markTeamMsgsRead=function(e){if(e.length){var t=o.idMap.team.id,n=o.idMap.team.teamMsg;this.doMarkMsgsRead(t,n,e)}},r.markFilterMsgsRead=function(e){if(e.length){var t=o.idMap.filter.id,n=o.idMap.filter.filterMsg;this.doMarkMsgsRead(t,n,e)}},r.markSysMsgRead=function(e,t){var n,r;v.isArray(e)||(e=[e]),(this.db.enable||this.options.autoMarkRead||t)&&(r=this.isFilterMsgs(e)?(n=o.idMap.filter.id,o.idMap.filter.filterSysMsg):(n=o.idMap.msg.id,o.idMap.msg.sysMsg),this.doMarkMsgsRead(n,r,e))},r.doMarkMsgsRead=function(e,t,n){n&&n.length&&this.sendCmd("batchMarkRead",{sid:e,cid:t,ids:n.map(function(e){return e.idServer})})}},function(e,t,n){"use strict";var r=n(24).fn,i=n(0),s=n(171);r.processNotify=function(e){switch(e.cmd){case"syncOfflineMsgs":this.onOfflineMsgs(e);break;case"batchMarkRead":break;case"syncOfflineSysMsgs":this.onOfflineSysMsgs(e);break;case"syncRoamingMsgs":this.onRoamingMsgs(e);break;case"syncOfflineFilterMsgs":this.onOfflineMsgs(e,!0);break;case"syncOfflineFilterSysMsgs":this.onOfflineSysMsgs(e,!0);break;case"syncMsgReceipts":this.onOfflineMsgReceipts(e);break;case"syncDonnop":this.onDonnop(e,!0);break;case"syncSessionAck":this.syncSessionAck(e);break;case"syncRobots":this.onRobots(e);break;case"syncBroadcastMsgs":this.onBroadcastMsgs(e)}},r.onDonnop=function(e,t){if(!e.error){var n=this,r=n.db,i=s.reverse(e.content.donnop);n.mergeDonnop(i);var o=n.dbDonnop();if(t){var a=e.content.timetag;n.timetags.donnop=a,r.enable&&(o=o.then(function(){return n.db.updateDonnopTimetag(a)}).catch(function(e){return n.logger.error("notify::onDonnop: ",e),Promise.reject(e)})),o.cmd="donnop",n.syncPromiseArray.push(o)}else n.onPushNotificationMultiportConfigUpdate()}},r.onUpdateDonnop=function(e){if(!e.error){var t=e.obj;t&&(this.mergeDonnop(i.filterObj(t,["shouldPushNotificationWhenPCOnline"])),this.dbDonnop(),this.onPushNotificationMultiportConfigUpdate())}},r.getPushNotificationMultiportConfig=function(){return i.merge({},this.pushNotificationMultiportConfig)},r.mergeDonnop=function(e){this.pushNotificationMultiportConfig=i.merge({},this.pushNotificationMultiportConfig,e)},r.dbDonnop=function(){return this.db.enable?this.db.setDonnop(this.pushNotificationMultiportConfig):Promise.resolve()},r.onPushNotificationMultiportConfigUpdate=function(){var t=this;setTimeout(function(){var e=t.getPushNotificationMultiportConfig();t.logger.info("link::onPushNotificationMultiportConfigUpdate:",e),t.options.onPushNotificationMultiportConfigUpdate(e)})}},function(e,t,n){"use strict";var r=n(24).fn,a=n(0),f=a.objs2accounts,h=a.teams2ids,m=n(119),d=n(90);r.processTeam=function(e){var t=e.error,n=void 0,r=void 0,i=void 0;switch(e.cmd){case"createTeam":if(n=e.obj.team,t||(n=e.content.team),n=m.reverse(n),e.obj.team=n,i=d.assembleOwner(n),e.obj.owner=i,!t){var o={team:n,owner:i};this.logger.info("team::processTeam: create team",o),this.onCreateTeam(n,i)}break;case"syncCreateTeam":n=m.reverse(e.content.team),i=d.assembleOwner(n),this.logger.info("team::processTeam: sync createTeam",n,i),this.options.onsynccreateteam(n,i),this.onCreateTeam(n,i);break;case"sendTeamMsg":this.onSendMsg(e);break;case"teamMsg":this.onMsg(e);break;case"teamMsgs":this.onMsgs(e);break;case"addTeamMembers":case"removeTeamMembers":case"leaveTeam":case"dismissTeam":case"addTeamManagers":case"removeTeamManagers":case"transferTeam":break;case"updateInfoInTeam":t||((r=e.obj).account=this.account,r.id=d.genId(r.teamId,r.account),r=d.reverse(r),e.obj=r,this.mergeMyTeamMembers(r),this.onUpdateTeamMember(r));break;case"updateNickInTeam":e.obj=d.reverse(e.obj);break;case"updateTeam":e.obj=m.reverse(e.obj,!0);break;case"applyTeam":e.error||(e.obj=m.reverse(e.content.team));break;case"passTeamApply":this.updateTeamSysMsgState(e,"passed");break;case"rejectTeamApply":this.updateTeamSysMsgState(e,"rejected");break;case"acceptTeamInvite":this.updateTeamSysMsgState(e,"passed"),e.error||(e.obj=m.reverse(e.content.team));break;case"rejectTeamInvite":this.updateTeamSysMsgState(e,"rejected");break;case"getTeam":e.error||(e.obj=m.reverse(e.content.team));break;case"getTeams":this.onTeams(e);break;case"getTeamMembers":this.onTeamMembers(e);break;case"syncTeams":this.onTeams(e);break;case"syncTeamMembers":this.onTeamMembers(e);break;case"getTeamHistoryMsgs":case"searchTeamHistoryMsgs":this.onHistoryMsgs(e);break;case"syncSendTeamMsg":this.onMsg(e);break;case"notifyTeamMsgReads":this.onTeamMsgReceipt(e);break;case"syncUpdateTeamMember":r=d.reverse(e.content.teamMember),this.onUpdateTeamMember(r),r.account===this.account&&this.mergeMyTeamMembers(r);break;case"updateMuteStateInTeam":break;case"getMyTeamMembers":e.error||(e.obj=d.reverseMembers(e.content.teamMembers));break;case"getMutedTeamMembers":e.error||(e.obj={teamId:e.obj.teamId,members:d.reverseMembers(e.content.teamMembers)});break;case"syncMyTeamMembers":this.onSyncMyTeamMembers(e)}},r.onCreateTeam=function(e,t){var n=this.db;n.enable&&(n.putTeam(e),n.putTeamMembers(t)),this.options.onCreateTeam(e,t)},r.onTeams=function(n){n.content=n.content||{};var o,a=this,s=a.db,c=a.packetFromSync(n),u=n.content.teams||[],l=!0,f=[],d=[];if(n.error)switch(n.error.code){case 803:n.error=null,l=!1}var e=new Promise(function(e,t){var r,i;n.error?c&&t(n.error):(l&&u.forEach(function(e){(e=m.reverse(e)).validToCurrentUser?f.push(e):d.push(e)}),a.logger.info("team::onTeams: parseData",h(f),f,"invalid",h(d),d),u.length?(l=!0,o=n.content.timetag):l=!1,s.enable?(r=e,i=t,n.promise=new Promise(function(t,n){function e(){c?(p(),t(),r()):s.getTeams().then(function(e){f=e,p(),t(),r()}).then(void 0,function(e){e.message="db.getTeams error",e.callFunc="team::afterMergeData",n(e),i(e)})}l?s.mergeTeams(f,d,o).then(function(){e()}).then(void 0,function(e){var t={callFunc:"team::onTeams:mergeData",message:"db.mergeTeams error",event:e};n(t),i(t)}):(a.logger.warn("team::onTeams:mergeData: no teams need merge"),e())}).then(void 0,function(e){throw e.message="merge teams data error",e.callFunc="team::mergeData",i(e),e})):(p(),e()))}).catch(function(e){return a.logger.error("team::onTeams: ",e),Promise.reject(e)});function p(){a.timetags.teams=o,f.invalid=d,c?(a.syncResult.teams=f,a.syncResult.invalidTeams=d):(a.logger.info("team::onTeams: not in syncing, get teams",h(f),f),n.obj=f)}c&&(e.cmd="teams",a.syncPromiseArray.push(e))},r.onTeamMembers=function(n){n.content=n.content||{};var r,i,o=this,a=(o.db,o.packetFromSync(n)),s=n.content.members||[],c=!0,u=[],l=[];if(n.obj&&(i=n.obj.teamId),i||(i=n.content.teamId),i=""+i,n.error)switch(n.error.code){case 406:n.error=null,c=!1}var e=new Promise(function(e,t){n.error?a&&(o.logger.error("team::onTeamMember: team error:",i,n.error),t({callFunc:"team::onTeamMembers",event:n.error,message:"teamId-"+i+" 获取群成员错误"})):(c&&s.forEach(function(e){(e=d.reverse(e)).valid?u.push(e):l.push(e)}),o.logger.warn("team::onTeamMembers: parseData",i,f(u),u,"invalid",f(l),l),s.length?(c=!0,r=n.content.timetag):c=!1,u.invalid=l,a?(o.syncTeamMembersResult[i]=u,o.syncTeamMembersResult[i+"-invalid"]=l,o.timetags["team-"+i]=r):(o.logger.info("team::onTeamMembers: not syncing, get members",i,f(u),u),n.obj={teamId:i,members:u}),e())});a&&(e.cmd=i,o.syncTeamMembersPromiseArray.push(e))},r.onUpdateTeamMember=function(e){e.updateTime||(e.updateTime=+new Date),this.logger.info("team::onUpdateTeamMember: ",e),this.options.onupdateteammember(a.simpleClone(e));var t={teamId:e.teamId,memberUpdateTime:e.updateTime};this.onUpdateTeam(t);var n=this.db;n.enable&&n.updateTeamMember(e)},r.onUpdateTeam=function(e){this.logger.info("team::onUpdateTeam:",e),this.options.onUpdateTeam(a.simpleClone(e));var t=this.db;t.enable&&t.updateTeam(e)},r.onSyncMyTeamMembers=function(e){var t=this,n=t.db,r=d.reverseMembers(e.content.teamMembers);if(t.logger.info("team::onSyncMyTeamMembers:",r),n.enable){var i=n.putTeamMembers(r).then(function(){return n.updateMyTeamMembersTimetag(e.content.timetag)}).catch(function(e){return t.logger.error("team::syncMyTeamMember: ",e),Promise.reject(e)});i.cmd="myTeamMembers",t.syncTeamMembersPromiseArray.push(i)}t.mergeMyTeamMembers(r)},r.mergeMyTeamMembers=function(e){a.isArray(e)||(e=[e]);var n=this.myTeamMembersMap=this.myTeamMembersMap||{};e.forEach(function(e){var t=e.teamId;n[t]=a.merge(n[t],e)}),this.logger.info("team::mergeMyTeamMembers:",n)},r.notifyForNewTeamMsg=function(e){a.isArray(e)||(e=[e]);var t=this,n=this.myTeamMembersMap||{},r={},i=[];e.forEach(function(e){a.exist(n[e])?r[e]=n[e].muteNotiType:i.push(e)});var o=Promise.resolve(r);return i.length&&(o=t.api.getMyTeamMembers({teamIds:i,promise:!0}).then(function(e){return t.mergeMyTeamMembers(e),e.forEach(function(e){r[e.teamId]=e.muteNotiType}),r})),o},r.updateTeamSysMsgState=function(e,t){var n,r=e.error;r&&(t="error",r=a.filterObj(r,"code message")),n={idServer:e.obj.idServer,state:t},r&&(n.error=r),this.updateSysMsg(n)},r.onTeamMsgReceipt=function(e){var t=e.content,n=e.error;n&&this.logger.error("team::onTeamMsgReceipt:",n),t&&t.teamMsgReceipts&&this.options.onTeamMsgReceipt(t)}},function(e,t,n){"use strict";var r=n(24).fn,i=n(0);r.onRobots=function(e){var t=e.content;if(i.isFunction(this.options.onrobots)&&Array.isArray(t.robots)){var n=t.robots.filter(function(e){return!!e.botid});0<n.length&&this.options.onrobots(n||[])}}},function(e,t,n){"use strict";var r=n(24).fn,a=n(0),m=a.objs2accounts,g=n(239),s=n(131);r.processFriend=function(e){var t=e.obj,n=e.content,r=e.error;switch(e.cmd){case"friendRequest":this.updateFriendSysMsg(e),r||this.onFriendRequest(t);break;case"syncFriendRequest":this.onFriendRequest(n,!0);break;case"deleteFriend":r||this.onDeleteFriend(t);break;case"syncDeleteFriend":this.onDeleteFriend(n,!0);break;case"updateFriend":r||this.onUpdateFriend(t);break;case"syncUpdateFriend":this.onUpdateFriend(n.friend,!0);break;case"getFriends":case"syncFriends":this.onFriends(e);break;case"syncFriendUsers":this.onFriendUsers(e)}},r.onFriends=function(n){var o,a=this,s=a.db,c=n.error,u=a.packetFromSync(n),l=n.content.friends,f=!0,d=[],p=[],e=new Promise(function(e,t){var r,i;c?u&&t(c):(f&&l.forEach(function(e){(e=g.reverse(e)).valid?d.push(e):p.push(e)}),a.logger.info("friend::onFriends: parse friends",m(d),d,"delete",m(p),p),l.length?(f=!0,o=n.content.timetag):f=!1,s.enable?(r=e,i=t,n.promise=new Promise(function(t,n){function e(){u?(h(),t(),r()):s.getFriends().then(function(e){d=e,h(),t(),r()}).then(void 0,function(e){e._msg="get friends error",n(e),i(e)})}f?s.mergeFriends(d,p,o).then(function(){e()}).then(void 0,function(e){e._msg="merge friends error",n(e),i(e)}):(a.logger.info("friend::onFriends: no merge friends"),e())}).then(void 0,function(e){throw e._msg="merge friends data error",i(e),e})):(h(),e()))}).catch(function(e){return a.logger.error("friend::onFriends: ",e),Promise.reject(e)});function h(){a.timetags.friends=o,d.invalid=p,u?(a.syncResult.friends=d,a.syncResult.invalidFriends=p):(a.logger.info("friend::onFriends: get friends bingo",m(d),d),n.obj=d)}u&&(e.cmd="friends",a.syncPromiseArray.push(e))},r.onFriendRequest=function(e,t){var n=Promise.resolve(),r=this.db,i=e.type;if("addFriend"===(i=e.type=g.getTypeFromByte(i)||i)||"passFriendApply"===i){var o=e.friend=g.assembleFriend(e.account);r.enable&&(n=r.putFriend(o))}return t&&this.onSyncFriendAction(e),n},r.onSyncFriendAction=function(e){this.logger.info("friend::onSyncFriendActionon:",e),this.options.onsyncfriendaction(e)},r.onDeleteFriend=function(e,t){var n=Promise.resolve(),r=this.db;return r.enable&&(n=r.deleteFriend(e.account)),t&&(e.type="deleteFriend",this.onSyncFriendAction(e)),n},r.onUpdateFriend=function(e,t){var n=this.db,r=g.reverse(e);n.enable&&n.updateFriend(r),t&&this.onSyncFriendAction({type:"updateFriend",friend:r})},r.onFriendUsers=function(e){var t=this.db,n=e.content,r=n.users.map(function(e){return s.reverse(e)});this.logger.warn("friend::onFriendUsers: parse users",m(r),r);var i=n.timetag,o=Promise.resolve();t.enable&&(o=t.mergeFriendUsers(r,i)),this.timetags.friendUsers=i,o.cmd="friendUsers",this.syncPromiseArray.push(o),this.syncResult.users=r},r.updateFriendSysMsg=function(e){var t,n,r=e.obj,i=e.error;if(e.obj.idServer){if(i)t="error",i=a.filterObj(i,"code message");else{var o=r.type;switch(o=g.getTypeFromByte(o)||o){case"passFriendApply":t="passed";break;case"rejectFriendApply":t="rejected"}}n={idServer:r.idServer,state:t},i&&(n.error=i),this.updateSysMsg(n)}}},function(e,t,n){"use strict";var r=n(0);function i(){}i.parse=function(e){var t=r.copy(e);return t.isBlacked="1"===t.isBlacked,t.isMuted="1"===t.isMuted,t.createTime=+t.createTime,t.updateTime=+t.updateTime,t},e.exports=i},function(e,t,n){"use strict";var r=n(24).fn,a=n(0),v=a.objs2accounts,y=n(447),f=n(131);r.processUser=function(e){var t,n=this,r=n.db,i=e.obj,o=e.error,a=e.content;switch(e.cmd){case"markInBlacklist":o||n.markInBlacklist(i);break;case"syncMarkInBlacklist":n.markInBlacklist(a,!0);break;case"markInMutelist":o||n.markInMutelist(i);break;case"syncMarkInMutelist":n.markInMutelist(a,!0);break;case"getRelations":o||n.onRelations(e);break;case"syncMyInfo":n.onMyInfo(e,!0);break;case"updateMyInfo":o||(i.updateTime=a.timetag,n.onUpdateMyInfo(e,i));break;case"syncUpdateMyInfo":n.onUpdateMyInfo(e,a.user,!0);break;case"getUsers":o||(t=a.users.map(function(e){return e=f.reverse(e),n.mergeUser(e),e}),e.obj=t,r.enable&&r.putUsers(t));break;case"updateDonnop":n.onUpdateDonnop(e);break;case"syncUpdateDonnop":n.onDonnop(e,!1)}},r.onMyInfo=function(e){var i=this,o=i.db,a=e.error,s=e.content,c=!0,u=void 0,t=new Promise(function(e,t){var n,r;a?c&&(a&&(a.callFunc="user::onMyInfo"),e(a),i.syncData()):(u=f.reverse(s.user),i.logger.info("user::onMyInfo: parseData",u),o.enable?(n=e,r=t,o.mergeMyInfo(u,c).then(function(){l(),n()}).then(void 0,function(e){e.message="db.mergeMyInfo error",e.callFunc="user::onMyInfo",r(e)})):(l(),e()))}).catch(function(e){return i.logger.error("user::onMyInfo: ",e),Promise.reject(e)});function l(){i.timetags.myInfo=u.updateTime,c&&(i.syncResult.myInfo=u)}c&&(t.cmd="myInfo",i.syncPromiseArray.push(t))},r.onUpdateMyInfo=function(e,t,n){var r=this.db,i=f.reverse(t),o=a.merge(this.myInfo,i);this.myInfo=o,n?(this.logger.info("user::onUpdateMyInfo:",o),this.options.onupdatemyinfo(o)):e.obj=o,r.enable&&(i.account=this.account,r.updateUser(i))},r.onRelations=function(n){var o=this,a=o.db,s=n.error,c=o.packetFromSync(n),u=n.content.specialRelations,l=!0,f=void 0,d=[],p=[],h=[],m=[],e=new Promise(function(e,t){var r,i;s?c&&(e(s),o.syncData()):(u.forEach(function(e){var t={account:(e=y.parse(e)).account,createTime:e.createTime,updateTime:e.updateTime};e.isBlacked?d.push(t):p.push(t),e.isMuted?h.push(t):m.push(t)}),o.logger.info("user::onRelations: parse blacklist",v(d),d,"delete",v(p),p),o.logger.info("user::onRelations: parse mutelist",v(h),h,"delete",v(m),m),u.length?(l=!0,f=n.content.timetag):l=!1,a.enable?(r=e,i=t,n.promise=new Promise(function(t,n){function e(){c?(g(),t(),r()):a.getRelations().then(function(e){d=e[0],h=e[1],g(),t(),r()}).then(void 0,function(e){e.message="db.getRelations error",e.callFunc="user::onRelations",n(e),i(e)})}l?a.mergeRelations(d,p,h,m,f).then(function(){e()}).then(void 0,function(e){e.message="db.mergeRelations error",e.callFunc="user::onRelations",n(e),i(e)}):(o.logger.warn("user::onRelations: no relations need merge"),e())}).then(void 0,function(e){throw e.message="merge relations data error",e.callFunc="user::onRelations",i(e),e})):(g(),e()))}).catch(function(e){return o.logger.error("user::onRelations: ",e),Promise.reject(e)});function g(){o.timetags.relations=f,d.invalid=p,h.invalid=m,c?(o.syncResult.blacklist=d,o.syncResult.mutelist=h,o.syncResult.invalidBlacklist=p,o.syncResult.invalidMutelist=m):(o.logger.info("user::onRelations: get relations",d,h),n.obj.blacklist=d,n.obj.mutelist=h)}c&&(e.cmd="relations",o.syncPromiseArray.push(e))},r.markInBlacklist=function(e,t){var n=this.db;e.record={account:e.account,updateTime:+new Date},n.enable&&n.markInBlacklist(e),t&&(this.logger.info("user::markInBlacklist:",e),this.options.onsyncmarkinblacklist(e))},r.markInMutelist=function(e,t){var n=this.db;e.record={account:e.account,updateTime:+new Date},n.enable&&n.markInMutelist(e),t&&(this.logger.info("user::markInMutelist:",e),this.options.onsyncmarkinmutelist(e))},r.mergeUser=function(e){this.userSet[e.account]=e}},function(e,t,n){"use strict";var r=n(12),i=n(26);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";var d=n(36),r=n(16),p=n(47),h=n(134),m=n(133),g=n(68),v=n(449),y=n(111);r(r.S+r.F*!n(132)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,i,o=p(e),a="function"==typeof this?this:Array,s=arguments.length,c=1<s?arguments[1]:void 0,u=void 0!==c,l=0,f=y(o);if(u&&(c=d(c,2<s?arguments[2]:void 0,2)),null==f||a==Array&&m(f))for(n=new a(t=g(o.length));l<t;l++)v(n,l,u?c(o[l],l):o[l]);else for(i=f.call(o),n=new a;!(r=i.next()).done;l++)v(n,l,u?h(i,c,[r.value,l],!0):r.value);return n.length=l,n}})},function(e,t,n){n(49),n(450),e.exports=n(7).Array.from},function(e,t,n){e.exports={default:n(451),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(452))&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){"use strict";var r,N=(r=n(453))&&r.__esModule?r:{default:r},i=n(24).fn,D=n(0),j=n(25),F=D.undef,V=D.objs2ids,Y=D.objs2accounts,B=D.teams2ids,z=n(116),o=D.getGlobal();i.beforeSync=function(){var e=this.db;return e.enable?e.clearSendingMsgs():Promise.resolve()},i.syncData=function(){var r=this,e=r.db,i=r.options,t=e.enable;function n(e){r.syncPromiseArray=[],r.syncResult={},r.syncTeamMembersPromiseArray=[],r.syncTeamMembersResult={},D.verifyBooleanWithDefault(i,"syncRelations syncFriends syncFriendUsers syncTeams syncRoamingMsgs syncMsgReceipts syncExtraTeamInfo",!0,"","sync::syncData"),D.verifyBooleanWithDefault(i,"syncFilter syncTeamMembers",!1,"","sync::syncData");var t={};e=e||{},o._nimForceSyncIM&&(r.logger.warn("sync::syncData: nimForceSyncIM"),delete e.teams,o._nimForceSyncIM=!1),t.myInfo=e.myInfo||0,t.offlineMsgs=0,i.syncRelations&&(t.relations=e.relations||0),i.syncFriends&&(t.friends=e.friends||0),i.syncFriendUsers&&(t.friendUsers=e.friendUsers||0),i.syncRobots&&(t.robots=e.robots||0),i.syncTeams&&(t.teams=e.teams||0),i.syncRoamingMsgs&&(t.roamingMsgs=e.roamingMsgs||0),i.syncMsgReceipts&&(t.msgReceipts=e.msgReceipts||0),i.syncExtraTeamInfo&&(t.myTeamMembers=e.myTeamMembers||0),i.syncSessionUnread&&(t.sessionAck=e.sessionAck||0),i.syncBroadcastMsgs&&(t.broadcastMsgs=e.broadcastMsg||0),t.donnop=e.donnop||0,t.deleteMsg=e.deleteMsg||0,i.syncFilter&&(t.filterMsgs=0);var n=r.onSyncData.bind(r);n.isImSyncDataCb=!0,r.sendCmd("sync",{sync:t},n)}r.notifyLogin(),r.syncing=!0,t?r.beforeSync().then(function(){return r.db.getTimetags()}).then(function(e){n(e)},function(){n()}):n(r.timetags)},i.onSyncData=function(e,t){e&&3<this.syncRetryTimes&&(this.syncRetryTimes=0,e.callFunc="sync::onSyncData",this.onCustomError("SYNC_DATA_ERROR",e))},i.processSync=function(e){switch(this.syncRetryTimes=this.syncRetryTimes||0,this.syncRetryTimes++,e.cmd){case"syncDone":e.error?3<this.syncRetryTimes||this.syncData():(this.timetags.sync=e.content.timetag,this.onSyncDone());break;case"syncTeamMembersDone":this.onSyncTeamMembersDone()}},i.onSyncDone=function(e){var o,a,s,c,u,l,f,d,p,h,m,g,v,y,b,x,w,_,M,T,S,U,k=this,P=k.db,E=P.enable,C=k.options,A=k.syncPromiseArray,O=k.syncResult;if(A&&A.length){var t=A.filter(function(e){return"sessionAck"===e.cmd});0===t.length&&t.push(Promise.resolve());var n=A.filter(function(e){return"sessionAck"!==e.cmd});0===n.length&&n.push(Promise.resolve()),Promise.all(n).then(function(){return Promise.all(t)},function(e){e.callFunc="sync::onSyncDone",e.message="afterSync syncNormalPromise 出错",k.onCustomError("SYNC_NORMAL_ERROR",e)}).then(r,function(e){e.callFunc="sync::onSyncDone",e.message="afterSync syncSessionAckPromise 出错",k.onCustomError("SYNC_SESSION_ACK_ERROR",e)}).catch(function(e){k.syncData()})}else r();function r(){if(A){if(k.logger.info("sync::onSyncDone: after sync",D.promises2cmds(A)),A=[],a=O.blacklist||[],s=O.invalidBlacklist||[],c=O.mutelist||[],u=O.invalidMutelist||[],l=O.friends,f=O.invalidFriends||[],d=O.myInfo,p=O.users,h=O.teams,m=O.invalidTeams||[],g=O.sessions,v=O.msgReceipts,y=O.roamingMsgs,b=O.offlineMsgs,x=O.offlineFilterMsgs,_=O.offlineSysMsgs,M=O.offlineCustomSysMsgs,T=O.offlineFilterSysMsgs,S=O.offlineFilterCustomSysMsgs,O.broadcastMsgs,U=O.sysMsgUnread,g){var t=[];Object.keys(g).forEach(function(e){t.push(g[e])}),g=t.sort(function(e,t){return t.updateTime-e.updateTime})}var e=Promise.resolve();E&&(e=(r=[],i=[],y&&y.forEach(function(e){i=[].concat((0,N.default)(i),(0,N.default)(e.msgs))}),b&&b.forEach(function(e){i=[].concat((0,N.default)(i),(0,N.default)(e.msgs))}),n=P.putMsg(i),r.push(n),Promise.all(r).then(function(){return i})).then(function(e){var n={};e.forEach(function(e){var t=e.sessionId;n[t]||(n[t]=!0,k.markUnreadByMsgsPromise(t))})})),e.then(function(){E&&!k.hasSynced&&(k.hasSynced=!0,C.syncRelations&&(o=P.getRelations().then(function(e){a=e[0],c=e[1],a.invalid=s,c.invalid=u},function(e){return e._msg="on relations error",e}).catch(function(e){return k.logger.error("sync::syncRelation: ",e),Promise.reject(e)}),A.push(o)),C.syncFriends&&(o=P.getFriends().then(function(e){(l=e).invalid=f},function(e){return e._msg="on friends error",e}).catch(function(e){return k.logger.error("sync::syncFriends: ",e),Promise.reject(e)}),A.push(o)),F(d)&&(o=P.getUser(k.account).then(function(e){d=e},function(e){return e._msg="on myInfo error",e}).catch(function(e){return k.logger.error("sync::syncMyInfo: ",e),Promise.reject(e)}),A.push(o)),C.syncFriendUsers&&(o=P.getFriends().then(function(e){return e.map(function(e){return e.account})}).then(function(e){return P.getUsers(e)}).then(function(e){p=e},function(e){return e._msg="on users error",e}).catch(function(e){return k.logger.error("sync::syncFriendUser: ",e),Promise.reject(e)}),A.push(o)),C.syncTeams&&(o=P.getTeams().then(function(e){(h=e).invalid=m},function(e){return e._msg="on teams error",e}).catch(function(e){return k.logger.error("sync::syncTeams: ",e),Promise.reject(e)}),A.push(o)),o=P.getTeamMembersByAccount(k.account).then(function(e){k.mergeMyTeamMembers(e)}).catch(function(e){return k.logger.error("sync::getTeamMembersByAccount: ",e),Promise.reject(e)}),A.push(o),o=P.getDonnop().then(function(e){k.mergeDonnop(e)}).catch(function(e){return k.logger.error("sync::donnop: ",e),Promise.reject(e)}),A.push(o),o=P.getSessions().then(function(e){g=e},function(e){return e._msg="on sessions error",e}).catch(function(e){return k.logger.error("sync::getSession: ",e),Promise.reject(e)}),A.push(o),o=P.getSysMsgUnread().then(function(e){U=e},function(e){return e._msg="on sysMsgUnread error",e}).catch(function(e){return k.logger.error("sync::getSysMsgUnread: ",e),Promise.reject(e)}),A.push(o));var e=A.filter(function(e){return"sessionAck"===e.cmd});0===e.length&&e.push(Promise.resolve());var t=A.filter(function(e){return"sessionAck"!==e.cmd});0===t.length&&t.push(Promise.resolve()),Promise.all(t).then(function(){return Promise.all(e)}).then(I).then(R,function(e){e.callFunc="sync::onSyncDone",e.message="taskAfterSync syncSessionAckPromise 出错",k.onCustomError("SYNC_SESSION_ACK_ERROR",e)})})}else k.logger.warn("sync::onSyncDone: after sync --no promiseArray");var n,r,i}function I(){k.logger.info("sync::onSyncDone: taskAfterSync"),function(){if(O.deleteMsgSysMsgs){var r={};y&&y.forEach(function(e){r[e.sessionId]=e});var i={};b&&b.forEach(function(e){i[e.sessionId]=e});var o=k.api;O.deleteMsgSysMsgs.forEach(function(e){e.sysMsgs.forEach(function(e){var t=e.msg,n=t.sessionId;[r,i].forEach(function(e){e[n]&&(e[n].msgs=o.cutMsgs(e[n].msgs,t))})})}),P.enable||[y,b].forEach(function(e){e&&e.forEach(function(e){if(e.msgs.length){var t=k.genSessionByMsgs(e.msgs);k.cacheSyncedSession(t),g=o.mergeSessions(g,t)}else g=o.cutSessions(g,{id:e.sessionId})})})}}();var e=[];return e.push(k.deleteMsgOfflineRoaming(O.deleteMsgSysMsgs,g)),Promise.all(e)}function R(){setTimeout(i,0)}function i(){var e,t,n=[];a&&(k.logger.info("sync::notifyDataAsync: on blacklist",Y(a),a),C.onblacklist(a)),c&&(k.logger.info("sync::notifyDataAsync: on mutelist",Y(c),c),C.onmutelist(c)),l&&(k.logger.info("sync::notifyDataAsync: on friends",Y(l),l),C.onfriends(l)),d&&(k.logger.info("sync::notifyDataAsync: on myInfo",d),k.myInfo=d,C.onmyinfo(D.copy(d))),p&&(p.forEach(function(e){k.mergeUser(e)}),k.logger.info("sync::notifyDataAsync: on users",Y(p),p),C.onusers(p)),h&&(k.logger.info("sync::notifyDataAsync: on teams",B(h),h),C.onteams(h)),v&&(!k.hasSynced&&g&&g.length||k.hasSynced)&&(g=k.mergeSessionAndMsgReceipts(g,v)),g&&g.length&&(g.forEach(function(e){k.syncResult.sessions&&k.syncResult.sessions[e.id]&&"number"==typeof k.syncResult.sessions[e.id].unread&&(e.unread=k.syncResult.sessions[e.id].unread),k.mergeSession(e),z.trim(e)}),k.logger.info("sync::notifyDataAsync: on sessions",V(g),g),C.onsessions(g)),y&&y.forEach(function(e){n.push(e.timetag),(t=e.msgs).length&&(k.logger.info("sync::notifyDataAsync: on roaming msgs",e.sessionId,t.length,t),C.onroamingmsgs(e))}),b&&b.forEach(function(e){n.push(e.timetag),(t=e.msgs).length&&(k.logger.info("sync::notifyDataAsync: on offline msgs",e.sessionId,t.length,t),C.onofflinemsgs(e))}),x&&x.forEach(function(e){n.push(e.timetag),(t=e.msgs).length&&(k.logger.info("sync::notifyDataAsync: on offline filter msgs",e.sessionId,t.length,t),C.onofflinefiltermsgs(t))});var r=[],i=[];O.deleteMsgSysMsgs&&O.deleteMsgSysMsgs.forEach(function(e){"roaming"===e.type?r=r.concat(e.sysMsgs):i=i.concat(e.sysMsgs)}),r.length&&(w=(w=w||[]).concat(r)),i.length&&(_=(_=_||[]).concat(i)),w&&(k.logger.info("sync::notifyDataAsync: on roaming sys msgs",w.length,w),C.onroamingsysmsgs(w)),_&&(k.logger.info("sync::notifyDataAsync: on offline sys msgs",_.length,_),C.onofflinesysmsgs(_)),T&&(k.logger.info("sync::notifyDataAsync: on offline filter sys msgs",T.length,T),C.onofflinefiltersysmsgs(T)),M&&(k.logger.info("sync::notifyDataAsync: on offline custom sys msgs",M.length,M),C.onofflinecustomsysmsgs(M)),S&&(k.logger.info("sync::notifyDataAsync: on offline filter custom sys msgs",S.length,S),C.onofflinefiltercustomsysmsgs(S)),U&&(U=D.merge({},k.sysMsgUnread,U),k.sysMsgUnread=D.merge({},U),k.logger.info("sync::notifyDataAsync: on sysMsgUnread",U),C.onsysmsgunread(U));var o=k.getPushNotificationMultiportConfig();k.logger.info("sync::notifyDataAsync: on pushNotificationMultiportConfig",o),C.onPushNotificationMultiportConfig(o),n.length?(e=Math.max.apply(Math,n),k.updateRoamingMsgTimetag(e).then(L,L)):L(),k.syncPromiseArray=null,k.syncResult=null}function L(){if(k.processUnsettledMsgs(),k.processUnsettledSysMsgs(),k.syncing=!1,C.onsyncdone(),C.syncTeamMembers&&h&&h.length)throw new j("sync team members api deprecated!")}},i.syncTeamMembers=function(e){var t,n;t=this.timetags,n={},t=t||{},e.forEach(function(e){n[e.teamId]=0},this),this.sendCmd("syncTeamMembers",{sync:n},this.onSyncTeamMembers.bind(this))},i.onSyncTeamMembers=function(e,t){e.callFunc="sync::onSyncTeamMembers",e.message="同步群成员错误",this.onCustomError("SYNC_TEAM_MEMBERS_ERROR",e)},i.onSyncTeamMembersDone=function(){var t,o=this,e=o.db,a=o.options,s=o.syncTeamMembersResult,n=o.syncTeamMembersPromiseArray;function r(){o.logger.log("sync::onSyncTeamMembersDone: afterSync",D.promises2cmds(n)),n=[],e.enable&&!o.hasSyncedTeamMembers?(o.hasSyncedTeamMembers=!0,function(){if(!a.syncTeams||!a.syncTeamMembers)return u();e.getTeams().then(function(e){e.forEach(function(e){var i=e.teamId;t=new Promise(function(n,r){o.api.getTeamMembers({teamId:i,done:function(e,t){e&&r({callFunc:"sync::getTeamMembers: teamId-"+i,message:"sync team members error"}),s[i]=t.members||[],n()}})}),n.push(t)}),n.length?Promise.all(n).then(i,function(e){e.callFunc="sync::onSyncTeamMembersDone",e.message="pullFullData promiseArray notifyData 错误",o.onCustomError("SYNC_TEAM_MEMBERS_ERROR",e)}):i()},function(e){e.callFunc="sync::onSyncTeamMembersDone",e.message="pullFullData getTeams 错误",o.onCustomError("SYNC_TEAM_MEMBERS_ERROR",e)})}()):i()}function i(){setTimeout(c,0)}function c(){var r,i;Object.keys(s).forEach(function(e){var t,n;-1===e.indexOf("invalid")&&(r=s[e],i=s[e+"-invalid"]||[],r.invalid=i,t=e,n=r,o.logger.info("sync::onSyncTeamMembersDone: onTeamMembers",t,Y(n),n),a.onteammembers({teamId:t,members:n}))}),u()}function u(){o.logger.info("sync::onSyncTeamMembersDone: bingo"),a.onsyncteammembersdone(),o.syncTeamMembersResult=null,o.syncTeamMembersPromiseArray=null}n.length?Promise.all(n).then(r,function(e){e.callFunc="sync::onSyncTeamMembersDone",e.message="同步群成员 syncTeamMembersPromiseArray 错误",o.onCustomError("SYNC_TEAM_MEMBERS_ERROR",e)}).catch(function(e){o.logger.log("sync::onSyncTeamMembersDone: syncTeamMembersPromiseArray promise ",e),r()}):r()}},function(e,t,n){"use strict";var r=n(24).fn,o=n(118);r.assembleLogin=function(){var e=this.assembleIMLogin();return this.addPushInfo instanceof Function?this.addPushInfo(e):Promise.resolve({login:e})},r.afterLogin=function(){var t=this;this.initPush instanceof Function&&this.initPush();var n=this.db;if(n.enable){var e=this.account;this.options.appendAppKeyForDBName&&(e+="-"+this.options.appKey),this.db.init(e).then(function(){t.syncData()},function(e){t.logger.warn("link::afterLogin: no db",e),n.reset(!1),t.syncData()})}else this.logger.info("link::afterLogin: no db"),this.syncData()},r.processAuth=function(e){switch(e.cmd){case"login":e.error||(e.content=e.content||{},this.loginAndroidPush&&this.loginAndroidPush(e.content.aosPushInfo||{}),e.obj=e.content.loginRes,this.connectionId=e.content.loginRes.connectionId,this.onLoginPortsChange(e,2));break;case"kicked":return void this.onKicked(e);case"multiPortLogin":this.onLoginPortsChange(e,e.content.state);break;case"kick":e.error||(e.obj.deviceIds=e.content.deviceIds)}},r.onLoginPortsChange=function(e,t){var n=this,r=e.content.loginPorts;if(r&&r.length){var i=!0;switch(t){case 2:i=!0;break;case 3:i=!1}r.forEach(function(e){e.type=o.reverseType(e.type),e.time=+e.time,e.online=i}),(r=r.filter(function(e){return e.connectionId!==n.connectionId})).length&&(n.logger.info("link::onLoginPortsChange:",r),n.options.onloginportschange(r))}},r.kickedReasons=["","samePlatformKick","serverKick","otherPlatformKick","silentlyKick"],r.kickedMessages=["","不允许同一个帐号在多个地方同时登录","被服务器踢了","被其它端踢了","悄悄被踢"]},function(e,t,n){"use strict";var r=n(24).fn,a=n(5),s=n(0),c=n(51);r.refreshSocketUrl=function(){var t=this,e=t.options,n=a.info,r=e.lbsUrl;function i(e){t.socketUrls=[],(e=a.isWeixinApp?e.data:JSON.parse(e)).common.link.forEach(function(e){t.socketUrls.push(a.formatSocketUrl({url:e,secure:t.options.secure}))}),e.common["link.default"].forEach(function(e){e=a.formatSocketUrl({url:e,secure:t.options.secure}),-1===t.socketUrls.indexOf(e)&&t.socketUrls.push(e)});try{a.uploadUrl=e.nosup[0]}catch(e){}t.logger.info("link::refreshSocketUrl: ajax load, got socket urls ",t.socketUrls),t.connectToUrl(t.getNextSocketUrl())}function o(e){t.logger.error("link::refreshSocketUrl: ajax lbs error",e),t.api.reportLogs({event:"nimlb",code:3001}),t.onDisconnect(!1,"link::refreshSocketUrl")}r=r+s.genUrlSep(r)+"k="+e.appKey+"&id="+e.account+"&sv="+n.sdkVersion+"&pv="+n.protocolVersion,t.logger.info("link::refreshSocketUrl: ajax "+r),a.isWeixinApp?wx.request({url:r,success:i,fail:o}):c(r,{proxyUrl:s.url2origin(r)+"/lbs/res/cors/nej_proxy_frame.html",timeout:a.xhrTimeout,onload:i,onerror:o})}},function(e,t,n){"use strict";var r=n(50).fn,o=n(0),s=o.notundef;r.putSession=function(e){return void 0===(e=o.merge({},e)).updateTime&&e.lastMsg&&e.lastMsg.time&&(e.updateTime=e.lastMsg.time),delete e.unread,this.modifyOrPut({table:"session",obj:e,key:"id",modifyObjWhenPut:{unread:0}})},r.getSessions=function(e){var t,n=!(e=e||{}).reverse,r=e.limit||100,i=e.lastSessionId,o=e.sessionId,a=!1;if(s(i))t=function(e){return!!a||(e.id===i&&(a=!0),!1)};else if(s(o))return this.get("session",o);return this.getAll("session",{index:"updateTime",desc:n,limit:r,filter:t})},r.getSession=function(e){return this.get("session",e)},r.updateSession=function(t){var n=this,r=t.id,i=o.filterObj(t,"ack unread lastMsg localCustom msgReceiptTime msgReceiptServerTime");return Object.keys(t).forEach(function(e){0===e.indexOf("last")&&(i[e]=t[e])}),this.getOne("session",null,r,{modifyObj:i}).then(function(e){return e?n.logger.log("db::updateSession: "+r,i):n.logger.warn("db::updateSession: no record "+r),e})},r.resetSessionUnread=function(e){return this.updateSession({id:e,unread:0})},r.deleteSession=function(e){return this.remove("session",e)}},function(e,t,n){"use strict";var r=n(50).fn,a=n(0);a.notundef,r.putBroadcastMsg=function(i){var o=this;return new Promise(function(e){a.isArray(i)||(i=[i]);var t=[],n=i.length;function r(){0==--n&&e(t)}i.forEach(function(e){e=a.copy(e),o.put("broadcastMsg",e).then(function(e){t.push(e[0]),r()},r)})})},r.getBroadcastMsgs=function(e){return e=e||{},this.getAll("broadcastMsg",e)}},function(e,t,n){"use strict";var r=n(50).fn,c=n(0),u=c.notundef;r.putSysMsg=function(i){var o=this;return new Promise(function(e){if(c.isArray(i)||(i=[i]),!i[0].filter){var t=[],n=i.length;i.forEach(function(e){e=c.copy(e),o.put("sysMsg",e).then(function(e){t.push(e[0]),r()},r)})}function r(){0==--n&&e(t)}})},r.getSysMsgs=function(e){var t=!(e=e||{}).reverse,n=e.limit||100,r=null,i=null;e.category&&(r="category",i=e.category),e.type&&(r="type",i=e.type);var o,a=e.lastIdServer,s=!1,c=e.read;return(u(a)||u(c))&&(o=function(e){return u(a)?(a=""+a,s?t():(e.idServer===a&&(s=!0),!1)):t();function t(){return!u(c)||e.read===c}}),e={filter:o,desc:t,limit:n},r?this.getOnly("sysMsg",r,i,e):this.getAll("sysMsg",e)},r.getSysMsgByIdServer=function(e){return this.getOne("sysMsg","idServer",e)},r.updateSysMsg=function(e){var t=this;if(!e.filter){var n=""+e.idServer,r=c.filterObj(e,"read state error localCustom");return this.getOne("sysMsg","idServer",n,{modifyObj:r}).then(function(e){return e?t.logger.log("db::updateSysMsg: "+n,r):t.logger.warn("db::updateSession: "+n),e})}},r.markSysMsgRead=function(e){var s=this;return new Promise(function(t,n){c.isArray(e)||(e=[e]);var r,i,o=[],a=[];e.forEach(function(e){r=s.getSysMsgByIdServer(e.idServer).then(function(e){e&&!e.read&&(i=s.updateSysMsg({idServer:e.idServer,read:!0}),a.push(i))},n),o.push(r)}),Promise.all(o).then(function(){Promise.all(a).then(function(e){t(e)},n)},n)})},r.deleteSysMsg=function(e){var t,n=this,r=[];return c.isArray(e)||(e=[e]),e.forEach(function(e){e=""+e,t=n.getOne("sysMsg","idServer",e,{remove:!0}),r.push(t)}),1===r.length?r[0]:Promise.all(r)},r.deleteAllSysMsgs=function(){var e=this.clearTable("sysMsg"),t=this.clearTable("sysMsgUnread");return Promise.all([e,t])},r.getSysMsgUnread=function(){return this.getAll("sysMsgUnread").then(function(e){var t={};return e.forEach(function(e){t[e.type]=e.num}),t})},r.updateSysMsgUnread=function(t){var e=this;t=c.copy(t);var n=[];return Object.keys(t).forEach(function(e){n.push({type:e,num:t[e]})}),this.put("sysMsgUnread",n).then(function(){return e.logger.log("db::updateSysMsgUnread: ",t),t})}},function(e,t,n){"use strict";var r=n(50).fn,b=n(0),i=n(5);r.putMsg=function(e){return b.isArray(e)||(e=[e]),!e.length||e[0].filter?Promise.resolve():(e=e.filter(function(e){return!e.ignore}),this.put("msg1",e))},r.updateMsg=function(e){var t=this;if(!e.filter){var n=e.idClient,r=b.filterObj(e,"resend status idServer time localCustom");return t.getOne("msg1",null,n,{modifyObj:r}).then(function(e){return e?t.logger.log("db::updateMsg: "+n,r):t.logger.warn("db::updateMsg: no record "+n),e})}},r.getMsgs=function(e){return i.isBrowser?this.getMsgsIndexedDB(e):i.isRN?this.getMsgsRN(e):Promise.resolve()},r.getMsgsRN=function(e){var t={};return"number"==typeof e.start&&(t.lowerBound=["time",e.start]),"number"==typeof e.end&&e.end!==1/0&&(t.upperBound=["time",e.end]),t.desc=!1,t.sortIndex="time","boolean"==typeof e.desc&&(t.desc=e.desc),"number"==typeof e.limit&&(t.limit=e.limit),t.searchIndex=[],e.sessionId&&t.searchIndex.push(["sessionId",e.sessionId]),"string"==typeof e.type&&t.searchIndex.push(["type",e.type]),this.getAll("msg1",t)},r.getMsgsIndexedDB=function(e){this.checkDB();var t="time",n=!1,r=!1,i=(e=e||{}).sessionId,o=e.sessionIds;b.exist(i)?(n=!0,t="sessionTime"):b.exist(o)&&(n=!0,b.isString(o)?(t="sessionTime",i=o):Array.isArray(o)&&(1===o.length?(t="sessionTime",i=o[0]):r=!0));var a=e.start||0,s=e.end||1/0,c=a,u=s;n&&!r&&(c=[i,a],u=[i,s]);var l=!1!==e.desc,f=e.limit||100,d=!1,p=!1,h=e.type,m=e.types;b.exist(h)?d=!0:b.exist(m)&&(d=!0,b.isString(m)?h=m:Array.isArray(m)&&(1===m.length?h=m[0]:p=!0));var g=e.keyword||"",v=e.filterFunc,y=void 0;return(r||d||g||b.isFunction(v))&&(y=function(e){if(r&&-1===o.indexOf(e.sessionId))return!1;if(d)if(p){if(-1===m.indexOf(e.type))return!1}else if(h!==e.type)return!1;return(!g||-1!==(e.text||e.tip||"").indexOf(g))&&(!v||v(e))}),this.server.query("msg1",t).bound(c,u,!0,!0).desc(l).limit(f).filter(y).execute()},r.getMsgCountAfterAck=function(e){return i.isBrowser?this.getMsgCountAfterAckIndexedDB(e):i.isRN?this.getMsgCountAfterAckRN(e):Promise.resolve()},r.getMsgCountAfterAckRN=function(n){var e=n=n||{},t=e.sessionId,r=e.ack;return this.checkDB(),this.getAll("msg1",{searchIndex:["sessionId",t],lowerBound:["time",r]}).then(function(e){var t=e.filter(function(e){return"out"!==e.flow&&("notification"!==e.type||!!n.shouldCountNotifyUnread(e))});return Promise.resolve(t.length)})},r.getMsgCountAfterAckIndexedDB=function(n){var e=(n=n||{}).sessionId;return this.checkDB(),this.server.query("msg1","sessionTime").bound([e,n.ack],[e,1/0],!0,!0).execute().then(function(e){var t=e.filter(function(e){return"out"!==e.flow&&("notification"!==e.type||!!n.shouldCountNotifyUnread(e))});return Promise.resolve(t.length)})},r.amendMsg=function(e){return e?(b.notexist(e.text)&&(e.text=""),e):null},r.getMsgByIdClient=function(e){var t=this;return t.getOne("msg1",null,e).then(function(e){return t.amendMsg(e)})},r.getMsgsByIdClients=function(e){var t,n=this,r=[];return e.forEach(function(e){t=n.getMsgByIdClient(e),r.push(t)}),Promise.all(r)},r.clearSendingMsgs=function(){var t=this;return t.getOnly("msg1","status","sending",{modifyObj:{status:"fail"}}).then(function(e){t.logger.log("db::clearSendingMsgs: msgs send failed",e)})},r.deleteMsg=function(e){var t,n=this,r=[];return b.isArray(e)||(e=[e]),e.forEach(function(e){t=n.getOne("msg1",null,e,{remove:!0}).then(function(e){return n.logger.log("db::deleteMsg:",e),e}),r.push(t)}),1===r.length?r[0]:Promise.all(r)},r.deleteMsgsBySessionId=function(e){return this.getOnly("msg1","sessionId",e,{remove:!0})},r.deleteAllMsgs=function(){var e=this.clearTable("msg1"),t=this.clearTable("session");return Promise.all([e,t])}},function(e,t,n){"use strict";var r=n(50).fn,i=n(0);r.mergeMyInfo=function(e,t){var n=this;return n.put("user",e).then(function(){return t?n.updateMyInfoTimetag(e.updateTime):e})},r.mergeFriendUsers=function(e,t){var n=this;return n.putUsers(e).then(function(){n.updateFriendUserTimetag(t)})},r.putUsers=function(e){return this.put("user",e)},r.putUser=function(e){return this.put("user",e)},r.updateUser=function(t){var n=this,r=(t=i.copy(t)).account;return this.getOne("user",null,r,{modifyObj:t}).then(function(e){return e?n.logger.log("db::updateUser: "+r,t):n.logger.warn("db::updateUser: no record "+r),e})},r.putUsersIfIsFriend=function(e){var n,r=this,i=[],o=[];return e.forEach(function(t){n=r.getFriend(t.account).then(function(e){return e&&(n=r.putUser(t),o.push(n)),e}),i.push(n)}),Promise.all(i).then(function(){return Promise.all(o).then(function(e){return e})})},r.deleteUser=function(e){return this.remove("user",e)},r.getUser=function(e){return this.getOne("user",null,e)},r.getUsers=function(t){return this.getAll("user",{filter:function(e){return-1!==t.indexOf(e.account)}})},r.getAllUsers=function(){return this.getAll("user")}},function(e,t,n){"use strict";var r=n(50).fn,a=n(0),o=n(25),i=n(119),s=n(90);function c(e){return e.valid&&e.validToCurrentUser}function u(e){return e&&e.valid}function l(e){return e&&a.fillUndef(e,{mute:!1,custom:""}),e}r.mergeTeams=function(e,t,n){var r=this,i=r.put("team",e),o=r.leaveTeams(t,n);return Promise.all([i,o]).then(function(){return r.logger.log("db::mergeTeams:"),r.updateTeamTimetag(n),[e,t,n]})},r.putTeam=function(e){if(e)return a.isArray(e)||(e=[e]),e.forEach(function(e){e.validToCurrentUser=!0}),this.put("team",e)},r.updateTeam=function(t){var n=this,r=(t=a.copy(t)).teamId;return n.getOne("team",null,r,{modifyObj:t}).then(function(e){return e?(n.logger.log("db::updateTeam: "+r,t),e):(n.logger.warn("db::updateTeam: no record "+r),n.putTeam(t))})},r.transferTeam=function(e,t,n){var r=this,i=e.teamId,o=e.memberUpdateTime,a={teamId:i,account:t,type:"normal",updateTime:o},s={teamId:i,account:n,type:"owner",updateTime:o};return r.updateTeamMembers([a,s]).then(function(){return r.putTeam(e).then(function(){return r.logger.log("db::transferTeam: "+e.teamId+" "+t+" -> "+n),[e,t,n]})})},r.leaveTeam=function(e){var t=this;return t.updateTeam({teamId:e,validToCurrentUser:!1}).then(function(){return t.removeAllTeamMembers(e)})},r.dismissTeam=function(e,t){var n=this,r={teamId:e,valid:!1,validToCurrentUser:!1,updateTime:t};return n.updateTeam(r).then(function(){return n.removeAllTeamMembers(e)})},r.leaveTeams=function(e,t){var n,r=this,i=[];return e.forEach(function(e){n=r.leaveTeam(e.teamId,t),i.push(n)}),Promise.all(i)},r.getTeamsByTeamIds=function(e){var t,n=this,r=[];return e.forEach(function(e){t=n.getTeam(e),r.push(t)}),Promise.all(r)},r.getTeam=function(e){e=""+e;var t=this;return t.getOne("team",null,e).then(function(e){return e?(t.updateTeamProperties([e]),e):null})},r.getTeams=function(){var t=this;return t.getAll("team",{filter:c}).then(function(e){return t.updateTeamProperties(e),e})},r.updateTeamProperties=function(e){e.forEach(function(e){e&&i.fillProperties(e)})},r.mergeTeamMembers=function(e,t,n,r){var i=this,o=i.putTeamMembers(t),a=i.updateTeamMembers(n);return Promise.all([o,a]).then(function(){return i.logger.log("db::mergeTeamMembers: "+e),i.updateTeamMemberTimetag(e,r)})},r.putTeamMembers=function(e){return this.put("teamMember",e)},r.getTeamMembersByAccount=function(e){return this.getOnly("teamMember","account",e,{filter:u,mapper:l}).then()},r.getTeamMembers=function(e){var t=this;return e=""+e,t.getOnly("teamMember","teamId",e,{filter:function(e){return e.valid},mapper:l}).then(function(e){return t.updateTeamMemberProperties(e).then(function(){return e})})},r.updateTeamMemberProperties=function(e){var t,n=this,r=[];return e.forEach(function(e){s.fillProperties(e)&&(t=n.updateTeamMember(e),r.push(t))}),Promise.all(r)},r.getInvalidTeamMembers=function(t,e){var n=this;t=""+t;var r,i=[];return e.forEach(function(e){r=n.getOne("teamMember",null,s.genId(t,e)).then(function(e){return l(e)}),i.push(r)}),Promise.all(i)},r.updateTeamMember=function(e){var t=this,n=e.teamId,r=e.account,i=s.genId(n,r),o=a.filterObj(e,"nickInTeam muteTeam mute custom updateTime type valid");return this.getOne("teamMember",null,i,{modifyObj:o,mapper:l}).then(function(e){return e?t.logger.log("db::updateTeamMember: "+n+" "+r,o):t.logger.warn("db::updateTeam: no record "+n+" "+r),e})},r.updateTeamMembers=function(e){var t=this;if(!e.length)return Promise.resolve();var n,r=[];return e.forEach(function(e){n=t.updateTeamMember(e),r.push(n)}),Promise.all(r)},r.updateTeamManagers=function(t,e,n,r){var i=e.map(function(e){return{teamId:t,account:e,type:n?"manager":"normal",updateTime:r}});return this.updateTeamMembers(i)},r.removeTeamMembersByAccounts=function(t,e){var n=e.map(function(e){return{teamId:t,account:e,valid:!1}});return this.updateTeamMembers(n)},r.removeAllTeamMembers=function(e){var t=this;return t.getOnly("teamMember","teamId",e,{modifyObj:{valid:!1}}).then(function(){return t.logger.warn("db::removeAllTeamMembers: "+e),t.deleteTeamMemberTimetag(e)})},r.deleteTeamMembers=function(e){var t=this;return t.getOnly("teamMember","teamId",e,{remove:!0}).then(function(){t.logger.warn("db::deleteTeamMembers: "+e),t.deleteTeamMemberTimetag(e)})},r.deleteTeam=function(e){var t,i=this,n=[];return a.isArray(e)||(e=[e]),e.forEach(function(r){r=""+r,t=i.get("team",r).then(function(e){if(e&&c(e))throw o.stillInTeamError({callFunc:"team::deleteTeam",team:e});var t=i.remove("team",r),n=i.deleteTeamMembers(r);return Promise.all([t,n])}),n.push(t)}),1===n.length?n[0]:Promise.all(n)}},function(e,t,n){"use strict";var r=n(50).fn,i=n(0);r.mergeFriends=function(e,t,n){var r=this;return r.updateAndDelete("friend",e,t).then(function(){return r.logger.log("db::mergeFriends: updateAndDelete done",e),n&&r.updateFriendTimetag(n),[e,t,n]})},r.putFriend=function(e){return this.put("friend",e)},r.updateFriend=function(t){var n=this,r=(t=i.copy(t)).account;return this.getOne("friend",null,r,{modifyObj:t}).then(function(e){return e?n.logger.log("db::updateFriend: "+r,t):n.logger.warn("db::updateFriend: no record "+r),e})},r.deleteFriend=function(e){var t=this.remove("friend",e),n=this.deleteUser(e);return Promise.all([t,n])},r.getFriends=function(){return this.getAll("friend",{filter:function(e){return e.valid}})},r.getFriend=function(e){return this.getOne("friend",null,e)}},function(e,t,n){"use strict";var r=n(50).fn,i=n(0);r.mergeRelations=function(e,t,n,r,i){var o=this,a=o.updateAndDelete("blacklist",e,t),s=o.updateAndDelete("mutelist",n,r);return Promise.all([a,s]).then(function(){return o.logger.log("db::mergeRelations: timetag "+i),o.updateRelationTimetag(i),[e,t,n,r,i]})},r.getRelations=function(){var e=this.getAll("blacklist"),t=this.getAll("mutelist");return Promise.all([e,t])},r.markInBlacklist=function(e){if((e=i.copy(e)).isAdd){var t=e.record;return this.put("blacklist",t)}var n=e.account;return this.remove("blacklist",n)},r.markInMutelist=function(e){if((e=i.copy(e)).isAdd){var t=e.record;return this.put("mutelist",t)}var n=e.account;return this.remove("mutelist",n)}},function(e,t,n){"use strict";var r=n(50).fn;r.getTimetags=function(e){var t={};return this.getAll("timetag",{filter:e,mapper:function(e){return-1!==e.name.indexOf("team-")?t[e.name]=0:t[e.name]=e.value,e}}).then(function(){return t})},r.getTeamMemberTimetags=function(){return this.getTimetags(function(e){return-1!==e.name.indexOf("team-")})},r.getTimetag=function(e){return this.getOne("timetag",null,e).then(function(e){return(e=e||{value:0}).value})},r.getTeamMemberTimetag=function(e){return 0},r.updateTimetag=function(e,t){var n={name:e,value:t};return this.put("timetag",n)},r.updateMyInfoTimetag=function(e){return this.updateTimetag("myInfo",e)},r.updateRelationTimetag=function(e){return this.updateTimetag("relations",e)},r.getRelationsTimetag=function(){return this.getTimetag("relations")},r.updateFriendTimetag=function(e){return this.updateTimetag("friends",e)},r.getFriendsTimetag=function(){return this.getTimetag("friends")},r.updateFriendUserTimetag=function(e){return this.updateTimetag("friendUsers",e)},r.updateTeamTimetag=function(e){return this.updateTimetag("teams",e)},r.getTeamsTimetag=function(){return this.getTimetag("teams")},r.updateTeamMemberTimetag=function(e,t){return this.updateTimetag("team-"+e,t)},r.getTeamMembersTimetag=function(e){return this.getTimetag("team-"+e)},r.updateMyTeamMembersTimetag=function(e){return this.updateTimetag("myTeamMembers",e)},r.getBroadcastMsgTimetag=function(e){return this.getTimetag("broadcastMsg")},r.updateBroadcastMsgTimetag=function(e){return this.updateTimetag("broadcastMsg",parseInt(e))},r.updateRoamingMsgTimetag=function(e){return this.updateTimetag("roamingMsgs",e)},r.updateMsgReceiptsTimetag=function(e){return this.updateTimetag("msgReceipts",e)},r.updateDonnopTimetag=function(e){return this.updateTimetag("donnop",e)},r.updateDeleteMsgTimetag=function(e){return this.updateTimetag("deleteMsg",e)},r.updateSessionAck=function(e){return this.updateTimetag("sessionAck",e)},r.deleteTimetag=function(e){return this.remove("timetag",e)},r.deleteTeamMemberTimetag=function(e){return this.deleteTimetag("team-"+e)}},function(e,t,n){"use strict";var r=n(50).fn;r.setKey=function(e,t){return this.put("kv",{key:e,value:t})},r.getKey=function(e){return this.get("kv",e).then(function(e){return e&&e.value})},r.setDonnop=function(e){return this.setKey("donnop",e)},r.getDonnop=function(){return this.getKey("donnop")}},function(e,t,n){"use strict";var r={version:8},i={kv:{key:{keyPath:"key"}},timetag:{key:{keyPath:"name"}},blacklist:{key:{keyPath:"account"}},mutelist:{key:{keyPath:"account"}},friend:{key:{keyPath:"account"}},user:{key:{keyPath:"account"}},team:{key:{keyPath:"teamId"}},teamMember:{key:{keyPath:"id"},indexes:{teamId:{unique:!1},account:{unique:!1}}},msg:{key:{autoIncrement:!0},indexes:{idClient:{unique:!0},sessionId:{unique:!1},time:{unique:!1},type:{unique:!1},sessionType:{unique:!1},status:{unique:!1},sessionTime:{key:["sessionId","time"],unique:!1}}},msg1:{key:{keyPath:"idClient"},indexes:{sessionId:{unique:!1},time:{unique:!1},status:{unique:!1},sessionTime:{key:["sessionId","time"],unique:!1}}},broadcastMsg:{key:{keyPath:"broadcastId"},indexes:{time:{unique:!1}}},sysMsg:{key:{autoIncrement:!0},indexes:{idServer:{unique:!0},category:{unique:!1},type:{unique:!1}}},sysMsgUnread:{key:{keyPath:"type"}},session:{key:{keyPath:"id"},indexes:{updateTime:{unique:!1}}}};r.keyPath=function(e){return i[e].key.keyPath},r.schema=function(){return window._nimForceSyncIM=!0,i},e.exports=r},function(u,p,h){"use strict";(function(e){var t,n,r,i,T,S,l,o,U,k,P,E,a,f,s,d,c,C=(n=h(9))&&n.__esModule?n:{default:n};r=window,T=(r=void 0!==r?r:"undefined"!=typeof self?self:void 0!==e?e:{}).IDBKeyRange||r.webkitIDBKeyRange,S="readwrite",l=Object.prototype.hasOwnProperty,o=function(){if(!i&&!(i=r.indexedDB||r.webkitIndexedDB||r.mozIndexedDB||r.oIndexedDB||r.msIndexedDB||(null===r.indexedDB&&r.shimIndexedDB?r.shimIndexedDB:void 0)))throw"IndexedDB required";return i},U=function(e){return e},k=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},P=function(e){return"function"==typeof e},E=function(e){return void 0===e},a=function(s,e){var c=this,u=!1;this.name=e,this.getIndexedDB=function(){return s},this.add=function(e){if(u)throw"Database has been closed";for(var n=[],t=0,r=0;r<arguments.length-1;r++)if(Array.isArray(arguments[r+1]))for(var i=0;i<arguments[r+1].length;i++)n[t]=arguments[r+1][i],t++;else n[t]=arguments[r+1],t++;var o=s.transaction(e,S),a=o.objectStore(e);return new Promise(function(e,t){n.forEach(function(r){var e;if(r.item&&r.key){var t=r.key;r=r.item,e=a.add(r,t)}else e=a.add(r);e.onsuccess=function(e){var t=e.target,n=t.source.keyPath;null===n&&(n="__id__"),Object.defineProperty(r,n,{value:t.result,enumerable:!0})}}),o.oncomplete=function(){e(n,c)},o.onerror=function(e){e.preventDefault(),t(e)},o.onabort=function(e){t(e)}})},this.updateAndDelete=function(e,n,r){if(u)throw"Database has been closed";var i=s.transaction(e,S),o=i.objectStore(e),a=o.keyPath;return new Promise(function(e,t){n.forEach(function(e){if(e.item&&e.key){var t=e.key;e=e.item,o.put(e,t)}else o.put(e)}),r.forEach(function(e){o.delete(e[a])}),i.oncomplete=function(){e([n,r])},i.onerror=function(e){t(e)}})},this.update=function(e){if(u)throw"Database has been closed";for(var t,n=[],r=1;r<arguments.length;r++)t=arguments[r],Array.isArray(t)?n=n.concat(t):n.push(t);var i=s.transaction(e,S),o=i.objectStore(e);return o.keyPath,new Promise(function(e,t){n.forEach(function(e){var t;if(e.item&&e.key){var n=e.key;e=e.item,t=o.put(e,n)}else t=o.put(e);t.onsuccess=function(e){},t.onerror=function(e){}}),i.oncomplete=function(){e(n,c)},i.onerror=function(e){t(e)},i.onabort=function(e){t(e)}})},this.remove=function(e,n){if(u)throw"Database has been closed";var r=s.transaction(e,S),i=r.objectStore(e);return new Promise(function(e,t){Array.isArray(n)||(n=[n]),n.forEach(function(e){i.delete(e)}),r.oncomplete=function(){e(n)},r.onerror=function(e){t(e)},r.onabort=function(e){t(e)}})},this.clear=function(e){if(u)throw"Database has been closed";var n=s.transaction(e,S);return n.objectStore(e).clear(),new Promise(function(e,t){n.oncomplete=function(){e()},n.onerror=function(e){t(e)}})},this.close=function(){u||(s.close(),u=!0,delete d[e])},this.get=function(e,t){if(u)throw"Database has been closed";var r=s.transaction(e),i=r.objectStore(e).get(t);return new Promise(function(t,n){i.onsuccess=function(e){t(e.target.result)},r.onerror=function(e){n(e)}})},this.query=function(e,t){if(u)throw"Database has been closed";return new f(e,s,t)},this.count=function(e,t){if(u)throw"Database has been closed";s.transaction(e).objectStore(e)};for(var t=0,n=s.objectStoreNames.length;t<n;t++)!function(n){for(var e in c[n]={},c)l.call(c,e)&&"close"!==e&&(c[n][e]=function(t){return function(){var e=[n].concat([].slice.call(arguments,0));return c[t].apply(c,e)}}(e))}(s.objectStoreNames[t])},f=function(b,x,w){var t=this,_=!1,M=!1,n=function(e,t){var n="next",r="openCursor",i=[],o=null,a=U,s=!1,c=function(){return f=e,d=t,p=r,h=s?n+"unique":n,m=o,g=i,v=a,new Promise(function(e,t){var n=_||M?S:"readonly",r=x.transaction(b,n),i=r.objectStore(b),o=w?i.index(w):i,a=f?T[f].apply(null,d):null,s=[],c=[a],u=0;m=m||null,g=g||[],"count"!==p&&c.push(h||"next");var l=!!_&&Object.keys(_);o[p].apply(o,c).onsuccess=function(e){var t=e.target.result;if((void 0===t?"undefined":(0,C.default)(t))===(0,C.default)(0))s=t;else if(t)if(null!==m&&m[0]>u)u=m[0],t.advance(m[0]);else if(null!==m&&u>=m[0]+m[1]);else{var n=!0,r="value"in t?t.value:t.key;g.forEach(function(e){e&&e.length&&(2===e.length?n=n&&r[e[0]]===e[1]:P(e[0])&&(n=n&&e[0].apply(void 0,[r])))}),n&&(u++,s.push(v(r)),M?t.delete():_&&(r=function(e){for(var t=0;t<l.length;t++){var n=l[t],r=_[n];r instanceof Function&&(r=r(e)),e[n]=r}return e}(r),t.update(r))),t.continue()}},r.oncomplete=function(){e(s)},r.onerror=function(e){t(e)},r.onabort=function(e){t(e)}});var f,d,p,h,m,g,v},u=function(){return n=null,r="count",{execute:c}},l=function e(){var t,n;return t=arguments[0],1==(o="array"===k(t)?arguments[0]:Array.prototype.slice.call(arguments,0,2)).length&&o.unshift(0),n=o[1],"number"===k(n)||(o=null),{execute:c,count:u,keys:f,filter:d,asc:p,desc:h,distinct:m,modify:g,limit:e,map:v,remove:y}},f=function e(t){return(t=!!E(t)||!!t)&&(r="openKeyCursor"),{execute:c,keys:e,filter:d,asc:p,desc:h,distinct:m,modify:g,limit:l,map:v,remove:y}},d=function e(){return i.push(Array.prototype.slice.call(arguments,0,2)),{execute:c,count:u,keys:f,filter:e,asc:p,desc:h,distinct:m,modify:g,limit:l,map:v,remove:y}},p=function e(t){return t=!!E(t)||!!t,n=t?"next":"prev",{execute:c,count:u,keys:f,filter:d,asc:e,desc:h,distinct:m,modify:g,limit:l,map:v,remove:y}},h=function e(t){return t=!!E(t)||!!t,n=t?"prev":"next",{execute:c,count:u,keys:f,filter:d,asc:p,desc:e,distinct:m,modify:g,limit:l,map:v,remove:y}},m=function e(t){return t=!!E(t)||!!t,s=t,{execute:c,count:u,keys:f,filter:d,asc:p,desc:h,distinct:e,modify:g,limit:l,map:v,remove:y}},g=function e(t){return _=t,{execute:c,count:u,keys:f,filter:d,asc:p,desc:h,distinct:m,modify:e,limit:l,map:v,remove:y}},v=function e(t){return P(t)&&(a=t),{execute:c,count:u,keys:f,filter:d,asc:p,desc:h,distinct:m,modify:g,limit:l,map:e,remove:y}},y=function e(t){return t=!!E(t)||!!t,M=t,{execute:c,count:u,keys:f,filter:d,asc:p,desc:h,distinct:m,modify:g,limit:l,map:v,remove:e}};return{execute:c,count:u,keys:f,filter:d,asc:p,desc:h,distinct:m,modify:g,limit:l,map:v,remove:y}};"only bound upperBound lowerBound".split(" ").forEach(function(e){t[e]=function(){return new n(e,arguments)}}),this.filter=function(){var e=new n(null,null);return e.filter.apply(e,arguments)},this.all=function(){return this.filter()}},s=function(e,t,n,r){var i=e.target.result,o=new a(i,t);return d[t]=i,Promise.resolve(o)},d={},c={version:"0.10.2",open:function(r){var e;return new Promise(function(t,n){if(d[r.server])s({target:{result:d[r.server]}},r.server,r.version,r.schema).then(t,n);else{try{e=o().open(r.server,r.version)}catch(e){n(e)}e.onsuccess=function(e){s(e,r.server,r.version,r.schema).then(t,n)},e.onupgradeneeded=function(e){!function(e,t,n){for(var r in"function"==typeof t&&(t=t()),t){var i,o=t[r];for(var a in i=!l.call(t,r)||n.objectStoreNames.contains(r)?e.currentTarget.transaction.objectStore(r):n.createObjectStore(r,o.key),o.indexes){var s=o.indexes[a];try{i.index(a)}catch(e){i.createIndex(a,s.key||a,Object.keys(s).length?s:{unique:!1})}}}}(e,r.schema,e.target.result)},e.onerror=function(e){n(e)}}})},remove:function(i){return new Promise(function(t,n){if(!i)return t();var e,r;(void 0===i?"undefined":(0,C.default)(i))===a&&(i=i.name),"string"==typeof i&&(e=d[i]),e&&"function"==typeof e.close&&e.close();try{r=o().deleteDatabase(i)}catch(e){n(e)}r.onsuccess=function(e){delete d[i],t(i)},r.onerror=function(e){n(e)},r.onblocked=function(e){n(e)}})}},void 0!==u&&void 0!==u.exports?u.exports=c:void 0===(t=function(){return c}.call(p,h,p,u))||(u.exports=t)}).call(this,h(30))},function(e,t,n){"use strict";var r=n(21),a=n(67),i=n(468),s=n(467),c=n(0),o=n(173),u=n(25),l=u.newSupportDBError,f=u.noDBError,d=!1;function p(e){d=e,o.set("db",e,i)}if(p(!!c.getGlobal().indexedDB),"IE"===r.name&&p(!1),"Microsoft Edge"===r.name&&p(!1),"Safari"===r.name){try{parseInt(r.version.split(".")[0],10)<10&&p(!1)}catch(e){}p(!1)}function h(e){this.concurrency=0,this.pendingTasks=[],this.queue=Promise.resolve(),this.logger=e.logger}var m=h.prototype;m.reset=c.emptyFunc,d&&(m.reset=function(e){this.enable=!1!==e}),m.addTask=function(i){var o=this;return new Promise(function(t,n){function r(e){o.concurrency--;var t=o.pendingTasks.shift();t&&o.addTask(t),e()}if(o.concurrency<100)return o.concurrency++,i().then(function(e){r(function(){t(e),i.resolve&&i.resolve(e)})},function(t){r(function(){var e={event:(t=t||{}).event||t,callFunc:t.callFunc||"db::addTask"};n(e),i.reject&&i.reject(e)})});i.resolve||(i.resolve=t,i.reject=n),o.pendingTasks.push(i)})},m.init=function(e){var t=this;return t.addTask(function(){return t.enable?t.server?Promise.resolve():(t.name="nim-"+e,i.open({server:t.name,version:s.version,schema:s.schema}).then(function(e){t.logger.log("db::init: "+t.name),t.server=e},function(e){throw p(!1),t.server=null,t.name=null,e})):Promise.reject(l({callFunc:"db::init"}))})},m.destroy=function(){var e=this;return e.addTask(function(){return e.enable?e.server?i.remove(e.name).then(function(){e.logger.log("db::destroy: "+e.name),e.server=null,e.name=null}):Promise.resolve():Promise.reject(l({callFunc:"db::destroy"}))})},m.clear=function(){var n=this;return n.addTask(function(){return n.enable?n.server?n.server.clear("timetag").then(function(){var e=[].slice.call(n.server.getIndexedDB().objectStoreNames),t=[];if(e.forEach(function(e){t.push(n.server.clear(e))}),t.length)return Promise.all(t).then(function(){n.logger.log("db::clear: "+n.name)}).catch(function(e){return n.logger.error("db::clear: ",e),Promise.reject(e)})}):Promise.resolve():Promise.reject(l({callFunc:"db::clear"}))})},m.close=function(){this.server&&(this.server.close(),this.server=null,this.name=null)},m.remove=function(e,t){var n=this;return n.addTask(function(){return n.checkDB(),c.isArray(t)||(t=[t]),n.server.remove(e,t).then(function(){n.logger.log("db::delete: "+e+" "+(1===t.length?t[0]:t))})})},m.put=function(i,e){var o=this;return o.addTask(function(){return o.checkDB(),c.isArray(e)||(e=[e]),o.server.update(i,e).then(function(e){var t=["put",i],n=s.keyPath(i),r=[];return n&&(e.forEach(function(e){r.push(a(e,n))}),t.push(1===r.length?r[0]:r)),t.push(1===e.length?e[0]:e),t.unshift("db::put:"),o.logger.log.apply(o.logger.log,t),e})})},m.get=function(e,t){var n=this;return n.addTask(function(){return n.checkDB(),n.server.get(e,t)})},m.modifyOrPut=function(e){var t=this,n=e.table,r=c.copy(e.obj),i=e.key,o=e.modifyObjWhenPut,a=c.copy(r);return delete a[i],t.getOne(n,null,r[i],{modifyObj:a}).then(function(e){return e?(t.logger.log("db::modifyOrPut: update table "+n,r),e):(r=c.merge(r,o),t.put(n,r).then(function(e){return e[0]}))})},m.updateAndDelete=function(e,t,n){var r=this;return r.addTask(function(){return r.checkDB(),r.server.updateAndDelete(e,t,n)})},m.getAll=function(e,t){var n=this;return n.addTask(function(){return n.checkDB(),(t=t||{}).keys=!0===t.keys,t.desc=!0===t.desc,t.distinct=!0===t.distinct,n.server.query(e,t.index).filter(t.filter).keys(t.keys).desc(t.desc).limit(t.limit).distinct(t.distinct).map(t.mapper).modify(t.modifyObj).execute()})},m.getOnly=function(e,t,n,r){var i=this;return i.addTask(function(){return i.checkDB(),(r=r||{}).keys=!0===r.keys,r.desc=!0===r.desc,r.distinct=!0===r.distinct,r.remove=!0===r.remove,i.server.query(e,t).only(n).filter(r.filter).keys(r.keys).desc(r.desc).limit(r.limit).distinct(r.distinct).map(r.mapper).modify(r.modifyObj).remove(r.remove).execute()})},m.getOne=function(){return this.getOnly.apply(this,arguments).then(function(e){return e[0]})},m.clearTable=function(e){var t=this;return t.addTask(function(){return t.checkDB(),t.server.clear(e)})},m.checkDB=function(){if(!this.enable)throw l({callFunc:"db::checkDB"});if(!this.server)throw f({callFunc:"db::checkDB"})},e.exports=h},function(e,t,n){"use strict";n(141);var r=n(31);n(169)(r),e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(141);var r={NIM:n(470),Chatroom:n(404)};n(169)(r),e.exports=r}])},module.exports=w6d()},oDIu:function(e,t,n){"use strict";var r=n("XKFU"),i=n("AvRE")(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},oVml:function(e,t,r){var i=r("5K7Z"),o=r("fpC5"),a=r("FpHa"),s=r("VVlx")("IE_PROTO"),c=function(){},u="prototype",l=function(){var e,t=r("Hsns")("iframe"),n=a.length;for(t.style.display="none",r("MvwC").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[u][a[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(c[u]=i(e),n=new c,c[u]=null,n[s]=e):n=l(),void 0===t?n:o(n,t)}},"oZ/O":function(e,t,n){var r=n("XKFU"),i=n("y3w9"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},"oh+g":function(e,t,n){var r=n("WEpk"),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},ohE5:function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},ol8x:function(e,t,n){var r=n("dyZX").navigator;e.exports=r&&r.userAgent||""},pIFo:function(e,t,n){n("IU+Z")("replace",2,function(i,o,a){return[function(e,t){"use strict";var n=i(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):a.call(String(n),e,t)},a]})},pUK2:function(e,t,n){"use strict";t.__esModule=!0,t.getLinkInfo=t.callLink=t.linkWithCb=t.linkCommonUrl=t.linkCommon=void 0;var r=a(n("OIPj")),i=n("jOKj"),o=a(i);function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default,t.linkCommon=o.default,t.linkCommonUrl=i.linkCommonUrl,t.linkWithCb=i.linkWithCb,t.callLink=i.callLink,t.getLinkInfo=i.getLinkInfo},patp:function(e,t,n){(function(t){e.exports=function i(o,a,s){function c(n,e){if(!a[n]){if(!o[n]){if(u)return u(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var r=a[n]={exports:{}};o[n][0].call(r.exports,function(e){var t=o[n][1][e];return c(t||e)},r,r.exports,i,o,a,s)}return a[n].exports}for(var u=!1,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=function(e){if(null!=e)return Object(e);throw new TypeError("Object.assign cannot be called with null or undefined")}(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))u.call(n,a)&&(i[a]=n[a]);if(c){r=c(n);for(var s=0;s<r.length;s++)l.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i}},{}],2:[function(e,s,t){(function(a){(function(){var e,t,n,r,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?s.exports=function(){return performance.now()}:null!=a&&a.hrtime?(s.exports=function(){return(e()-i)/1e6},t=a.hrtime,r=(e=function(){var e;return 1e9*(e=t())[0]+e[1]})(),o=1e9*a.uptime(),i=r-o):n=Date.now?(s.exports=function(){return Date.now()-n},Date.now()):(s.exports=function(){return(new Date).getTime()-n},(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:3}],3:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,l=[],f=!1,d=-1;function p(){f&&u&&(f=!1,u.length?l=u.concat(l):d=-1,l.length&&h())}function h(){if(!f){var e=c(p);f=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||f||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],4:[function(f,d,e){(function(e){for(var r=f("performance-now"),t="undefined"==typeof window?e:window,n=["moz","webkit"],i="AnimationFrame",o=t["request"+i],a=t["cancel"+i]||t["cancelRequest"+i],s=0;!o&&s<n.length;s++)o=t[n[s]+"Request"+i],a=t[n[s]+"Cancel"+i]||t[n[s]+"CancelRequest"+i];if(!o||!a){var c=0,u=0,l=[];o=function(e){if(0===l.length){var t=r(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){for(var e=l.slice(0),t=l.length=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return l.push({handle:++u,callback:e,cancelled:!1}),u},a=function(e){for(var t=0;t<l.length;t++)l[t].handle===e&&(l[t].cancelled=!0)}}d.exports=function(e){return o.call(t,e)},d.exports.cancel=function(){a.apply(t,arguments)},d.exports.polyfill=function(){t.requestAnimationFrame=o,t.cancelAnimationFrame=a}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":2}],5:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),c=e("raf"),o=e("object-assign"),p={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function(e,t,n){return t<n?e<t?t:n<e?n:e:e<n?n:t<e?t:e},data:function(e,t){return p.deserialize(e.getAttribute("data-"+t))},deserialize:function(e){return"true"===e||"false"!==e&&("null"===e?null:!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):e)},camelCase:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},accelerate:function(e){p.css(e,"transform","translate3d(0,0,0) rotate(0.0001deg)"),p.css(e,"transform-style","preserve-3d"),p.css(e,"backface-visibility","hidden")},transformSupport:function(e){for(var t=document.createElement("div"),n=!1,r=null,i=!1,o=null,a=null,s=0,c=p.vendors.length;s<c;s++)if(a=null!==p.vendors[s]?(o=p.vendors[s][0]+"transform",p.vendors[s][1]+"Transform"):o="transform",void 0!==t.style[a]){n=!0;break}switch(e){case"2D":i=n;break;case"3D":if(n){var u=document.body||document.createElement("body"),l=document.documentElement,f=l.style.overflow,d=!1;document.body||(d=!0,l.style.overflow="hidden",l.appendChild(u),u.style.overflow="hidden",u.style.background=""),u.appendChild(t),t.style[a]="translate3d(1px,1px,1px)",r=window.getComputedStyle(t).getPropertyValue(o),i=void 0!==r&&0<r.length&&"none"!==r,l.style.overflow=f,u.removeChild(t),d&&(u.removeAttribute("style"),u.parentNode.removeChild(u))}}return i},css:function(e,t,n){var r=p.propertyCache[t];if(!r)for(var i=0,o=p.vendors.length;i<o;i++)if(r=null!==p.vendors[i]?p.camelCase(p.vendors[i][1]+"-"+t):t,void 0!==e.style[r]){p.propertyCache[t]=r;break}e.style[r]=n}},a={relativeInput:!1,clipRelativeInput:!1,inputElement:null,hoverOnly:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5,pointerEvents:!1,precision:1,onReady:null,selector:null},i=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.element=e;var n={calibrateX:p.data(this.element,"calibrate-x"),calibrateY:p.data(this.element,"calibrate-y"),invertX:p.data(this.element,"invert-x"),invertY:p.data(this.element,"invert-y"),limitX:p.data(this.element,"limit-x"),limitY:p.data(this.element,"limit-y"),scalarX:p.data(this.element,"scalar-x"),scalarY:p.data(this.element,"scalar-y"),frictionX:p.data(this.element,"friction-x"),frictionY:p.data(this.element,"friction-y"),originX:p.data(this.element,"origin-x"),originY:p.data(this.element,"origin-y"),pointerEvents:p.data(this.element,"pointer-events"),precision:p.data(this.element,"precision"),relativeInput:p.data(this.element,"relative-input"),clipRelativeInput:p.data(this.element,"clip-relative-input"),hoverOnly:p.data(this.element,"hover-only"),inputElement:document.querySelector(p.data(this.element,"input-element")),selector:p.data(this.element,"selector")};for(var r in n)null===n[r]&&delete n[r];o(this,a,n,t),this.inputElement||(this.inputElement=this.element),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depthsX=[],this.depthsY=[],this.raf=null,this.bounds=null,this.elementPositionX=0,this.elementPositionY=0,this.elementWidth=0,this.elementHeight=0,this.elementCenterX=0,this.elementCenterY=0,this.elementRangeX=0,this.elementRangeY=0,this.calibrationX=0,this.calibrationY=0,this.inputX=0,this.inputY=0,this.motionX=0,this.motionY=0,this.velocityX=0,this.velocityY=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onDeviceMotion=this.onDeviceMotion.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onMotionTimer=this.onMotionTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.windowWidth=null,this.windowHeight=null,this.windowCenterX=null,this.windowCenterY=null,this.windowRadiusX=null,this.windowRadiusY=null,this.portrait=!1,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop,this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop,this.orientationStatus=0,this.motionStatus=0,this.initialise()}return r(i,[{key:"initialise",value:function(){void 0===this.transform2DSupport&&(this.transform2DSupport=p.transformSupport("2D"),this.transform3DSupport=p.transformSupport("3D")),this.transform3DSupport&&p.accelerate(this.element);var e=window.getComputedStyle(this.element);"static"===e.getPropertyValue("position")&&(this.element.style.position="relative"),this.pointerEvents||(this.element.style.pointerEvents="none"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function(){this.onReady&&this.onReady()}},{key:"updateLayers",value:function(){this.selector?this.layers=this.element.querySelectorAll(this.selector):this.layers=this.element.children,this.layers.length||console.warn("ParallaxJS: Your scene does not have any layers."),this.depthsX=[],this.depthsY=[];for(var e=0;e<this.layers.length;e++){var t=this.layers[e];this.transform3DSupport&&p.accelerate(t),t.style.position=e?"absolute":"relative",t.style.display="block",t.style.left=0,t.style.top=0;var n=p.data(t,"depth")||0;this.depthsX.push(p.data(t,"depth-x")||n),this.depthsY.push(p.data(t,"depth-y")||n)}}},{key:"updateDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowCenterX=this.windowWidth*this.originX,this.windowCenterY=this.windowHeight*this.originY,this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX),this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function(){this.bounds=this.inputElement.getBoundingClientRect(),this.elementPositionX=this.bounds.left,this.elementPositionY=this.bounds.top,this.elementWidth=this.bounds.width,this.elementHeight=this.bounds.height,this.elementCenterX=this.elementWidth*this.originX,this.elementCenterY=this.elementHeight*this.originY,this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX),this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function(e){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,e)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=!1,window.addEventListener("deviceorientation",this.onDeviceOrientation),this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)):this.motionSupport?(this.portrait=!1,window.addEventListener("devicemotion",this.onDeviceMotion),this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)):(this.calibrationX=0,this.calibrationY=0,this.portrait=!1,window.addEventListener("mousemove",this.onMouseMove),this.doReadyCallback()),window.addEventListener("resize",this.onWindowResize),this.raf=c(this.onAnimationFrame))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.orientationSupport?window.removeEventListener("deviceorientation",this.onDeviceOrientation):this.motionSupport?window.removeEventListener("devicemotion",this.onDeviceMotion):window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),c.cancel(this.raf))}},{key:"calibrate",value:function(e,t){this.calibrateX=void 0===e?this.calibrateX:e,this.calibrateY=void 0===t?this.calibrateY:t}},{key:"invert",value:function(e,t){this.invertX=void 0===e?this.invertX:e,this.invertY=void 0===t?this.invertY:t}},{key:"friction",value:function(e,t){this.frictionX=void 0===e?this.frictionX:e,this.frictionY=void 0===t?this.frictionY:t}},{key:"scalar",value:function(e,t){this.scalarX=void 0===e?this.scalarX:e,this.scalarY=void 0===t?this.scalarY:t}},{key:"limit",value:function(e,t){this.limitX=void 0===e?this.limitX:e,this.limitY=void 0===t?this.limitY:t}},{key:"origin",value:function(e,t){this.originX=void 0===e?this.originX:e,this.originY=void 0===t?this.originY:t}},{key:"setInputElement",value:function(e){this.inputElement=e,this.updateDimensions()}},{key:"setPosition",value:function(e,t,n){t=t.toFixed(this.precision)+"px",n=n.toFixed(this.precision)+"px",this.transform3DSupport?p.css(e,"transform","translate3d("+t+","+n+",0)"):this.transform2DSupport?p.css(e,"transform","translate("+t+","+n+")"):(e.style.left=t,e.style.top=n)}},{key:"onOrientationTimer",value:function(){this.orientationSupport&&0===this.orientationStatus?(this.disable(),this.orientationSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onMotionTimer",value:function(){this.motionSupport&&0===this.motionStatus?(this.disable(),this.motionSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onCalibrationTimer",value:function(){this.calibrationFlag=!0}},{key:"onWindowResize",value:function(){this.updateDimensions()}},{key:"onAnimationFrame",value:function(){this.updateBounds();var e=this.inputX-this.calibrationX,t=this.inputY-this.calibrationY;(Math.abs(e)>this.calibrationThreshold||Math.abs(t)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.motionX=this.calibrateX?t:this.inputY,this.motionY=this.calibrateY?e:this.inputX):(this.motionX=this.calibrateX?e:this.inputX,this.motionY=this.calibrateY?t:this.inputY),this.motionX*=this.elementWidth*(this.scalarX/100),this.motionY*=this.elementHeight*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.motionX=p.clamp(this.motionX,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.motionY=p.clamp(this.motionY,-this.limitY,this.limitY)),this.velocityX+=(this.motionX-this.velocityX)*this.frictionX,this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var n=0;n<this.layers.length;n++){var r=this.layers[n],i=this.depthsX[n],o=this.depthsY[n],a=this.velocityX*(i*(this.invertX?-1:1)),s=this.velocityY*(o*(this.invertY?-1:1));this.setPosition(r,a,s)}this.raf=c(this.onAnimationFrame)}},{key:"rotate",value:function(e,t){var n=(e||0)/30,r=(t||0)/30,i=this.windowHeight>this.windowWidth;this.portrait!==i&&(this.portrait=i,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.calibrationX=n,this.calibrationY=r),this.inputX=n,this.inputY=r}},{key:"onDeviceOrientation",value:function(e){var t=e.beta,n=e.gamma;null!==t&&null!==n&&(this.orientationStatus=1,this.rotate(t,n))}},{key:"onDeviceMotion",value:function(e){var t=e.rotationRate.beta,n=e.rotationRate.gamma;null!==t&&null!==n&&(this.motionStatus=1,this.rotate(t,n))}},{key:"onMouseMove",value:function(e){var t=e.clientX,n=e.clientY;if(this.hoverOnly&&(t<this.elementPositionX||t>this.elementPositionX+this.elementWidth||n<this.elementPositionY||n>this.elementPositionY+this.elementHeight))return this.inputX=0,void(this.inputY=0);this.relativeInput?(this.clipRelativeInput&&(t=Math.max(t,this.elementPositionX),t=Math.min(t,this.elementPositionX+this.elementWidth),n=Math.max(n,this.elementPositionY),n=Math.min(n,this.elementPositionY+this.elementHeight)),this.elementRangeX&&this.elementRangeY&&(this.inputX=(t-this.elementPositionX-this.elementCenterX)/this.elementRangeX,this.inputY=(n-this.elementPositionY-this.elementCenterY)/this.elementRangeY)):this.windowRadiusX&&this.windowRadiusY&&(this.inputX=(t-this.windowCenterX)/this.windowRadiusX,this.inputY=(n-this.windowCenterY)/this.windowRadiusY)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.calibrationTimer),clearTimeout(this.detectionTimer),this.element.removeAttribute("style");for(var e=0;e<this.layers.length;e++)this.layers[e].removeAttribute("style");delete this.element,delete this.layers}},{key:"version",value:function(){return"3.1.0"}}]),i}();t.exports=i},{"object-assign":1,raf:4}]},{},[5])(5)}).call(this,n("yLpj"))},pbhE:function(e,t,n){"use strict";var i=n("2OiF");function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}e.exports.f=function(e){return new r(e)}},"pp/T":function(e,t,n){var r=n("XKFU");r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},pxCl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(l(e))return!1;var r=void 0,i=void 0,o=void 0,a=void 0;if(void 0===t||t===window)r=window.pageYOffset,o=window.pageXOffset,i=r+window.innerHeight,a=o+window.innerWidth;else{var s=(0,u.default)(t);r=s.top,o=s.left,i=r+t.offsetHeight,a=o+t.offsetWidth}var c=(0,u.default)(e);return r<=c.top+e.offsetHeight+n.top&&i>=c.top-n.bottom&&o<=c.left+e.offsetWidth+n.left&&a>=c.left-n.right};var r,i=n("HVci"),u=(r=i)&&r.__esModule?r:{default:r};var l=function(e){return null===e.offsetParent}},q1tI:function(e,t,n){"use strict";e.exports=n("viRO")},qmMu:function(e,t,n){var T=n("Wogr"),S=n("e/Dd"),o=n("ekOh"),s=n("e6BP"),f=n("V35J"),d=n("1sBl"),p=n("kk9/"),h=n("eQOe"),U=n("NPxG"),k=n("jSPq"),m=n("yKow"),c=n("lYJp"),u=n("u/Db"),g=n("vvrf"),v=n("7uVY");function y(e,t,n){var r,i,o=e.size,a=c.getEncodedBits(t,n);for(r=0;r<15;r++)i=1==(a>>r&1),r<6?e.set(r,8,i,!0):r<8?e.set(r+1,8,i,!0):e.set(o-15+r,8,i,!0),r<8?e.set(8,o-r-1,i,!0):r<9?e.set(8,15-r-1+1,i,!0):e.set(8,15-r-1,i,!0);e.set(o-8,8,1,!0)}function b(t,e,n){var r=new s;n.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),u.getCharCountIndicator(e.mode,t)),e.write(r)});var i=8*(S.getSymbolTotalCodewords(t)-U.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=i&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);for(var o=(i-r.getLengthInBits())/8,a=0;a<o;a++)r.put(a%2?17:236,8);return function(e,t,n){for(var r=S.getSymbolTotalCodewords(t),i=U.getTotalCodewordsCount(t,n),o=r-i,a=U.getBlocksCount(t,n),s=a-r%a,c=Math.floor(r/a),u=Math.floor(o/a),l=u+1,f=c-u,d=new k(f),p=0,h=new Array(a),m=new Array(a),g=0,v=new T(e.buffer),y=0;y<a;y++){var b=y<s?u:l;h[y]=v.slice(p,p+b),m[y]=d.encode(h[y]),p+=b,g=Math.max(g,b)}var x,w,_=new T(r),M=0;for(x=0;x<g;x++)for(w=0;w<a;w++)x<h[w].length&&(_[M++]=h[w][x]);for(x=0;x<f;x++)for(w=0;w<a;w++)_[M++]=m[w][x];return _}(r,t,e)}function a(e,t,n,r){var i;if(v(e))i=g.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var o=t;if(!o){var a=g.rawSplit(e);o=m.getBestVersionForData(a,n)}i=g.fromString(e,o||40)}var s=m.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;var c=b(t,n,i),u=S.getSymbolSize(t),l=new f(u);return function(e,t){for(var n=e.size,r=p.getPositions(t),i=0;i<r.length;i++)for(var o=r[i][0],a=r[i][1],s=-1;s<=7;s++)if(!(o+s<=-1||n<=o+s))for(var c=-1;c<=7;c++)a+c<=-1||n<=a+c||(0<=s&&s<=6&&(0===c||6===c)||0<=c&&c<=6&&(0===s||6===s)||2<=s&&s<=4&&2<=c&&c<=4?e.set(o+s,a+c,!0,!0):e.set(o+s,a+c,!1,!0))}(l,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(l),function(e,t){for(var n=d.getPositions(t),r=0;r<n.length;r++)for(var i=n[r][0],o=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(i+a,o+s,!0,!0):e.set(i+a,o+s,!1,!0)}(l,t),y(l,n,0),7<=t&&function(e,t){for(var n,r,i,o=e.size,a=m.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+o-8-3,i=1==(a>>s&1),e.set(n,r,i,!0),e.set(r,n,i,!0)}(l,t),function(e,t){for(var n=e.size,r=-1,i=n-1,o=7,a=0,s=n-1;0<s;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!e.isReserved(i,s-c)){var u=!1;a<t.length&&(u=1==(t[a]>>>o&1)),e.set(i,s-c,u),-1==--o&&(a++,o=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(l,c),isNaN(r)&&(r=h.getBestMask(l,y.bind(null,l,n))),h.applyMask(r,l),y(l,n,r),{modules:l,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,r,i=o.M;return void 0!==t&&(i=o.from(t.errorCorrectionLevel,o.M),n=m.from(t.version),r=h.from(t.maskPattern),t.toSJISFunc&&S.setToSJISFunction(t.toSJISFunc)),a(e,n,i,r)}},qncB:function(e,t,n){var a=n("XKFU"),r=n("vhPU"),s=n("eeVq"),c=n("/e88"),i="["+c+"]",o=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),l=function(e,t,n){var r={},i=s(function(){return!!c[e]()||"​"!="​"[e]()}),o=r[e]=i?t(f):c[e];n&&(r[n]=o),a(a.P+a.F*i,"String",r)},f=l.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(o,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},quPj:function(e,t,n){var r=n("0/R4"),i=n("LZWt"),o=n("K0xU")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},r1bV:function(e,t,n){n("7DDg")("Uint16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},rE2o:function(e,t,n){n("OnI7")("asyncIterator")},rGqo:function(e,t,n){for(var r=n("yt8O"),i=n("DVgA"),o=n("KroJ"),a=n("dyZX"),s=n("Mukb"),c=n("hPIQ"),u=n("K0xU"),l=u("iterator"),f=u("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),m=0;m<h.length;m++){var g,v=h[m],y=p[v],b=a[v],x=b&&b.prototype;if(x&&(x[l]||s(x,l,d),x[f]||s(x,f,v),c[v]=d,y))for(g in r)x[g]||o(x,g,r[g],!0)}},raXG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("QbLZ"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(window.Raven)throw new Error("repeat to reference sentry source");!function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Sentry dsn param is not found");var n=/music\.163\.com$/.test(location.host)?"production":"test";window.SENTRY_SDK={url:"//s6.music.126.net/static_public/5b7eb1637eef609a0a828c74/sdk/3.26.4/raven.min.js",dsn:e,options:(0,o.default)({tags:{env:n}},t)}}(e,t),function(o,e,t,i,a){var s=o.SENTRY_SDK,c=function e(t){e.data.push(t)};c.data=[];var u=o[i];o[i]=function(e,t,n,r,i){c({e:[].slice.call(arguments)}),u&&u.apply(o,arguments)};var l=o[a];o[a]=function(e){c({p:e.reason}),l&&l.apply(o,arguments)};var n=e.getElementsByTagName("script")[0];(e=e.createElement("script")).src=s.url,e.crossorigin="anonymous",e.addEventListener("load",function(){try{o[i]=u,o[a]=l;var e=c.data,t=o.Raven;t.config(s.dsn,s.options).install();var n=o[i];if(e.length)for(var r=0;r<e.length;r++)e[r].e?n.apply(t.TraceKit,e[r].e):e[r].p&&t.captureException(e[r].p)}catch(e){console.log(e)}}),n.parentNode.insertBefore(e,n)}(window,document,0,"onerror","onunhandledrejection")},e.exports=t.default},rr1i:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},rvZc:function(e,t,n){"use strict";var r=n("XKFU"),a=n("ne8i"),s=n("0sh+"),c="endsWith",u=""[c];r(r.P+r.F*n("UUeW")(c),"String",{endsWith:function(e){var t=s(this,e,c),n=1<arguments.length?arguments[1]:void 0,r=a(t.length),i=void 0===n?r:Math.min(a(n),r),o=String(e);return u?u.call(t,o,i):t.slice(i-o.length,i)===o}})},rzV7:function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty;function a(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(a(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!o.call(t,n[i])||!a(e[n[i]],t[n[i]]))return!1;return!0}},"s+Px":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n("TjBD"),u=/mobile|mobi|wap|simulator|iphone|android/gi,l=/Android\s+([\d\.]+);/i,f=/Windows\s+Phone\s+([\d\.]+);/i,d=/(iphone|ipod|ipad)/i,p=/OS\s+([\d+_]+)/i;t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t={},n=e.match(f),r=e.match(l),i=e.match(d);if(n){var o=n[1];t={name:0<=(0,c.compareVersion)(o,10)?"uwp":"wp",version:o,isWp:!0}}else if(r)t={name:"android",version:r[1],isAnd:!0};else if(i){var a=i[1].toLowerCase(),s=e.match(p);s&&(t={name:a,isIos:!0,version:s[1].replace(/_/g,".")})}else t={name:"other",version:""};return t.isMobile=null!==e.match(u),t},e.exports=t.default},s3Ml:function(e,t,n){e.exports={default:n("JbBM"),__esModule:!0}},s4NR:function(e,t,n){"use strict";t.decode=t.parse=n("kd2E"),t.encode=t.stringify=n("4JlD")},s5qY:function(e,t,n){var r=n("0/R4");e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},sFw1:function(e,t,n){n("7DDg")("Int8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},sbF8:function(e,t,n){var r=n("XKFU"),i=n("nBIS"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},t33a:function(e,t,n){"use strict";e.exports={}},tEej:function(e,t,n){var r=n("Ojgd"),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},tUrg:function(e,t,n){"use strict";n("OGtf")("link",function(t){return function(e){return t(this,"a","href",e)}})},tuSo:function(e,t,n){n("7DDg")("Int32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},"tyy+":function(e,t,n){var r=n("XKFU"),i=n("11IZ");r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},"u/Db":function(e,n,t){var r=t("J6Nv"),i=t("BCVQ");n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},n.getBestModeForData=function(e){return i.testNumeric(e)?n.NUMERIC:i.testAlphanumeric(e)?n.ALPHANUMERIC:i.testKanji(e)?n.KANJI:n.BYTE},n.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},n.isValid=function(e){return e&&e.bit&&e.ccBits},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},uOPS:function(e,t){e.exports=!0},uhZd:function(e,t,n){var r=n("XKFU"),i=n("EemH").f,o=n("y3w9");r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},upKx:function(e,t,n){"use strict";var u=n("S/j/"),l=n("d/Gc"),f=n("ne8i");e.exports=[].copyWithin||function(e,t){var n=u(this),r=f(n.length),i=l(e,r),o=l(t,r),a=2<arguments.length?arguments[2]:void 0,s=Math.min((void 0===a?r:l(a,r))-o,r-i),c=1;for(o<i&&i<o+s&&(c=-1,o+=s-1,i+=s-1);0<s--;)o in n?n[i]=n[o]:delete n[i],i+=c,o+=c;return n}},vKrd:function(e,t,n){var r=n("y3w9"),i=n("0/R4"),o=n("pbhE");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},vhPU:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},viRO:function(e,t,n){"use strict";
/** @license React v16.3.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=n("MgzW"),r=n("t33a"),o=n("ohE5"),i="function"==typeof Symbol&&Symbol.for,f=i?Symbol.for("react.element"):60103,c=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,m="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function y(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||v}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=x.prototype=new b;w.constructor=x,l(w,y.prototype),w.isPureReactComponent=!0;var _={current:null},M=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)M.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:f,type:e,key:o,ref:a,props:i,_owner:_.current}}function U(e){return"object"==typeof e&&null!==e&&e.$$typeof===f}var k=/\/+/g,P=[];function E(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function C(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,P.length<10&&P.push(e)}function A(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case f:case c:o=!0}}if(o)return n(r,e,""===t?"."+O(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+O(i=e[a],a);o+=A(i,s,n,r)}else if("function"==typeof(s=null==e?null:"function"==typeof(s=m&&e[m]||e["@@iterator"])?s:null))for(e=s.call(e),a=0;!(i=e.next()).done;)o+=A(i=i.value,s=t+O(i,a++),n,r);else"object"===i&&g("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return o}function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function I(e,t){e.func.call(e.context,t,e.count++)}function R(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,o.thatReturnsArgument):null!=e&&(U(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n,e={$$typeof:f,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function L(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),t=E(t,o,r,i),null==e||A(e,"",R,t),C(t)}var N={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=E(null,null,t,n),null==e||A(e,"",I,t),C(t)},count:function(e){return null==e?0:A(e,"",o.thatReturnsNull,null)},toArray:function(e){var t=[];return L(e,t,null,o.thatReturnsArgument),t},only:function(e){return U(e)||g("143"),e}},createRef:function(){return{current:null}},Component:y,PureComponent:x,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:u,context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},Fragment:a,StrictMode:s,unstable_AsyncMode:p,createElement:S,cloneElement:function(e,t,n){var r=void 0,i=l({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key);var c=void 0;for(r in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)M.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=void 0===t[r]&&void 0!==c?c[r]:t[r])}if(1===(r=arguments.length-2))i.children=n;else if(1<r){c=Array(r);for(var u=0;u<r;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:f,type:e.type,key:o,ref:a,props:i,_owner:s}},createFactory:function(e){var t=S.bind(null,e);return t.type=e,t},isValidElement:U,version:"16.3.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:_,assign:l}},D=Object.freeze({default:N}),j=D&&N||D;e.exports=j.default?j.default:j},vvmO:function(e,t,n){var r=n("LZWt");e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},vvrf:function(e,a,t){var p=t("u/Db"),i=t("3X7Y"),o=t("nZSm"),s=t("AZa5"),c=t("Lzq4"),u=t("BCVQ"),l=t("e/Dd"),f=t("ELBg");function d(e){return unescape(encodeURIComponent(e)).length}function h(e,t,n){for(var r,i=[];null!==(r=e.exec(n));)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function m(e){var t,n,r=h(u.NUMERIC,p.NUMERIC,e),i=h(u.ALPHANUMERIC,p.ALPHANUMERIC,e);return n=l.isKanjiModeEnabled()?(t=h(u.BYTE,p.BYTE,e),h(u.KANJI,p.KANJI,e)):(t=h(u.BYTE_KANJI,p.BYTE,e),[]),r.concat(i,t,n).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function g(e,t){switch(t){case p.NUMERIC:return i.getBitsLength(e);case p.ALPHANUMERIC:return o.getBitsLength(e);case p.KANJI:return c.getBitsLength(e);case p.BYTE:return s.getBitsLength(e)}}function n(e,t){var n,r=p.getBestModeForData(e);if((n=p.from(t,r))!==p.BYTE&&n.bit<r.bit)throw new Error('"'+e+'" cannot be encoded with mode '+p.toString(n)+".\n Suggested mode is: "+p.toString(r));switch(n!==p.KANJI||l.isKanjiModeEnabled()||(n=p.BYTE),n){case p.NUMERIC:return new i(e);case p.ALPHANUMERIC:return new o(e);case p.KANJI:return new c(e);case p.BYTE:return new s(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(n(t,null)):t.data&&e.push(n(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var n=function(e,t){for(var n={},r={start:{}},i=["start"],o=0;o<e.length;o++){for(var a=e[o],s=[],c=0;c<a.length;c++){var u=a[c],l=""+o+c;s.push(l),n[l]={node:u,lastCount:0},r[l]={};for(var f=0;f<i.length;f++){var d=i[f];n[d]&&n[d].node.mode===u.mode?(r[d][l]=g(n[d].lastCount+u.length,u.mode)-g(n[d].lastCount,u.mode),n[d].lastCount+=u.length):(n[d]&&(n[d].lastCount=u.length),r[d][l]=g(u.length,u.mode)+4+p.getCharCountIndicator(u.mode,t))}}i=s}for(f=0;f<i.length;f++)r[i[f]].end=0;return{map:r,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];switch(r.mode){case p.NUMERIC:t.push([r,{data:r.data,mode:p.ALPHANUMERIC,length:r.length},{data:r.data,mode:p.BYTE,length:r.length}]);break;case p.ALPHANUMERIC:t.push([r,{data:r.data,mode:p.BYTE,length:r.length}]);break;case p.KANJI:t.push([r,{data:r.data,mode:p.BYTE,length:d(r.data)}]);break;case p.BYTE:t.push([{data:r.data,mode:p.BYTE,length:d(r.data)}])}}return t}(m(e,l.isKanjiModeEnabled())),t),r=f.find_path(n.map,"start","end"),i=[],o=1;o<r.length-1;o++)i.push(n.table[r[o]].node);return a.fromArray(i.reduce(function(e,t){var n=0<=e.length-1?e[e.length-1]:null;return n&&n.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(m(e,l.isKanjiModeEnabled()))}},vwuL:function(e,t,n){var r=n("NV0k"),i=n("rr1i"),o=n("NsO/"),a=n("G8Mo"),s=n("B+OT"),c=n("eUtF"),u=Object.getOwnPropertyDescriptor;t.f=n("jmDH")?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},"w/jR":function(I,R,L){"use strict";(function(e){Object.defineProperty(R,"__esModule",{value:!0});var h=i(L("EJiy")),t=i(L("y7P4")),f=L("Do9G"),n=i(f),r=i(L("pUK2")),o=i(L("1M0g"));function i(e){return e&&e.__esModule?e:{default:e}}var m=t.default;e.$changeEnv=function(e){m=e};var s="http://a.app.qq.com/o/simple.jsp?pkgname=com.netease.cloudmusic",c=s+"&co-channel=87999",u="//music.163.com/api/android/download/latest2",a=function(){};"undefined"!=typeof window&&(a=L("Z63m"),n.default.params.market&&(u=u+"?market="+n.default.params.market),n.default.params.yybkey&&(s=s+"&ckey="+n.default.params.yybkey,c=s+"&co-channel=87999"));var l,d,g=["micromessenger","qq","weibo","douban","renren"],v=/igame\.163\.com/,p="orpheus://",y=function(){var e=window.location,t=e.hostname;t=v.test(t)?"qa.igame.163.com":"music.163.com";var n=e.protocol+"//"+t+"/m/download",r=m.getPlatform2Str(),i=m.getClient(),o=m.isWP10(),a=m.getDevice();return"ios"===r?n="pad"===a?"https://itunes.apple.com/cn/app/wang-yi-yun-yin-lehd/id871041757?l=ch":"micromessenger"===i||"qq"===i?s:"https://itunes.apple.com/app/id590338362":"wp"===r?n=o?"https://www.microsoft.com/store/apps/9nblggh6g0jf":"http://www.windowsphone.com/s?appid=db9dbdaa-464e-4370-a078-800fc7983d39":"micromessenger"===i||"qq"===i?n=c:"android"===r&&(n=u),n},b=(l=y,d=void 0,function(){return d||(d=l())});e.$getAppDownUrl=y;var x,w,_=function(e){if(!e)return"";if("undefined"==typeof window)return e;var t=function(e){if("string"!=typeof e)return"";var t=e;return t.substring(0,10)!==p&&(t=""+p+t),t}(e),n=window.location,r=n.search,i=n.hash,o=(0,f.parse)(r),a=(0,f.parse)(i&&i.split("?")[1]),s=[];if(o.userid&&-1===t.indexOf("shareuserid=")&&s.push("shareuserid="+o.userid),o.yyfrom&&-1===t.indexOf("yyfrom=")&&s.push("yyfrom="+o.yyfrom),-1===t.indexOf("thirdfrom=")){var c=m.getClient(),u=m.fetchLogByClient(c);u?s.push("thirdfrom="+u):a.thirdfrom&&s.push("thirdfrom="+a.thirdfrom)}var l=0<t.indexOf("?")?"&":"?";return 0<s.length?""+t+l+s.join("&"):t},M=/^orpheus:\/\//,T=["blur","pagehide","beforeunload"],S=function(){var a=[],s=null,c=null;if("undefined"!=typeof window){var t=function t(){a.forEach(function(e){window.clearTimeout(e)}),a=[],T.forEach(function(e){window.removeEventListener(e,t,!1)})};T.forEach(function(e){window.addEventListener(e,t,!1)})}return function(e,t){var n=e;if(n)if(n=_(n),m.isAndroidChrome()){var r=n;M.test(r)&&(r=r.substring(10));var i="";"string"==typeof t&&0<t.length&&(i=";S.browser_fallback_url="+encodeURIComponent(t));var o="intent://"+r+"/#Intent;scheme=orpheus;package=com.netease.cloudmusic"+i+";end";location.href=o}else window.setTimeout(function(){"string"==typeof t&&0<t.length&&a.push(window.setTimeout(function(){+new Date-s<3100&&(window.top.location.href=t)},3e3)),s=+new Date,9<=m.getIosLargeVersion()?location.href=n:((c=document.createElement("iframe")).src=n,c.style.display="none",document.body.appendChild(c),window.setTimeout(function(){c&&(document.body.removeChild(c),c=null)},0))},0)}}(),U=function(e,t,n,r){var i=_(e),o=window.location,a=v.test(o.host)?"m.igame.163.com":"m.music.163.com",s=o.protocol+"//"+a+"/m/applink/?scheme="+encodeURIComponent(i);r&&(s=o.protocol+"//"+a+"/m/applink/emptydl/?scheme="+encodeURIComponent(i)),"string"==typeof t&&t&&(s=s+"&dl="+encodeURIComponent(t)),"boolean"==typeof n&&n&&(s+="&redirect=1"),o.href=s},k=function(e){var t=e.resType,n=e.resQuery;return"function"!=typeof r.default[t]?"orpheus://openurl":r.default[t]({param:n,noCall:!0})},P=function(){};x=[61323,50123,49387,39783,25023,16384,9489,8732,6467,5390,4678,3557,2878],w=function(e,t){P(e,t+1)};var E=function(e){var t=e.deepLink,n=e.storeLink,r=e.autoRedirect,i=e.emptylink,o=e.guideCallback,a=m.getPlatform2Str(),s=m.getClient(),c=t;"object"===(void 0===t?"undefined":(0,h.default)(t))&&(c=k(t));var u,l,f,d=n;d&&"android"===a&&(d=(u=window.location,l=u.hostname,l=v.test(l)?"qa.igame.163.com":"music.163.com",u.protocol+"//"+l+"/m/download")+"?dl="+encodeURIComponent(d));if(m.isInNEMapp())S(c);else if(9<=m.getIosLargeVersion()&&!m.isPad())"micromessenger"!==s&&"qq"!==s||(d=""),U(c,d,r,i);else if(s&&(f=s,-1<g.indexOf(f))){if(o&&o({platform:a,client:s}),"android"===a){var p=_(c);P(p)}}else S(c,d)},C=/^https?:\/\//,A=function(e,t){if(!e||!t)throw new Error("deepLink and resLink must be exist");var n=e;"object"===(void 0===e?"undefined":(0,h.default)(e))&&(n=k(e));var r=Date.now(),i=t;if(!C.test(i)){var o="/"===i.charAt(0)?"":"/";i=location.protocol+"//"+location.host+o+i}if(m.isInNEMapp())S(n);else if(9<=m.getIosLargeVersion())U(n,i,!0),setTimeout(function(){Date.now()-r<200&&(location.href=i)},100);else if(m.isAndroidChrome())S(n,i);else{"android"===m.getPlatform2Str()?P(_(n)):S(n),setTimeout(function(){location.href=i},0)}},O={wakeup:E,wakeupOpen:function(e){var t=e.deepLink,n=e.guideCallback;E({deepLink:t,storeLink:m.isInNEMapp()||m.isIos()?"":b(),autoRedirect:!m.isIos()&&!!m.getClient(),guideCallback:n})},wakeupBeforeLink:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t&&1===t.length&&t[0]&&"object"===(0,h.default)(t[0])){var r=t[0],i=r.deepLink,o=r.resLink;A(i,o)}t&&2===t.length&&A(t[0],t[1])},wakeupNoLink:function(e){var t=e.deepLink;E({deepLink:t,emptylink:!(11<=m.getIosLargeVersion()&&"micromessenger"===m.getClient()),autoRedirect:!1})},downloadApp:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.platform,n=e.client,r=e.storeLink,i=e.guideCallback,o=t||m.getPlatform2Str(),a=n||m.getClient(),s=r||b();return"ios"===o&&("weibo"===a||"douban"===a)||m.isPad()&&("micromessenger"===a||"qq"===a)?i?i({platform:o,client:a}):"":("undefined"!=typeof location&&(location.href=s),s)},orpheus:S,appendBIQuery:_,uvl:U,getAppDownUrl:b,androidWakeup:P=function(n,e){var r=e||0;if(!(x.length<=r)){var t=+new Date,i=(0,f.stringify)({k:t,s:(0,o.default)("-x1*0a<-"+t),r:n});a({url:"http://intent.music.163.com:"+x[r]+"/something2?"+i,crossOrigin:!0,method:"get",type:"html",contentType:"text/plain",success:function(e){var t=e;""!==t?(t=t.replace(/\'/g,'"'),(t=JSON.parse(t)).data===(0,o.default)("i am alive")||w(n,r)):w(n,r)},error:function(e){w(n,r)}})}}};R.default=O,I.exports=R.default}).call(this,L("yLpj"))},w2a5:function(e,t,n){var c=n("aCFj"),u=n("ne8i"),l=n("d/Gc");e.exports=function(s){return function(e,t,n){var r,i=c(e),o=u(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},"w2d+":function(e,t,n){"use strict";var r=n("hDam"),i=n("UO39"),o=n("SBuE"),a=n("NsO/");e.exports=n("MPFp")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},w6GO:function(e,t,n){var r=n("5vMV"),i=n("FpHa");e.exports=Object.keys||function(e){return r(e,i)}},wCsR:function(e,t,n){"use strict";var r=n("ZD67"),i=n("s5qY");n("4LiD")("WeakSet",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},wDwx:function(e,t,n){n("rE2o"),e.exports=n("N8g3").f("asyncIterator")},wYy3:function(e,t,n){n("9XZr"),e.exports=n("g3g5").String.padStart},wgeU:function(e,t){},wmvG:function(e,t,n){"use strict";var a=n("hswa").f,s=n("Kuth"),c=n("3Lyj"),u=n("m0Pp"),l=n("9gX7"),f=n("SlkY"),r=n("Afnz"),i=n("1TsA"),o=n("elZq"),d=n("nh4g"),p=n("Z6vF").fastKey,h=n("s5qY"),m=d?"_s":"size",g=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,o,n,r){var i=e(function(e,t){l(e,i,o,"_i"),e._t=o,e._i=s(null),e._f=void 0,e._l=void 0,e[m]=0,null!=t&&f(t,n,e[r],e)});return c(i.prototype,{clear:function(){for(var e=h(this,o),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var t=h(this,o),n=g(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[m]--}return!!n},forEach:function(e){h(this,o);for(var t,n=u(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!g(h(this,o),e)}}),d&&a(i.prototype,"size",{get:function(){return h(this,o)[m]}}),i},def:function(e,t,n){var r,i,o=g(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=h(e,n),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?i(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,i(1))},t?"entries":"values",!t,!0),o(n)}}},x8Yj:function(e,t,n){var r=n("XKFU"),i=n("LVwc"),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},x8ZO:function(e,t,n){var r=n("XKFU"),c=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=c(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=0<n?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(i)}})},xLLm:function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},xfY5:function(e,t,n){"use strict";var r=n("dyZX"),i=n("aagx"),o=n("LZWt"),a=n("Xbzi"),l=n("apmT"),s=n("eeVq"),c=n("kJMx").f,u=n("EemH").f,f=n("hswa").f,d=n("qncB").trim,p="Number",h=r[p],m=h,g=h.prototype,v=o(n("Kuth")(g))==p,y="trim"in String.prototype,b=function(e){var t=l(e,!1);if("string"==typeof t&&2<t.length){var n,r,i,o=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,s=t.slice(2),c=0,u=s.length;c<u;c++)if((a=s.charCodeAt(c))<48||i<a)return NaN;return parseInt(s,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(v?s(function(){g.valueOf.call(n)}):o(n)!=p)?a(new m(b(t)),n,h):b(t)};for(var x,w=n("nh4g")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;w.length>_;_++)i(m,x=w[_])&&!i(h,x)&&f(h,x,u(m,x));(h.prototype=g).constructor=h,n("KroJ")(r,p,h)}},xfxO:function(e,t,n){"use strict";t.__esModule=!0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}},t.classNamesShape=t.timeoutsShape=void 0;var r,i=(r=n("17x9"))&&r.__esModule?r:{default:r};var o=i.default.oneOfType([i.default.number,i.default.shape({enter:i.default.number,exit:i.default.number}).isRequired]);t.timeoutsShape=o;var a=i.default.oneOfType([i.default.string,i.default.shape({enter:i.default.string,exit:i.default.string,active:i.default.string}),i.default.shape({enter:i.default.string,enterDone:i.default.string,enterActive:i.default.string,exit:i.default.string,exitDone:i.default.string,exitActive:i.default.string})]);t.classNamesShape=a},xm80:function(e,t,n){"use strict";var r=n("XKFU"),i=n("D4iV"),o=n("7Qtz"),u=n("y3w9"),l=n("d/Gc"),f=n("ne8i"),a=n("0/R4"),s=n("dyZX").ArrayBuffer,d=n("69bn"),p=o.ArrayBuffer,h=o.DataView,c=i.ABV&&s.isView,m=p.prototype.slice,g=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(s!==p),{ArrayBuffer:p}),r(r.S+r.F*!i.CONSTR,v,{isView:function(e){return c&&c(e)||a(e)&&g in e}}),r(r.P+r.U+r.F*n("eeVq")(function(){return!new p(2).slice(1,void 0).byteLength}),v,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(u(this),e);for(var n=u(this).byteLength,r=l(e,n),i=l(void 0===t?n:t,n),o=new(d(this,p))(f(i-r)),a=new h(this),s=new h(o),c=0;r<i;)s.setUint8(c++,a.getUint8(r++));return o}}),n("elZq")(v)},xpiv:function(e,t,n){var r=n("XKFU");r(r.S,"Reflect",{ownKeys:n("mQtv")})},xpql:function(e,t,n){e.exports=!n("nh4g")&&!n("eeVq")(function(){return 7!=Object.defineProperty(n("Iw71")("div"),"a",{get:function(){return 7}}).a})},y3w9:function(e,t,n){var r=n("0/R4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},y7P4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEnv=t.compareVersion=t.getEnv=t.getOs=void 0;var h=r(n("GQeE")),m=r(n("s+Px")),g=r(n("TSUN")),v=n("TjBD");function r(e){return e&&e.__esModule?e:{default:e}}var y="";"undefined"!=typeof window&&(y=window.navigator.userAgent);var b=/SINA_ROBOT|SINA_WEIBO/gi,x=/\bChrome\/\d/,w=/\bVersion\/\d/,_={Weibo:"sina",MicroMessenger:"wx",YDDict:"youdaodict",youdao_dict:"youdaodict",YiXin:"yx",TXMicroBlog:"tencent",NewsApp:"neteasenews",QQ:"qq",RenRen:"renren",Douban:"douban"},M=["qq","weibo","micromessenger"],i=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r="string"==typeof e?e:e.userAgent;r=r||y;var t=(0,m.default)(r),n=(0,g.default)(r),i=function(){return!!t.isWp},o=function(){return!!(!i()&&t.isIos)},a=function(){return"ipad"===t.name},s=function(){return o()?t.version:""},c=function(){return!!(!i()&&t.isAnd)},u=function(){return i()?3:o()?1:c()?2:0},l=function(){return n.client},f=function(){return!!n.isNEMapp},d=function(){return f()?n.version:""},p=function(){return!!n.isNEMIpad};return{getPlatform:u,getPlatform2Str:function(){switch(u()){case 1:return"ios";case 2:return"android";case 3:return"wp";default:return"other"}},getOSVersionStr:function(){return t.version||""},getDevicePro:function(){return i()?"uwp"===t.name?31:30:o()?a()?11:10:c()?20:0},getDevicePro2Str:function(){return t.name},getDevice:function(){return a()?"pad":"phone"},getClient:l,getIosLargeVersion:function(){var e=s();return e&&"string"==typeof e?parseInt(e.split(".")[0],10):-1},getIosVersion:s,getAndroidVersion:function(){return c()?t.version:""},getWPVersion:function(){return i()?t.version:""},getAppVersion:d,getIpadAppVersion:function(){return p()?n.version:""},isIos:o,isPad:a,isAndroid:c,isAndroidChrome:function(){var e=c(),t=x.test(r),n=!w.test(r);return e&&t&&n},isWP:i,isWP10:function(){return!!i()&&"uwp"===t.name},isMobile:function(){return t.isMobile},isSinaRobot:function(){return null!==r.match(b)},isUnsupportedClient:function(){return-1!==M.indexOf(l())},isIpadQQ:function(){return a()&&"qq"===n.client},isInNEMapp:f,isInNEMIpad:p,fetchLogByClient:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n="";return(0,h.default)(_).forEach(function(e){e.toLowerCase()===t&&(n=_[e])}),n},isHigherVersion:function(e){return!(!f()||!e)&&1===(0,v.compareVersion)(d(),e)},isLowerVersion:function(e){return!(!f()||!e)&&-1===(0,v.compareVersion)(d(),e)},isEqualVersion:function(e){return!(!f()||!e)&&0===(0,v.compareVersion)(d(),e)},os:t,device:n}};t.getOs=m.default,t.getEnv=g.default,t.compareVersion=v.compareVersion,t.createEnv=i,t.default=i()},yD6e:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},yKow:function(e,i,t){var o=t("e/Dd"),a=t("NPxG"),s=t("ekOh"),c=t("u/Db"),u=t("J6Nv"),l=t("7uVY"),n=o.getBCHDigit(7973);function f(e,t){return c.getCharCountIndicator(e,t)+4}function d(e,n){var r=0;return e.forEach(function(e){var t=f(e.mode,n);r+=t+e.getBitsLength()}),r}i.from=function(e,t){return u.isValid(e)?parseInt(e,10):t},i.getCapacity=function(e,t,n){if(!u.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=c.BYTE);var r=8*(o.getSymbolTotalCodewords(e)-a.getTotalCodewordsCount(e,t));if(n===c.MIXED)return r;var i=r-f(n,e);switch(n){case c.NUMERIC:return Math.floor(i/10*3);case c.ALPHANUMERIC:return Math.floor(i/11*2);case c.KANJI:return Math.floor(i/13);case c.BYTE:default:return Math.floor(i/8)}},i.getBestVersionForData=function(e,t){var n,r=s.from(t,s.M);if(l(e)){if(1<e.length)return function(e,t){for(var n=1;n<=40;n++)if(d(e,n)<=i.getCapacity(n,t,c.MIXED))return n}(e,r);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,t,n){for(var r=1;r<=40;r++)if(t<=i.getCapacity(r,n,e))return r}(n.mode,n.getLength(),r)},i.getEncodedBits=function(e){if(!u.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=o.getBCHDigit(t)-n;)t^=7973<<o.getBCHDigit(t)-n;return e<<12|t}},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},yM4b:function(e,t,n){var r=n("K0xU")("toPrimitive"),i=Date.prototype;r in i||n("Mukb")(i,r,n("g4EE"))},ycFn:function(e,t,n){"use strict";var r=n("TqRt");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n("yD6e"));e.exports=t.default},yfwS:function(e,t,n){"use strict";var i,r,o,a,s,c,u,l=n("9Qh4"),f=n("GpRL"),d=Function.prototype.apply,p=Function.prototype.call,h=Object.create,m=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n,r;return f(t),i.call(r=this,e,n=function(){o.call(r,e,n),d.call(t,this,arguments)}),n.__eeOnceListener__=t,this},s={on:i=function(e,t){var n;return f(t),v.call(this,"__ee__")?n=this.__ee__:(n=y.value=h(null),m(this,"__ee__",y),y.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:r,off:o=function(e,t){var n,r,i,o;if(f(t),!v.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(r=n[e]))for(o=0;i=r[o];++o)i!==t&&i.__eeOnceListener__!==t||(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},emit:a=function(e){var t,n,r,i,o;if(v.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)d.call(r,this,o)}else switch(arguments.length){case 1:p.call(i,this);break;case 2:p.call(i,this,arguments[1]);break;case 3:p.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];d.call(i,this,o)}}},c={on:l(i),once:l(r),off:l(o),emit:l(a)},u=g({},c),e.exports=t=function(e){return null==e?h(u):g(Object(e),c)},t.methods=s},yl30:function(e,t,n){"use strict";
/** @license React v16.3.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n("q1tI"),r=n("xLLm"),Ye=n("MgzW"),u=n("ohE5"),p=n("jl2H"),R=n("rzV7"),s=n("TWoB"),Be=n("t33a");function ze(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}i||ze("227");var l={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,i,o,a,s,c){(function(e,t,n,r,i,o,a,s,c){this._hasCaughtError=!1,this._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}).apply(l,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,c){if(l.invokeGuardedCallback.apply(this,arguments),l.hasCaughtError()){var u=l.clearCaughtError();l._hasRethrowError||(l._hasRethrowError=!0,l._rethrowError=u)}},rethrowCaughtError:function(){return function(){if(l._hasRethrowError){var e=l._rethrowError;throw l._rethrowError=null,l._hasRethrowError=!1,e}}.apply(l,arguments)},hasCaughtError:function(){return l._hasCaughtError},clearCaughtError:function(){if(l._hasCaughtError){var e=l._caughtError;return l._caughtError=null,l._hasCaughtError=!1,e}ze("198")}};var f=null,d={};function o(){if(f)for(var e in d){var t=d[e],n=f.indexOf(e);if(-1<n||ze("96",e),!m[n])for(var r in t.extractEvents||ze("97",e),n=(m[n]=t).eventTypes){var i=void 0,o=n[r],a=t,s=r;g.hasOwnProperty(s)&&ze("99",s);var c=(g[s]=o).phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&h(c[i],a,s);i=!0}else i=!!o.registrationName&&(h(o.registrationName,a,s),!0);i||ze("98",r,e)}}}function h(e,t,n){v[e]&&ze("100",e),v[e]=t,c[e]=t.eventTypes[n].dependencies}var m=[],g={},v={},c={};function a(e){f&&ze("101"),f=Array.prototype.slice.call(e),o()}function y(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];d.hasOwnProperty(t)&&d[t]===r||(d[t]&&ze("102",t),d[t]=r,n=!0)}n&&o()}var b=Object.freeze({plugins:m,eventNameDispatchConfigs:g,registrationNameModules:v,registrationNameDependencies:c,possibleRegistrationNames:null,injectEventPluginOrder:a,injectEventPluginsByName:y}),x=null,w=null,_=null;function M(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=_(r),l.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function T(e,t){return null==t&&ze("30"),null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function S(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var U=null;function k(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)M(e,t,n[i],r[i]);else n&&M(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function P(e){return k(e,!0)}function E(e){return k(e,!1)}var C={injectEventPluginOrder:a,injectEventPluginsByName:y};function A(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&ze("231",t,typeof n),n)}function O(e,t){null!==e&&(U=T(U,e)),e=U,U=null,e&&(S(e,t?P:E),U&&ze("95"),l.rethrowCaughtError())}function I(e,t,n,r){for(var i=null,o=0;o<m.length;o++){var a=m[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=T(i,a))}O(i,!1)}var L=Object.freeze({injection:C,getListener:A,runEventsInBatch:O,runExtractedEventsInBatch:I}),N=Math.random().toString(36).slice(2),D="__reactInternalInstance$"+N,j="__reactEventHandlers$"+N;function F(e){if(e[D])return e[D];for(;!e[D];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[D]).tag||6===e.tag?e:null}function V(e){if(5===e.tag||6===e.tag)return e.stateNode;ze("33")}function Y(e){return e[j]||null}var B=Object.freeze({precacheFiberNode:function(e,t){t[D]=e},getClosestInstanceFromNode:F,getInstanceFromNode:function(e){return!(e=e[D])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:V,getFiberCurrentPropsFromNode:Y,updateFiberProps:function(e,t){e[j]=t}});function z(e){for(;(e=e.return)&&5!==e.tag;);return e||null}function H(e,t,n){for(var r=[];e;)r.push(e),e=z(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function G(e,t,n){(t=A(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function W(e){e&&e.dispatchConfig.phasedRegistrationNames&&H(e._targetInst,G,e)}function q(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;H(t=t?z(t):null,G,e)}}function X(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=A(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function K(e){e&&e.dispatchConfig.registrationName&&X(e._targetInst,null,e)}function $(e){S(e,W)}function J(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=z(s))a++;s=0;for(var c=o;c;c=z(c))s++;for(;0<a-s;)i=z(i),a--;for(;0<s-a;)o=z(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=z(i),o=z(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=z(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=z(r);for(r=0;r<i.length;r++)X(i[r],"bubbled",e);for(e=n.length;0<e--;)X(n[e],"captured",t)}var Z=Object.freeze({accumulateTwoPhaseDispatches:$,accumulateTwoPhaseDispatchesSkipTarget:function(e){S(e,q)},accumulateEnterLeaveDispatches:J,accumulateDirectDispatches:function(e){S(e,K)}}),Q=null;function ee(){return!Q&&r.canUseDOM&&(Q="textContent"in document.documentElement?"textContent":"innerText"),Q}var te={_root:null,_startText:null,_fallbackText:null};function ne(){if(te._fallbackText)return te._fallbackText;var e,t,n=te._startText,r=n.length,i=re(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return te._fallbackText=i.slice(e,1<t?1-t:void 0),te._fallbackText}function re(){return"value"in te._root?te._root.value:te._root[ee()]}var ie="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),oe={type:null,target:null,currentTarget:u.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function ae(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?u.thatReturnsTrue:u.thatReturnsFalse,this.isPropagationStopped=u.thatReturnsFalse,this}function se(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ce(e){e instanceof this||ze("223"),e.destructor(),this.eventPool.length<10&&this.eventPool.push(e)}function ue(e){e.eventPool=[],e.getPooled=se,e.release=ce}Ye(ae.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=u.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=u.thatReturnsTrue)},persist:function(){this.isPersistent=u.thatReturnsTrue},isPersistent:u.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<ie.length;t++)this[ie[t]]=null}}),ae.Interface=oe,ae.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return Ye(i,n.prototype),((n.prototype=i).constructor=n).Interface=Ye({},r.Interface,e),n.extend=r.extend,ue(n),n},ue(ae);var le=ae.extend({data:null}),fe=ae.extend({data:null}),de=[9,13,27,32],pe=r.canUseDOM&&"CompositionEvent"in window,he=null;r.canUseDOM&&"documentMode"in document&&(he=document.documentMode);var me=r.canUseDOM&&"TextEvent"in window&&!he,ge=r.canUseDOM&&(!pe||he&&8<he&&he<=11),ve=String.fromCharCode(32),ye={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},be=!1;function xe(e,t){switch(e){case"topKeyUp":return-1!==de.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function we(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var _e=!1;var Me={eventTypes:ye,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(pe)e:{switch(e){case"topCompositionStart":i=ye.compositionStart;break e;case"topCompositionEnd":i=ye.compositionEnd;break e;case"topCompositionUpdate":i=ye.compositionUpdate;break e}i=void 0}else _e?xe(e,n)&&(i=ye.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(i=ye.compositionStart);return o=i?(ge&&(_e||i!==ye.compositionStart?i===ye.compositionEnd&&_e&&(o=ne()):(te._root=r,te._startText=re(),_e=!0)),i=le.getPooled(i,t,n,r),o?i.data=o:null!==(o=we(n))&&(i.data=o),$(i),i):null,(e=me?function(e,t){switch(e){case"topCompositionEnd":return we(t);case"topKeyPress":return 32!==t.which?null:(be=!0,ve);case"topTextInput":return(e=t.data)===ve&&be?null:e;default:return null}}(e,n):function(e,t){if(_e)return"topCompositionEnd"===e||!pe&&xe(e,t)?(e=ne(),te._root=null,te._startText=null,te._fallbackText=null,_e=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return ge?null:t.data;default:return null}}(e,n))?((t=fe.getPooled(ye.beforeInput,t,n,r)).data=e,$(t)):t=null,null===o?t:null===t?o:[o,t]}},Te=null,Se=null,Ue=null;function ke(e){if(e=w(e)){Te&&"function"==typeof Te.restoreControlledState||ze("194");var t=x(e.stateNode);Te.restoreControlledState(e.stateNode,e.type,t)}}var Pe={injectFiberControlledHostComponent:function(e){Te=e}};function Ee(e){Se?Ue?Ue.push(e):Ue=[e]:Se=e}function Ce(){return null!==Se||null!==Ue}function Ae(){if(Se){var e=Se,t=Ue;if(Ue=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}var Oe=Object.freeze({injection:Pe,enqueueStateRestore:Ee,needsStateRestore:Ce,restoreStateIfNeeded:Ae});function Ie(e,t){return e(t)}function Re(e,t,n){return e(t,n)}function Le(){}var Ne=!1;function De(e,t){if(Ne)return e(t);Ne=!0;try{return Ie(e,t)}finally{Ne=!1,Ce()&&(Le(),Ae())}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!je[e.type]:"textarea"===t}function Ve(e){return(e=e.target||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function He(e,t){return!(!r.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function Ge(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=Ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}(e))}function qe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ge(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Xe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ke="function"==typeof Symbol&&Symbol.for,$e=Ke?Symbol.for("react.element"):60103,Je=Ke?Symbol.for("react.call"):60104,Ze=Ke?Symbol.for("react.return"):60105,Qe=Ke?Symbol.for("react.portal"):60106,et=Ke?Symbol.for("react.fragment"):60107,tt=Ke?Symbol.for("react.strict_mode"):60108,nt=Ke?Symbol.for("react.provider"):60109,rt=Ke?Symbol.for("react.context"):60110,it=Ke?Symbol.for("react.async_mode"):60111,ot=Ke?Symbol.for("react.forward_ref"):60112,at="function"==typeof Symbol&&Symbol.iterator;function st(e){return null==e?null:"function"==typeof(e=at&&e[at]||e["@@iterator"])?e:null}function ct(e){if("function"==typeof(e=e.type))return e.displayName||e.name;if("string"==typeof e)return e;switch(e){case et:return"ReactFragment";case Qe:return"ReactPortal";case Je:return"ReactCall";case Ze:return"ReactReturn"}return null}function ut(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,i=ct(e),o=null;n&&(o=ct(n)),i="\n    in "+(i||"Unknown")+((n=r)?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i,e=e.return}while(e);return t}var lt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft={},dt={};function pt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new pt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new pt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new pt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){ht[e]=new pt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new pt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new pt(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){ht[e]=new pt(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){ht[e]=new pt(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){ht[e]=new pt(e,5,!1,e.toLowerCase(),null)});var mt=/[\-\:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var i,o=ht.hasOwnProperty(t)?ht[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}(t,n,o,r)&&(n=null),r||null===o?(i=t,(dt.hasOwnProperty(i)||!ft.hasOwnProperty(i)&&(lt.test(i)?dt[i]=!0:!(ft[i]=!0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function yt(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function bt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Tt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function wt(e,t){xt(e,t);var n=Tt(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?Mt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mt(e,t.type,Tt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _t(e,t){(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===e.value&&(e.value=""+e._wrapperState.initialValue),e.defaultValue=""+e._wrapperState.initialValue),""!==(t=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function Mt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Tt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);ht[t]=new pt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);ht[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);ht[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),ht.tabIndex=new pt("tabIndex",1,!1,"tabindex",null);var St={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}};function Ut(e,t,n){return(e=ae.getPooled(St.change,e,t,n)).type="change",Ee(n),$(e),e}var kt=null,Pt=null;function Et(e){O(e,!1)}function Ct(e){if(qe(V(e)))return e}function At(e,t){if("topChange"===e)return t}var Ot=!1;function It(){kt&&(kt.detachEvent("onpropertychange",Rt),Pt=kt=null)}function Rt(e){"value"===e.propertyName&&Ct(Pt)&&De(Et,e=Ut(Pt,e,Ve(e)))}function Lt(e,t,n){"topFocus"===e?(It(),Pt=n,(kt=t).attachEvent("onpropertychange",Rt)):"topBlur"===e&&It()}function Nt(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return Ct(Pt)}function Dt(e,t){if("topClick"===e)return Ct(t)}function jt(e,t){if("topInput"===e||"topChange"===e)return Ct(t)}r.canUseDOM&&(Ot=He("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:St,_isInputEventSupported:Ot,extractEvents:function(e,t,n,r){var i=t?V(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=At:Fe(i)?Ot?o=jt:(o=Nt,a=Lt):!(s=i.nodeName)||"input"!==s.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(o=Dt),o&&(o=o(e,t)))return Ut(o,n,r);a&&a(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&Mt(i,"number",i.value)}},Vt=ae.extend({view:null,detail:null}),Yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Yt[e])&&!!t[e]}function zt(){return Bt}var Ht=Vt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:zt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),Gt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Wt={eventTypes:Gt,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?F(t):null):e=null,e===t)return null;var o=null==e?i:V(e);i=null==t?i:V(t);var a=Ht.getPooled(Gt.mouseLeave,e,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,(n=Ht.getPooled(Gt.mouseEnter,t,n,r)).type="mouseenter",n.target=i,n.relatedTarget=o,J(a,n,e,t),[a,n]}};function qt(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function Xt(e){return!!(e=e._reactInternalFiber)&&2===qt(e)}function Kt(e){2!==qt(e)&&ze("188")}function $t(e){var t=e.alternate;if(!t)return 3===(t=qt(e))&&ze("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return Kt(i),e;if(a===r)return Kt(i),t;a=a.sibling}ze("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}a||ze("189")}}n.alternate!==r&&ze("190")}return 3!==n.tag&&ze("188"),n.stateNode.current===n?e:t}var Jt=ae.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zt=ae.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qt=Vt.extend({relatedTarget:null});function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rn=Vt.extend({key:function(e){if(e.key){var t=tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?nn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:zt,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),on=Ht.extend({dataTransfer:null}),an=Vt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:zt}),sn=ae.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cn=Ht.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),un={},ln={};function fn(e,t){var n=e[0].toUpperCase()+e.slice(1),r="on"+n;t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n="top"+n],isInteractive:t},un[e]=t,ln[n]=t}"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(e){fn(e,!0)}),"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(e){fn(e,!1)});var dn={eventTypes:un,isInteractiveTopLevelEventType:function(e){return void 0!==(e=ln[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=ln[e];if(!i)return null;switch(e){case"topKeyPress":if(0===en(n))return null;case"topKeyDown":case"topKeyUp":e=rn;break;case"topBlur":case"topFocus":e=Qt;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=Ht;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=on;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=an;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Jt;break;case"topTransitionEnd":e=sn;break;case"topScroll":e=Vt;break;case"topWheel":e=cn;break;case"topCopy":case"topCut":case"topPaste":e=Zt;break;default:e=ae}return $(t=e.getPooled(i,t,n,r)),t}},pn=dn.isInteractiveTopLevelEventType,hn=[];function mn(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=F(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],I(e.topLevelType,t,e.nativeEvent,Ve(e.nativeEvent))}var gn=!0;function vn(e){gn=!!e}function yn(e,t,n){if(!n)return null;e=(pn(e)?xn:wn).bind(null,e),n.addEventListener(t,e,!1)}function bn(e,t,n){if(!n)return null;e=(pn(e)?xn:wn).bind(null,e),n.addEventListener(t,e,!0)}function xn(e,t){Re(wn,e,t)}function wn(e,t){if(gn){var n=Ve(t);if(null!==(n=F(n))&&"number"==typeof n.tag&&2!==qt(n)&&(n=null),hn.length){var r=hn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{De(mn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,hn.length<10&&hn.push(e)}}}var _n=Object.freeze({get _enabled(){return gn},setEnabled:vn,isEnabled:function(){return gn},trapBubbledEvent:yn,trapCapturedEvent:bn,dispatchEvent:wn});function Mn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var Tn={animationend:Mn("Animation","AnimationEnd"),animationiteration:Mn("Animation","AnimationIteration"),animationstart:Mn("Animation","AnimationStart"),transitionend:Mn("Transition","TransitionEnd")},Sn={},Un={};function kn(e){if(Sn[e])return Sn[e];if(!Tn[e])return e;var t,n=Tn[e];for(t in n)if(n.hasOwnProperty(t)&&t in Un)return Sn[e]=n[t];return e}r.canUseDOM&&(Un=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);var Pn={topAnimationEnd:kn("animationend"),topAnimationIteration:kn("animationiteration"),topAnimationStart:kn("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:kn("transitionend"),topWheel:"wheel"},En={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Cn={},An=0,On="_reactListenersID"+(""+Math.random()).slice(2);function In(e){return Object.prototype.hasOwnProperty.call(e,On)||(e[On]=An++,Cn[e[On]]={}),Cn[e[On]]}function Rn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ln(e,t){var n,r=Rn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rn(r)}}function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}var Dn=r.canUseDOM&&"documentMode"in document&&document.documentMode<=11,jn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},Fn=null,Vn=null,Yn=null,Bn=!1;function zn(e,t){if(Bn||null==Fn||Fn!==p())return null;var n=Fn;return n="selectionStart"in n&&Nn(n)?{start:n.selectionStart,end:n.selectionEnd}:window.getSelection?{anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:void 0,Yn&&R(Yn,n)?null:(Yn=n,(e=ae.getPooled(jn.select,Vn,e,t)).type="select",e.target=Fn,$(e),e)}var Hn={eventTypes:jn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=In(o),i=c.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?V(t):window,e){case"topFocus":(Fe(o)||"true"===o.contentEditable)&&(Fn=o,Vn=t,Yn=null);break;case"topBlur":Yn=Vn=Fn=null;break;case"topMouseDown":Bn=!0;break;case"topContextMenu":case"topMouseUp":return Bn=!1,zn(n,r);case"topSelectionChange":if(Dn)break;case"topKeyDown":case"topKeyUp":return zn(n,r)}return null}};function Gn(e,t,n,r){this.tag=e,this.key=n,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Wn(e,t,n){var r=e.alternate;return null===r?((r=new Gn(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,(r.alternate=e).alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qn(e,t,n){var r=e.type,i=e.key;e=e.props;var o=void 0;if("function"==typeof r)o=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"==typeof r)o=5;else switch(r){case et:return Xn(e.children,t,n,i);case it:o=11,t|=3;break;case tt:o=11,t|=2;break;case Je:o=7;break;case Ze:o=9;break;default:if("object"==typeof r&&null!==r)switch(r.$$typeof){case nt:o=13;break;case rt:o=12;break;case ot:o=14;break;default:if("number"==typeof r.tag)return(t=r).pendingProps=e,t.expirationTime=n,t;ze("130",null==r?r:typeof r,"")}else ze("130",null==r?r:typeof r,"")}return(t=new Gn(o,e,i,t)).type=r,t.expirationTime=n,t}function Xn(e,t,n,r){return(e=new Gn(10,e,r,t)).expirationTime=n,e}function Kn(e,t,n){return(e=new Gn(6,e,null,t)).expirationTime=n,e}function $n(e,t,n){return(t=new Gn(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}C.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=B.getFiberCurrentPropsFromNode,w=B.getInstanceFromNode,_=B.getNodeFromInstance,C.injectEventPluginsByName({SimpleEventPlugin:dn,EnterLeaveEventPlugin:Wt,ChangeEventPlugin:Ft,SelectEventPlugin:Hn,BeforeInputEventPlugin:Me});var Jn=null,Zn=null;function Qn(t){return function(e){try{return t(e)}catch(e){}}}function er(e){"function"==typeof Jn&&Jn(e)}function tr(e){"function"==typeof Zn&&Zn(e)}function nr(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function rr(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}new Set;var ir=void 0,or=void 0;function ar(e){ir=or=null;var t=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=nr(null)),null!==t?null===(e=t.updateQueue)&&(e=t.updateQueue=nr(null)):e=null,or=e!==(ir=n)?e:null}function sr(e,t){ar(e),e=ir;var n=or;null===n?rr(e,t):null===e.last||null===n.last?(rr(e,t),rr(n,t)):(rr(e,t),n.last=t)}function cr(e,t,n,r){return"function"==typeof(e=e.partialState)?e.call(t,n,r):e}function ur(e,t,n,r,i,o){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,capturedValues:n.capturedValues,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var a=!0,s=n.first,c=!1;null!==s;){var u=s.expirationTime;if(o<u){var l=n.expirationTime;(0===l||u<l)&&(n.expirationTime=u),c||(c=!0,n.baseState=e)}else c||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(e=cr(s,r,e,i),a=!0):(u=cr(s,r,e,i))&&(e=a?Ye({},e,u):Ye(e,u),a=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(null===(u=n.callbackList)&&(u=n.callbackList=[]),u.push(s)),null!==s.capturedValue&&(null===(u=n.capturedValues)?n.capturedValues=[s.capturedValue]:u.push(s.capturedValue));s=s.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||null!==n.capturedValues||(t.updateQueue=null),c||(n.baseState=e),e}function lr(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var r=n[e],i=r.callback;r.callback=null,"function"!=typeof i&&ze("191",i),i.call(t)}}var fr=Array.isArray;function dr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(2!==n.tag&&ze("110"),r=n.stateNode),r||ze("147",e);var i=""+e;return null!==t&&null!==t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs===Be?r.refs={}:r.refs;null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&ze("148"),n._owner||ze("254",e)}return e}function pr(e,t){"textarea"!==e.type&&ze("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function hr(f){function d(e,t){if(f){var n=e.lastEffect;null!==n?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function p(e,t){if(!f)return null;for(;null!==t;)d(e,t),t=t.sibling;return null}function h(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=Wn(e,t,n)).index=0,e.sibling=null,e}function m(e,t,n){return e.index=n,f?null!==(n=e.alternate)?(n=n.index)<t?(e.effectTag=2,t):n:(e.effectTag=2,t):t}function s(e){return f&&null===e.alternate&&(e.effectTag=2),e}function o(e,t,n,r){return null===t||6!==t.tag?(t=Kn(n,e.mode,r)).return=e:(t=a(t,n,r)).return=e,t}function c(e,t,n,r){return null!==t&&t.type===n.type?(r=a(t,n.props,r)).ref=dr(e,t,n):(r=qn(n,e.mode,r)).ref=dr(e,t,n),r.return=e,r}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=$n(n,e.mode,r)).return=e:(t=a(t,n.children||[],r)).return=e,t}function l(e,t,n,r,i){return null===t||10!==t.tag?(t=Xn(n,e.mode,r,i)).return=e:(t=a(t,n,r)).return=e,t}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kn(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case $e:return(n=qn(t,e.mode,n)).ref=dr(e,null,t),n.return=e,n;case Qe:return(t=$n(t,e.mode,n)).return=e,t}if(fr(t)||st(t))return(t=Xn(t,e.mode,n,null)).return=e,t;pr(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case $e:return n.key===i?n.type===et?l(e,t,n.props.children,r,i):c(e,t,n,r):null;case Qe:return n.key===i?u(e,t,n,r):null}if(fr(n)||st(n))return null!==i?null:l(e,t,n,r,null);pr(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case $e:return e=e.get(null===r.key?n:r.key)||null,r.type===et?l(t,e,r.props.children,i,r.key):c(t,e,r,i);case Qe:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(fr(r)||st(r))return l(t,e=e.get(n)||null,r,i,null);pr(t,r)}return null}return function(e,t,n,r){"object"==typeof n&&null!==n&&n.type===et&&null===n.key&&(n=n.props.children);var i="object"==typeof n&&null!==n;if(i)switch(n.$$typeof){case $e:e:{var o=n.key;for(i=t;null!==i;){if(i.key===o){if(10===i.tag?n.type===et:i.type===n.type){p(e,i.sibling),(t=a(i,n.type===et?n.props.children:n.props,r)).ref=dr(e,i,n),t.return=e,e=t;break e}p(e,i);break}d(e,i),i=i.sibling}e=n.type===et?((t=Xn(n.props.children,e.mode,r,n.key)).return=e,t):((r=qn(n,e.mode,r)).ref=dr(e,t,n),r.return=e,r)}return s(e);case Qe:e:{for(i=n.key;null!==t;){if(t.key===i){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){p(e,t.sibling),(t=a(t,n.children||[],r)).return=e,e=t;break e}p(e,t);break}d(e,t),t=t.sibling}(t=$n(n,e.mode,r)).return=e,e=t}return s(e)}if("string"==typeof n||"number"==typeof n)return n=""+n,(t=null!==t&&6===t.tag?(p(e,t.sibling),a(t,n,r)):(p(e,t),Kn(n,e.mode,r))).return=e,s(e=t);if(fr(n))return function(t,e,n,r){for(var i=null,o=null,a=e,s=e=0,c=null;null!==a&&s<n.length;s++){a.index>s?(c=a,a=null):c=a.sibling;var u=v(t,a,n[s],r);if(null===u){null===a&&(a=c);break}f&&a&&null===u.alternate&&d(t,a),e=m(u,e,s),null===o?i=u:o.sibling=u,o=u,a=c}if(s===n.length)return p(t,a),i;if(null===a){for(;s<n.length;s++)(a=g(t,n[s],r))&&(e=m(a,e,s),null===o?i=a:o.sibling=a,o=a);return i}for(a=h(t,a);s<n.length;s++)(c=y(a,t,s,n[s],r))&&(f&&null!==c.alternate&&a.delete(null===c.key?s:c.key),e=m(c,e,s),null===o?i=c:o.sibling=c,o=c);return f&&a.forEach(function(e){return d(t,e)}),i}(e,t,n,r);if(st(n))return function(t,e,n,r){var i=st(n);"function"!=typeof i&&ze("150"),null==(n=i.call(n))&&ze("151");for(var o=i=null,a=e,s=e=0,c=null,u=n.next();null!==a&&!u.done;s++,u=n.next()){a.index>s?(c=a,a=null):c=a.sibling;var l=v(t,a,u.value,r);if(null===l){a||(a=c);break}f&&a&&null===l.alternate&&d(t,a),e=m(l,e,s),null===o?i=l:o.sibling=l,o=l,a=c}if(u.done)return p(t,a),i;if(null===a){for(;!u.done;s++,u=n.next())null!==(u=g(t,u.value,r))&&(e=m(u,e,s),null===o?i=u:o.sibling=u,o=u);return i}for(a=h(t,a);!u.done;s++,u=n.next())null!==(u=y(a,t,s,u.value,r))&&(f&&null!==u.alternate&&a.delete(null===u.key?s:u.key),e=m(u,e,s),null===o?i=u:o.sibling=u,o=u);return f&&a.forEach(function(e){return d(t,e)}),i}(e,t,n,r);if(i&&pr(e,n),void 0===n)switch(e.tag){case 2:case 1:ze("152",(r=e.type).displayName||r.name||"Component")}return p(e,t)}}var mr=hr(!0),gr=hr(!1);function vr(e,t,n,r,i,o,a){function c(e,t,n){s(e,t,n,t.expirationTime)}function s(e,t,n,r){t.child=null===e?gr(t,null,n,r):mr(t,e.child,n,r)}function u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function l(e,t,n,r,i,o){if(u(e,t),!n&&!i)return r&&T(t,!1),p(e,t);n=t.stateNode,Xe.current=t;var a=i?null:n.render();return t.effectTag|=1,i&&(s(e,t,null,o),t.child=null),s(e,t,a,o),t.memoizedState=n.state,t.memoizedProps=n.props,r&&T(t,!0),t.child}function f(e){var t=e.stateNode;t.pendingContext?M(e,t.pendingContext,t.pendingContext!==t.context):t.context&&M(e,t.context,!1),v(e,t.containerInfo)}function d(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===t&&0!=(o&n)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}o=o.return}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){o=i;break}o=o.return}i=o}}function p(e,t){if(null!==e&&t.child!==e.child&&ze("153"),null!==t.child){var n=Wn(e=t.child,e.pendingProps,e.expirationTime);for((t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wn(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}var h=e.shouldSetTextContent,m=e.shouldDeprioritizeSubtree,g=t.pushHostContext,v=t.pushHostContainer,y=r.pushProvider,b=n.getMaskedContext,x=n.getUnmaskedContext,w=n.hasContextChanged,_=n.pushContextProvider,M=n.pushTopLevelContextObject,T=n.invalidateContextProvider,S=i.enterHydrationState,U=i.resetHydrationState,k=i.tryToClaimNextHydratableInstance,P=(e=function(e,i,o,l,f){function d(e,t,n,r,i,o){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var a=e.stateNode;return e=e.type,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,i,o):!(e.prototype&&e.prototype.isPureReactComponent&&R(t,n)&&R(r,i))}function s(e,t){t.updater=y,(e.stateNode=t)._reactInternalFiber=e}function p(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&y.enqueueReplaceState(t,t.state,null)}function h(e,t,n,r){if("function"==typeof(e=e.type).getDerivedStateFromProps)return e.getDerivedStateFromProps.call(null,n,r)}var c=e.cacheContext,m=e.getMaskedContext,g=e.getUnmaskedContext,u=e.isContextConsumer,v=e.hasContextChanged,y={isMounted:Xt,enqueueSetState:function(e,t,n){e=e._reactInternalFiber,n=void 0===n?null:n;var r=o(e);sr(e,{expirationTime:r,partialState:t,callback:n,isReplace:!1,isForced:!1,capturedValue:null,next:null}),i(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber,n=void 0===n?null:n;var r=o(e);sr(e,{expirationTime:r,partialState:t,callback:n,isReplace:!0,isForced:!1,capturedValue:null,next:null}),i(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber,t=void 0===t?null:t;var n=o(e);sr(e,{expirationTime:n,partialState:null,callback:t,isReplace:!1,isForced:!0,capturedValue:null,next:null}),i(e,n)}};return{adoptClassInstance:s,callGetDerivedStateFromProps:h,constructClassInstance:function(e,t){var n=e.type,r=g(e),i=u(e),o=i?m(e,r):Be,a=null!==(n=new n(t,o)).state&&void 0!==n.state?n.state:null;return s(e,n),e.memoizedState=a,null!=(t=h(e,0,t,a))&&(e.memoizedState=Ye({},e.memoizedState,t)),i&&c(e,r,o),n},mountClassInstance:function(e,t){var n=e.type,r=e.alternate,i=e.stateNode,o=e.pendingProps,a=g(e);i.props=o,i.state=e.memoizedState,i.refs=Be,i.context=m(e,a),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(n=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&y.enqueueReplaceState(i,i.state,null),null!==(n=e.updateQueue)&&(i.state=ur(r,e,n,i,o,t))),"function"==typeof i.componentDidMount&&(e.effectTag|=4)},resumeMountClassInstance:function(e,t){var n=e.type,r=e.stateNode;r.props=e.memoizedProps,r.state=e.memoizedState;var i=e.memoizedProps,o=e.pendingProps,a=r.context,s=g(e);s=m(e,s),(n="function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(i!==o||a!==s)&&p(e,r,o,s),a=e.memoizedState,t=null!==e.updateQueue?ur(null,e,e.updateQueue,r,o,t):a;var c=void 0;return i!==o&&(c=h(e,0,o,t)),null!=c&&(t=null==t?c:Ye({},t,c)),i!==o||a!==t||v()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate?((i=d(e,i,o,a,t,s))?(n||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(e.effectTag|=4)):("function"==typeof r.componentDidMount&&(e.effectTag|=4),l(e,o),f(e,t)),r.props=o,r.state=t,r.context=s,i):("function"==typeof r.componentDidMount&&(e.effectTag|=4),!1)},updateClassInstance:function(e,t,n){var r=t.type,i=t.stateNode;i.props=t.memoizedProps,i.state=t.memoizedState;var o=t.memoizedProps,a=t.pendingProps,s=i.context,c=g(t);c=m(t,c),(r="function"==typeof r.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==a||s!==c)&&p(t,i,a,c),s=t.memoizedState,n=null!==t.updateQueue?ur(e,t,t.updateQueue,i,a,n):s;var u=void 0;return o!==a&&(u=h(t,0,a,n)),null!=u&&(n=null==n?u:Ye({},n,u)),o!==a||s!==n||v()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate?((u=d(t,o,a,s,n,c))?(r||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(a,n,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,n,c)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=2048)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=2048),l(t,a),f(t,n)),i.props=a,i.state=n,i.context=c,u):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=2048),!1)}}}(n,o,a,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t})).adoptClassInstance,E=e.callGetDerivedStateFromProps,C=e.constructClassInstance,A=e.mountClassInstance,O=e.resumeMountClassInstance,I=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:f(t);break;case 2:_(t);break;case 4:v(t,t.stateNode.containerInfo);break;case 13:y(t)}return null}switch(t.tag){case 0:null!==e&&ze("155");var r=t.type,i=t.pendingProps,o=x(t);return r=r(i,o=b(t,o)),t.effectTag|=1,e="object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"==typeof o.getDerivedStateFromProps&&(null!=(i=E(t,r,i,t.memoizedState))&&(t.memoizedState=Ye({},t.memoizedState,i))),i=_(t),P(t,r),A(t,n),l(e,t,!0,i,!1,n)):(t.tag=1,c(e,t,r),t.memoizedProps=i,t.child);case 1:return i=t.type,n=t.pendingProps,e=w()||t.memoizedProps!==n?(r=x(t),i=i(n,r=b(t,r)),t.effectTag|=1,c(e,t,i),t.memoizedProps=n,t.child):p(e,t);case 2:i=_(t),r=null===e?null===t.stateNode?(C(t,t.pendingProps),A(t,n),!0):O(t,n):I(e,t,n),o=!1;var a=t.updateQueue;return null!==a&&null!==a.capturedValues&&(o=r=!0),l(e,t,r,i,o,n);case 3:e:if(f(t),r=t.updateQueue,null!==r){if(o=t.memoizedState,i=ur(e,t,r,null,null,n),t.memoizedState=i,null!==(r=t.updateQueue)&&null!==r.capturedValues)r=null;else{if(o===i){U(),e=p(e,t);break e}r=i.element}o=t.stateNode,(null===e||null===e.child)&&o.hydrate&&S(t)?(t.effectTag|=2,t.child=gr(t,null,r,n)):(U(),c(e,t,r)),t.memoizedState=i,e=t.child}else U(),e=p(e,t);return e;case 5:return g(t),null===e&&k(t),i=t.type,a=t.memoizedProps,r=t.pendingProps,o=null!==e?e.memoizedProps:null,e=w()||a!==r||((a=1&t.mode&&m(i,r))&&(t.expirationTime=1073741823),a&&1073741823===n)?(a=r.children,h(i,r)?a=null:o&&h(i,o)&&(t.effectTag|=16),u(e,t),1073741823!==n&&1&t.mode&&m(i,r)?(t.expirationTime=1073741823,t.memoizedProps=r,null):(c(e,t,a),t.memoizedProps=r,t.child)):p(e,t);case 6:return null===e&&k(t),t.memoizedProps=t.pendingProps,null;case 8:t.tag=7;case 7:return i=t.pendingProps,w()||t.memoizedProps!==i||(i=t.memoizedProps),r=i.children,t.stateNode=null===e?gr(t,t.stateNode,r,n):mr(t,e.stateNode,r,n),t.memoizedProps=i,t.stateNode;case 9:return null;case 4:return v(t,t.stateNode.containerInfo),i=t.pendingProps,e=w()||t.memoizedProps!==i?(null===e?t.child=mr(t,null,i,n):c(e,t,i),t.memoizedProps=i,t.child):p(e,t);case 14:return c(e,t,n=(n=t.type.render)(t.pendingProps,t.ref)),t.memoizedProps=n,t.child;case 10:return n=t.pendingProps,e=w()||t.memoizedProps!==n?(c(e,t,n),t.memoizedProps=n,t.child):p(e,t);case 11:return n=t.pendingProps.children,e=w()||null!==n&&t.memoizedProps!==n?(c(e,t,n),t.memoizedProps=n,t.child):p(e,t);case 13:return function(e,t,n){var r=t.type.context,i=t.pendingProps,o=t.memoizedProps;if(!w()&&o===i)return t.stateNode=0,y(t),p(e,t);var a=i.value;if(t.memoizedProps=i,null===o)a=1073741823;else if(o.value===i.value){if(o.children===i.children)return t.stateNode=0,y(t),p(e,t);a=0}else{var s=o.value;if(s===a&&(0!==s||1/s==1/a)||s!=s&&a!=a){if(o.children===i.children)return t.stateNode=0,y(t),p(e,t);a=0}else if(a="function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823,0==(a|=0)){if(o.children===i.children)return t.stateNode=0,y(t),p(e,t)}else d(t,r,a,n)}return t.stateNode=a,y(t),c(e,t,i.children),t.child}(e,t,n);case 12:r=t.type,o=t.pendingProps;var s=t.memoizedProps;return i=r._currentValue,a=r._changedBits,e=w()||0!==a||s!==o?(null==(s=(t.memoizedProps=o).unstable_observedBits)&&(s=1073741823),0!=(a&(t.stateNode=s))&&d(t,r,a,n),c(e,t,n=(n=o.children)(i)),t.child):p(e,t);default:ze("156")}}}}function yr(e,t){var n=t.source;null===t.stack&&ut(n),null!==n&&ct(n),t=t.value,null!==e&&2===e.tag&&ct(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}var br={};function xr(e){function o(){if(null!==me)for(var e=me.return;null!==e;)K(e),e=e.return;ve=0,me=ge=null,xe=!1}function i(e){return null!==we&&we.has(e)}function a(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(512&e.effectTag)){t=W(t,e,ve);var i=e;if(1073741823===ve||1073741823!==i.expirationTime){e:switch(i.tag){case 3:case 2:var o=i.updateQueue;o=null===o?0:o.expirationTime;break e;default:o=0}for(var a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){xe=!0;break}e=n}else{if(null!==(e=X(e)))return e.effectTag&=2559,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function s(e){var t=G(e.alternate,e,ve);return null===t&&(t=a(e)),Xe.current=null,t}function r(e,t,n){he&&ze("243"),he=!0,t===ve&&e===ge&&null!==me||(o(),ve=t,me=Wn((ge=e).current,null,ve),e.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(n)for(;null!==me&&!w();)me=s(me);else for(;null!==me;)me=s(me)}catch(e){if(null===me){r=!0,_(e);break}var i=(n=me).return;if(null===i){r=!0,_(e);break}q(i,n,e),me=a(n)}break}return he=!1,r||null!==me?null:xe?(e.pendingCommitExpirationTime=t,e.current.alternate):void ze("262")}function c(e,t,n,r){sr(t,{expirationTime:r,partialState:null,callback:null,isReplace:!(e={value:n,source:e,stack:ut(e)}),isForced:!1,capturedValue:e,next:null}),u(t,r)}function d(e,t){e:{he&&!be&&ze("263");for(var n=e.return;null!==n;){switch(n.tag){case 2:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof r.componentDidCatch&&!i(r)){c(e,n,t,1),e=void 0;break e}break;case 3:c(e,n,t,1),e=void 0;break e}n=n.return}3===e.tag&&c(e,e,t,1),e=void 0}return e}function t(e){return e=0!==pe?pe:he?be?1:ve:1&e.mode?Ne?10*(1+((p()+50)/10|0)):25*(1+((p()+500)/25|0)):1,Ne&&(0===Ee||Ee<e)&&(Ee=e),e}function u(e,t){e:{for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag){t=void 0;break e}var n=e.stateNode;!he&&0!==ve&&t<ve&&o(),he&&!be&&ge===n||h(n,t),je<Fe&&ze("185")}e=e.return}t=void 0}return t}function p(){return fe=oe()-le,2+(fe/10|0)}function l(e,t,n,r,i){var o=pe;pe=1;try{return e(t,n,r,i)}finally{pe=o}}function f(e){if(0!==Te){if(Te<e)return;se(Se)}var t=oe()-le;Se=ae(n,{timeout:10*((Te=e)-2)-t})}function h(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===Me?(_e=Me=e,e.nextScheduledRoot=e):(Me=Me.nextScheduledRoot=e).nextScheduledRoot=_e;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}Ue||(Re?Le&&b(ke=e,Pe=1,!1):1===t?g():f(t))}function m(){var e=0,t=null;if(null!==Me)for(var n=Me,r=_e;null!==r;){var i=r.remainingExpirationTime;if(0===i){if((null===n||null===Me)&&ze("244"),r===r.nextScheduledRoot){_e=Me=r.nextScheduledRoot=null;break}if(r===_e)_e=i=r.nextScheduledRoot,Me.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===Me){(Me=n).nextScheduledRoot=_e,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=r),r===Me)break;r=(n=r).nextScheduledRoot}}null!==(n=ke)&&n===t&&1===e?Fe++:Fe=0,ke=t,Pe=e}function n(e){v(0,!0,e)}function g(){v(1,!1,null)}function v(e,t,n){if(Ie=n,m(),t)for(;null!==ke&&0!==Pe&&(0===e||Pe<=e)&&(!Ce||p()>=Pe);)b(ke,Pe,!Ce),m();else for(;null!==ke&&0!==Pe&&(0===e||Pe<=e);)b(ke,Pe,!1),m();null!==Ie&&(Te=0,Se=-1),0!==Pe&&f(Pe),Ie=null,Ce=!1,y()}function y(){if(Fe=0,null!==De){var e=De;De=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Ae||(Ae=!0,Oe=e)}}}if(Ae)throw e=Oe,Oe=null,Ae=!1,e}function b(e,t,n){Ue&&ze("245"),Ue=!0,n?null!==(n=e.finishedWork)?x(e,n,t):(e.finishedWork=null)!==(n=r(e,t,!0))&&(w()?e.finishedWork=n:x(e,n,t)):null!==(n=e.finishedWork)?x(e,n,t):(e.finishedWork=null)!==(n=r(e,t,!1))&&x(e,n,t),Ue=!1}function x(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===De?De=[r]:De.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);e.finishedWork=null,be=he=!0,(n=t.stateNode).current===t&&ze("177"),0===(r=n.pendingCommitExpirationTime)&&ze("261"),n.pendingCommitExpirationTime=0;var i=p();if(Xe.current=null,1<t.effectTag)if(null!==t.lastEffect)var o=(t.lastEffect.nextEffect=t).firstEffect;else o=t;else o=t.firstEffect;for(ce(n.containerInfo),ye=o;null!==ye;){var a=!1,s=void 0;try{for(;null!==ye;)2048&ye.effectTag&&$(ye.alternate,ye),ye=ye.nextEffect}catch(e){a=!0,s=e}a&&(null===ye&&ze("178"),d(ye,s),null!==ye&&(ye=ye.nextEffect))}for(ye=o;null!==ye;){a=!1,s=void 0;try{for(;null!==ye;){var c=ye.effectTag;if(16&c&&J(ye),128&c){var u=ye.alternate;null!==u&&ie(u)}switch(14&c){case 2:Z(ye),ye.effectTag&=-3;break;case 6:Z(ye),ye.effectTag&=-3,ee(ye.alternate,ye);break;case 4:ee(ye.alternate,ye);break;case 8:Q(ye)}ye=ye.nextEffect}}catch(e){a=!0,s=e}a&&(null===ye&&ze("178"),d(ye,s),null!==ye&&(ye=ye.nextEffect))}for(ue(n.containerInfo),n.current=t,ye=o;null!==ye;){c=!1,u=void 0;try{for(o=n,a=i,s=r;null!==ye;){var l=ye.effectTag;36&l&&te(o,ye.alternate,ye,a,s),256&l&&ne(ye,_),128&l&&re(ye);var f=ye.nextEffect;ye.nextEffect=null,ye=f}}catch(e){c=!0,u=e}c&&(null===ye&&ze("178"),d(ye,u),null!==ye&&(ye=ye.nextEffect))}he=be=!1,er(t.stateNode),0===(t=n.current.expirationTime)&&(we=null),e.remainingExpirationTime=t}function w(){return!(null===Ie||Ie.timeRemaining()>Ve)&&(Ce=!0)}function _(e){null===ke&&ze("246"),ke.remainingExpirationTime=0,Ae||(Ae=!0,Oe=e)}var M,T,S,U,k,P,E,C,A,O=(M=[],T=-1,{createCursor:function(e){return{current:e}},isEmpty:function(){return-1===T},pop:function(e){T<0||(e.current=M[T],M[T]=null,T--)},push:function(e,t){M[++T]=e.current,e.current=t},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}),I=function(e,t){function r(e){return e===br&&ze("174"),e}var i=e.getChildHostContext,n=e.getRootHostContext;e=t.createCursor;var o=t.push,a=t.pop,s=e(br),c=e(br),u=e(br);return{getHostContext:function(){return r(s.current)},getRootHostContainer:function(){return r(u.current)},popHostContainer:function(e){a(s,e),a(c,e),a(u,e)},popHostContext:function(e){c.current===e&&(a(s,e),a(c,e))},pushHostContainer:function(e,t){o(u,t,e),t=n(t),o(c,e,e),o(s,t,e)},pushHostContext:function(e){var t=r(u.current),n=r(s.current);n!==(t=i(n,e.type,t))&&(o(c,e,e),o(s,t,e))}}}(e,O),R=function(e){function a(e,t,n){(e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n}function n(e){return 2===e.tag&&null!=e.type.childContextTypes}function i(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var i in n=n.getChildContext())i in r||ze("108",ct(e)||"Unknown",i);return Ye({},t,n)}var t=e.createCursor,o=e.push,s=e.pop,c=t(Be),u=t(!1),l=Be;return{getUnmaskedContext:function(e){return n(e)?l:c.current},cacheContext:a,getMaskedContext:function(e,t){var n=e.type.contextTypes;if(!n)return Be;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&a(e,t,o),o},hasContextChanged:function(){return u.current},isContextConsumer:function(e){return 2===e.tag&&null!=e.type.contextTypes},isContextProvider:n,popContextProvider:function(e){n(e)&&(s(u,e),s(c,e))},popTopLevelContextObject:function(e){s(u,e),s(c,e)},pushTopLevelContextObject:function(e,t,n){null!=c.cursor&&ze("168"),o(c,t,e),o(u,n,e)},processChildContext:i,pushContextProvider:function(e){if(!n(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Be,l=c.current,o(c,t,e),o(u,u.current,e),!0},invalidateContextProvider:function(e,t){var n=e.stateNode;if(n||ze("169"),t){var r=i(e,l);n.__reactInternalMemoizedMergedChildContext=r,s(u,e),s(c,e),o(c,r,e)}else s(u,e);o(u,t,e)},findCurrentUnmaskedContext:function(e){for((2!==qt(e)||2!==e.tag)&&ze("170");3!==e.tag;){if(n(e))return e.stateNode.__reactInternalMemoizedMergedChildContext;(e=e.return)||ze("171")}return e.stateNode.context}}}(O);U=(S=O).createCursor,k=S.push,P=S.pop,E=U(null),C=U(null),A=U(0),O={pushProvider:function(e){var t=e.type.context;k(A,t._changedBits,e),k(C,t._currentValue,e),k(E,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode},popProvider:function(e){var t=A.current,n=C.current;P(E,e),P(C,e),P(A,e),(e=e.type.context)._currentValue=n,e._changedBits=t}};var L,N,D,j,F,V,Y,B,z,H=function(e){function n(e,t){var n=new Gn(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function r(e,t){switch(e.tag){case 5:return null!==(t=a(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=s(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function i(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;f=e}var o=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){ze("175")},prepareToHydrateHostTextInstance:function(){ze("176")},popHydrationState:function(){return!1}};var a=e.canHydrateInstance,s=e.canHydrateTextInstance,c=e.getNextHydratableSibling,u=e.getFirstHydratableChild,l=e.hydrateInstance,t=e.hydrateTextInstance,f=null,d=null,p=!1;return{enterHydrationState:function(e){return d=u(e.stateNode.containerInfo),f=e,p=!0},resetHydrationState:function(){d=f=null,p=!1},tryToClaimNextHydratableInstance:function(e){if(p){var t=d;if(t){if(!r(e,t)){if(!(t=c(t))||!r(e,t))return e.effectTag|=2,p=!1,void(f=e);n(f,d)}f=e,d=u(t)}else e.effectTag|=2,p=!1,f=e}},prepareToHydrateHostInstance:function(e,t,n){return t=l(e.stateNode,e.type,e.memoizedProps,t,n,e),null!==(e.updateQueue=t)},prepareToHydrateHostTextInstance:function(e){return t(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==f)return!1;if(!p)return i(e),!(p=!0);var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!o(t,e.memoizedProps))for(t=d;t;)n(e,t),t=c(t);return i(e),d=f?c(e.stateNode):null,!0}}}(e),G=vr(e,I,R,O,H,u,t).beginWork,W=function(e,t,n,r,i){function c(e){e.effectTag|=4}var u=e.createInstance,l=e.createTextInstance,f=e.appendInitialChild,d=e.finalizeInitialChildren,p=e.prepareUpdate,o=e.persistence,h=t.getRootHostContainer,m=t.popHostContext,g=t.getHostContext,v=t.popHostContainer,y=n.popContextProvider,b=n.popTopLevelContextObject,x=r.popProvider,w=i.prepareToHydrateHostInstance,_=i.prepareToHydrateHostTextInstance,M=i.popHydrationState,T=void 0,S=void 0,U=void 0;return e.mutation?(T=function(){},S=function(e,t,n){(t.updateQueue=n)&&c(t)},U=function(e,t,n,r){n!==r&&c(t)}):ze(o?"235":"236"),{completeWork:function(e,t,n){var r=t.pendingProps;switch(t.tag){case 1:return null;case 2:return y(t),e=t.stateNode,null!==(r=t.updateQueue)&&null!==r.capturedValues&&(t.effectTag&=-65,"function"==typeof e.componentDidCatch?t.effectTag|=256:r.capturedValues=null),null;case 3:return v(t),b(t),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(M(t),t.effectTag&=-3),T(t),null!==(e=t.updateQueue)&&null!==e.capturedValues&&(t.effectTag|=256),null;case 5:m(t),n=h();var i=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,a=t.stateNode,s=g();a=p(a,i,o,r,n,s),S(e,t,a,i,o,r,n,s),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!r)return null===t.stateNode&&ze("166"),null;if(e=g(),M(t))w(t,n,e)&&c(t);else{o=u(i,r,n,e,t);e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)f(o,s.stateNode);else if(4!==s.tag&&null!==s.child){s=(s.child.return=s).child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d(o,i,r,n,e)&&c(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)U(e,t,e.memoizedProps,r);else{if("string"!=typeof r)return null===t.stateNode&&ze("166"),null;e=h(),n=g(),M(t)?_(t)&&c(t):t.stateNode=l(r,e,n,t)}return null;case 7:(r=t.memoizedProps)||ze("165"),t.tag=8,i=[];e:for((o=t.stateNode)&&(o.return=t);null!==o;){if(5===o.tag||6===o.tag||4===o.tag)ze("247");else if(9===o.tag)i.push(o.pendingProps.value);else if(null!==o.child){o=(o.child.return=o).child;continue}for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}return r=(o=r.handler)(r.props,i),t.child=mr(t,null!==e?e.child:null,r,n),t.child;case 8:return t.tag=7,null;case 9:case 14:case 10:case 11:return null;case 4:return v(t),T(t),null;case 13:return x(t),null;case 12:return null;case 0:ze("167");default:ze("156")}}}}(e,I,R,O,H).completeWork;N=R,D=O,j=i,F=(L=I).popHostContainer,V=L.popHostContext,Y=N.popContextProvider,B=N.popTopLevelContextObject,z=D.popProvider;var q=(I={throwException:function(e,t,n){t.effectTag|=512,t.firstEffect=t.lastEffect=null,t={value:n,source:t,stack:ut(t)};do{switch(e.tag){case 3:return ar(e),e.updateQueue.capturedValues=[t],void(e.effectTag|=1024);case 2:if(n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&!j(n)){ar(e);var r=(n=e.updateQueue).capturedValues;return null===r?n.capturedValues=[t]:r.push(t),void(e.effectTag|=1024)}}e=e.return}while(null!==e)},unwindWork:function(e){switch(e.tag){case 2:Y(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return F(e),B(e),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return V(e),null;case 4:return F(e),null;case 13:return z(e),null;default:return null}},unwindInterruptedWork:function(e){switch(e.tag){case 2:Y(e);break;case 3:F(e),B(e);break;case 5:V(e);break;case 4:F(e);break;case 13:z(e)}}}).throwException,X=I.unwindWork,K=I.unwindInterruptedWork,$=(I=function(e,n,t,r,s){function i(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){n(t,e)}else e.current=null}function o(t){switch(tr(t),t.tag){case 2:i(t);var e=t.stateNode;if("function"==typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){n(t,e)}break;case 5:i(t);break;case 7:a(t.stateNode);break;case 4:f&&u(t)}}function a(e){for(var t=e;;)if(o(t),null===t.child||f&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t=(t.child.return=t).child}function c(e){return 5===e.tag||3===e.tag||4===e.tag}function u(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&ze("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)a(t),i?w(r,t.stateNode):x(r,t.stateNode);else if(4===t.tag?r=t.stateNode.containerInfo:o(t),null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var l=e.getPublicInstance,f=e.mutation;e=e.persistence,f||ze(e?"235":"236");var d=f.commitMount,p=f.commitUpdate,h=f.resetTextContent,m=f.commitTextUpdate,g=f.appendChild,v=f.appendChildToContainer,y=f.insertBefore,b=f.insertInContainerBefore,x=f.removeChild,w=f.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(e,t){switch(t.tag){case 2:if(2048&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;(e=t.stateNode).props=t.memoizedProps,e.state=t.memoizedState,t=e.getSnapshotBeforeUpdate(n,r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:break;default:ze("163")}},commitResetTextContent:function(e){h(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(c(t)){var n=t;break e}t=t.return}ze("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:ze("161")}16&n.effectTag&&(h(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||c(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)n?r?b(t,i.stateNode,n):y(t,i.stateNode,n):r?v(t,i.stateNode):g(t,i.stateNode);else if(4!==i.tag&&null!==i.child){i=(i.child.return=i).child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},commitDeletion:function(e){u(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;(t.updateQueue=null)!==o&&p(n,o,i,e,r,t)}break;case 6:null===t.stateNode&&ze("162"),n=t.memoizedProps,m(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:ze("163")}},commitLifeCycles:function(e,t,n){switch(n.tag){case 2:if(e=n.stateNode,4&n.effectTag)if(null===t)e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidMount();else{var r=t.memoizedProps;t=t.memoizedState,e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}null!==(n=n.updateQueue)&&lr(n,e);break;case 3:if(null!==(t=n.updateQueue)){if((e=null)!==n.child)switch(n.child.tag){case 5:e=l(n.child.stateNode);break;case 2:e=n.child.stateNode}lr(t,e)}break;case 5:e=n.stateNode,null===t&&4&n.effectTag&&d(e,n.type,n.memoizedProps,n);break;case 6:case 4:break;default:ze("163")}},commitErrorLogging:function(e,t){switch(e.tag){case 2:var n=e.type;t=e.stateNode;var r=e.updateQueue;(null===r||null===r.capturedValues)&&ze("264");var i=r.capturedValues;for(r.capturedValues=null,"function"!=typeof n.getDerivedStateFromCatch&&s(t),t.props=e.memoizedProps,t.state=e.memoizedState,n=0;n<i.length;n++){var o=(r=i[n]).value,a=r.stack;yr(e,r),t.componentDidCatch(o,{componentStack:null!==a?a:""})}break;case 3:for((null===(n=e.updateQueue)||null===n.capturedValues)&&ze("264"),i=n.capturedValues,n.capturedValues=null,n=0;n<i.length;n++)yr(e,r=i[n]),t(r.value);break;default:ze("265")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=l(n);break;default:e=n}"function"==typeof t?t(e):t.current=e}},commitDetachRef:function(e){null!==(e=e.ref)&&("function"==typeof e?e(null):e.current=null)}}}(e,d,0,0,function(e){null===we?we=new Set([e]):we.add(e)})).commitBeforeMutationLifeCycles,J=I.commitResetTextContent,Z=I.commitPlacement,Q=I.commitDeletion,ee=I.commitWork,te=I.commitLifeCycles,ne=I.commitErrorLogging,re=I.commitAttachRef,ie=I.commitDetachRef,oe=e.now,ae=e.scheduleDeferredCallback,se=e.cancelDeferredCallback,ce=e.prepareForCommit,ue=e.resetAfterCommit,le=oe(),fe=le,de=0,pe=0,he=!1,me=null,ge=null,ve=0,ye=null,be=!1,xe=!1,we=null,_e=null,Me=null,Te=0,Se=-1,Ue=!1,ke=null,Pe=0,Ee=0,Ce=!1,Ae=!1,Oe=null,Ie=null,Re=!1,Le=!1,Ne=!1,De=null,je=1e3,Fe=0,Ve=1;return{recalculateCurrentTime:p,computeExpirationForFiber:t,scheduleWork:u,requestWork:h,flushRoot:function(e,t){Ue&&ze("253"),b(ke=e,Pe=t,!1),g(),y()},batchedUpdates:function(e,t){var n=Re;Re=!0;try{return e(t)}finally{(Re=n)||Ue||g()}},unbatchedUpdates:function(e,t){if(Re&&!Le){Le=!0;try{return e(t)}finally{Le=!1}}return e(t)},flushSync:function(e,t){Ue&&ze("187");var n=Re;Re=!0;try{return l(e,t)}finally{Re=n,g()}},flushControlled:function(e){var t=Re;Re=!0;try{l(e)}finally{(Re=t)||Ue||v(1,!1,null)}},deferredUpdates:function(e){var t=pe;pe=25*(1+((p()+500)/25|0));try{return e()}finally{pe=t}},syncUpdates:l,interactiveUpdates:function(e,t,n){if(Ne)return e(t,n);Re||Ue||0===Ee||(v(Ee,!1,null),Ee=0);var r=Ne,i=Re;Re=Ne=!0;try{return e(t,n)}finally{Ne=r,(Re=i)||Ue||g()}},flushInteractiveUpdates:function(){Ue||0===Ee||(v(Ee,!1,null),Ee=0)},computeUniqueAsyncExpiration:function(){var e=25*(1+((p()+500)/25|0));return e<=de&&(e=de+1),de=e},legacyContext:R}}function wr(e){function o(e,t,n,r,i,o){if(r=t.current,n){n=n._reactInternalFiber;var a=u(n);n=l(n)?f(n,a):a}else n=Be;return null===t.context?t.context=n:t.pendingContext=n,sr(r,{expirationTime:i,partialState:{element:e},callback:void 0===(t=o)?null:t,isReplace:!1,isForced:!1,capturedValue:null,next:null}),c(r,i),i}function n(e){return null===(e=function(e){if(!(e=$t(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode}var t=e.getPublicInstance,a=(e=xr(e)).recalculateCurrentTime,s=e.computeExpirationForFiber,c=e.scheduleWork,r=e.legacyContext,u=r.findCurrentUnmaskedContext,l=r.isContextProvider,f=r.processChildContext;return{createContainer:function(e,t,n){return e={current:t=new Gn(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e},updateContainer:function(e,t,n,r){var i=t.current;return o(e,t,n,a(),i=s(i),r)},updateContainerAtExpirationTime:function(e,t,n,r,i){return o(e,t,n,a(),r,i)},flushRoot:e.flushRoot,requestWork:e.requestWork,computeUniqueAsyncExpiration:e.computeUniqueAsyncExpiration,batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,syncUpdates:e.syncUpdates,interactiveUpdates:e.interactiveUpdates,flushInteractiveUpdates:e.flushInteractiveUpdates,flushControlled:e.flushControlled,flushSync:e.flushSync,getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return t(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:n,findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=$t(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Jn=Qn(function(e){return t.onCommitFiberRoot(n,e)}),Zn=Qn(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}(Ye({},e,{findHostInstanceByFiber:function(e){return n(e)},findFiberByHostInstance:function(e){return t?t(e):null}}))}}}var _r=Object.freeze({default:wr}),Mr=_r&&wr||_r,Tr=Mr.default?Mr.default:Mr;var Sr="object"==typeof performance&&"function"==typeof performance.now,Ur=void 0;Ur=Sr?function(){return performance.now()}:function(){return Date.now()};var kr=void 0,Pr=void 0;if(r.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var Er=null,Cr=!1,Ar=-1,Or=!1,Ir=0,Rr=33,Lr=33,Nr=void 0;Nr=Sr?{didTimeout:!1,timeRemaining:function(){var e=Ir-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Ir-Date.now();return 0<e?e:0}};var Dr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Dr){if(Cr=!1,e=Ur(),Ir-e<=0){if(!(-1!==Ar&&Ar<=e))return void(Or||(Or=!0,requestAnimationFrame(jr)));Nr.didTimeout=!0}else Nr.didTimeout=!1;Ar=-1,e=Er,(Er=null)!==e&&e(Nr)}},!1);var jr=function(e){Or=!1;var t=e-Ir+Lr;t<Lr&&Rr<Lr?(t<8&&(t=8),Lr=t<Rr?Rr:t):Rr=t,Ir=e+Lr,Cr||(Cr=!0,window.postMessage(Dr,"*"))};kr=function(e,t){return Er=e,null!=t&&"number"==typeof t.timeout&&(Ar=Ur()+t.timeout),Or||(Or=!0,requestAnimationFrame(jr)),0},Pr=function(){Er=null,Cr=!1,Ar=-1}}else kr=window.requestIdleCallback,Pr=window.cancelIdleCallback;else kr=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})})},Pr=function(e){clearTimeout(e)};function Fr(e,t){var n,r;return e=Ye({children:void 0},t),n=t.children,r="",i.Children.forEach(n,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(r+=e)}),(t=r)&&(e.children=t),e}function Vr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Yr(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Br(e,t){return null!=t.dangerouslySetInnerHTML&&ze("91"),Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zr(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&ze("92"),Array.isArray(t)&&(t.length<=1||ze("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Hr(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Gr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var Wr="http://www.w3.org/1999/xhtml",qr="http://www.w3.org/2000/svg";function Xr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Xr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var $r,Jr=void 0,Zr=($r=function(e,t){if(e.namespaceURI!==qr||"innerHTML"in e)e.innerHTML=t;else{for((Jr=Jr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=Jr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return $r(e,t)})}:$r);function Qr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ei={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];function ni(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||ei.hasOwnProperty(i)&&ei[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ei).forEach(function(t){ti.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ei[e]=ei[t]})});var ri=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ii(e,t,n){t&&(ri[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&ze("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&ze("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||ze("61")),null!=t.style&&"object"!=typeof t.style&&ze("62",n()))}function oi(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=Wr,si=u.thatReturns("");function ci(e,t){var n=In(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=c[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?bn("topScroll","scroll",e):"topFocus"===i||"topBlur"===i?(bn("topFocus","focus",e),bn("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(He("cancel",!0)&&bn("topCancel","cancel",e),n.topCancel=!0):"topClose"===i?(He("close",!0)&&bn("topClose","close",e),n.topClose=!0):Pn.hasOwnProperty(i)&&yn(i,Pn[i],e),n[i]=!0)}}function ui(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===ai&&(r=Xr(e)),e=r===ai?"script"===e?((e=n.createElement("div")).innerHTML="<script><\/script>",e.removeChild(e.firstChild)):"string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):n.createElementNS(r,e)}function li(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function fi(e,t,n,r){var i=oi(t,n);switch(t){case"iframe":case"object":yn("topLoad","load",e);var o=n;break;case"video":case"audio":for(o in En)En.hasOwnProperty(o)&&yn(o,En[o],e);o=n;break;case"source":yn("topError","error",e),o=n;break;case"img":case"image":case"link":yn("topError","error",e),yn("topLoad","load",e),o=n;break;case"form":yn("topReset","reset",e),yn("topSubmit","submit",e),o=n;break;case"details":yn("topToggle","toggle",e),o=n;break;case"input":bt(e,n),o=yt(e,n),yn("topInvalid","invalid",e),ci(r,"onChange");break;case"option":o=Fr(e,n);break;case"select":Yr(e,n),o=Ye({},n,{value:void 0}),yn("topInvalid","invalid",e),ci(r,"onChange");break;case"textarea":zr(e,n),o=Br(e,n),yn("topInvalid","invalid",e),ci(r,"onChange");break;default:o=n}ii(t,o,si);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];"style"===a?ni(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&Zr(e,c):"children"===a?"string"==typeof c?("textarea"!==t||""!==c)&&Qr(e,c):"number"==typeof c&&Qr(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(v.hasOwnProperty(a)?null!=c&&ci(r,a):null!=c&&vt(e,a,c,i))}switch(t){case"input":We(e),_t(e,n);break;case"textarea":We(e),Gr(e);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?Vr(e,!!n.multiple,t,!1):null!=n.defaultValue&&Vr(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=u)}}function di(e,t,n,r,i){var o=null;switch(t){case"input":n=yt(e,n),r=yt(e,r),o=[];break;case"option":n=Fr(e,n),r=Fr(e,r),o=[];break;case"select":n=Ye({},n,{value:void 0}),r=Ye({},r,{value:void 0}),o=[];break;case"textarea":n=Br(e,n),r=Br(e,r),o=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=u)}ii(t,r,si),t=e=void 0;var a=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var s=n[e];for(t in s)s.hasOwnProperty(t)&&(a||(a={}),a[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(v.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in r){var c=r[e];if(s=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&c!==s&&(null!=c||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||c&&c.hasOwnProperty(t)||(a||(a={}),a[t]="");for(t in c)c.hasOwnProperty(t)&&s[t]!==c[t]&&(a||(a={}),a[t]=c[t])}else a||(o||(o=[]),o.push(e,a)),a=c;else"dangerouslySetInnerHTML"===e?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(e,""+c)):"children"===e?s===c||"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(e,""+c):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(v.hasOwnProperty(e)?(null!=c&&ci(i,e),o||s===c||(o=[])):(o=o||[]).push(e,c))}return a&&(o=o||[]).push("style",a),o}function pi(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&xt(e,i),oi(n,r),r=oi(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?ni(e,s):"dangerouslySetInnerHTML"===a?Zr(e,s):"children"===a?Qr(e,s):vt(e,a,s,r)}switch(n){case"input":wt(e,i);break;case"textarea":Hr(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Vr(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Vr(e,!!i.multiple,i.defaultValue,!0):Vr(e,!!i.multiple,i.multiple?[]:"",!1))}}function hi(e,t,n,r,i){switch(t){case"iframe":case"object":yn("topLoad","load",e);break;case"video":case"audio":for(var o in En)En.hasOwnProperty(o)&&yn(o,En[o],e);break;case"source":yn("topError","error",e);break;case"img":case"image":case"link":yn("topError","error",e),yn("topLoad","load",e);break;case"form":yn("topReset","reset",e),yn("topSubmit","submit",e);break;case"details":yn("topToggle","toggle",e);break;case"input":bt(e,n),yn("topInvalid","invalid",e),ci(i,"onChange");break;case"select":Yr(e,n),yn("topInvalid","invalid",e),ci(i,"onChange");break;case"textarea":zr(e,n),yn("topInvalid","invalid",e),ci(i,"onChange")}for(var a in ii(t,n,si),r=null,n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"==typeof o?e.textContent!==o&&(r=["children",o]):"number"==typeof o&&e.textContent!==""+o&&(r=["children",""+o]):v.hasOwnProperty(a)&&null!=o&&ci(i,a));switch(t){case"input":We(e),_t(e,n);break;case"textarea":We(e),Gr(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=u)}return r}function mi(e,t){return e.nodeValue!==t}var gi=Object.freeze({createElement:ui,createTextNode:li,setInitialProperties:fi,diffProperties:di,updateProperties:pi,diffHydratedProperties:hi,diffHydratedText:mi,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(wt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Y(r);i||ze("90"),qe(r),wt(r,i)}}}break;case"textarea":Hr(e,n);break;case"select":null!=(t=n.value)&&Vr(e,!!n.multiple,t,!1)}}});Pe.injectFiberControlledHostComponent(gi);var vi=null,yi=null;function bi(e){this._expirationTime=Ti.computeUniqueAsyncExpiration(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function xi(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function wi(e,t,n){this._internalRoot=Ti.createContainer(e,t,n)}function _i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Mi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}bi.prototype.render=function(e){this._defer||ze("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new xi;return Ti.updateContainerAtExpirationTime(e,t,null,n,r._onCommit),r},bi.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},bi.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||ze("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)i=(r=i)._next;null===r&&ze("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ti.flushRoot(e,n),t=this._next,(this._next=null)!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},bi.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},xi.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},xi.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&ze("191",n),n()}}},wi.prototype.render=function(e,t){var n=this._internalRoot,r=new xi;return null!==(t=void 0===t?null:t)&&r.then(t),Ti.updateContainer(e,n,null,r._onCommit),r},wi.prototype.unmount=function(e){var t=this._internalRoot,n=new xi;return null!==(e=void 0===e?null:e)&&n.then(e),Ti.updateContainer(null,t,null,n._onCommit),n},wi.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new xi;return null!==(n=void 0===n?null:n)&&i.then(n),Ti.updateContainer(t,r,e,i._onCommit),i},wi.prototype.createBatch=function(){var e=new bi(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)(n.firstBatch=e)._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)r=(n=r)._next;e._next=r,null!==n&&(n._next=e)}return e};var Ti=Tr({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kr(null,"");break;default:e=Kr(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}return e},getChildHostContext:function(e,t){return Kr(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){vi=gn;var e=p();if(Nn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,c=0,u=0,l=e,f=null;t:for(;;){for(var d;l!==t||0!==r&&3!==l.nodeType||(a=o+r),l!==i||0!==n&&3!==l.nodeType||(s=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(d=l.firstChild);)f=l,l=d;for(;;){if(l===e)break t;if(f===t&&++c===r&&(a=o),f===i&&++u===n&&(s=o),null!==(d=l.nextSibling))break;f=(l=f).parentNode}l=d}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;vn(!(yi={focusedElem:e,selectionRange:t}))},resetAfterCommit:function(){var e=yi,t=p(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&s(document.documentElement,n)){if(Nn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var i=n[ee()].length;e=Math.min(r.start,i),r=void 0===r.end?e:Math.min(r.end,i),!t.extend&&r<e&&(i=r,r=e,e=i),i=Ln(n,e);var o=Ln(n,r);if(i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)){var a=document.createRange();a.setStart(i.node,i.offset),t.removeAllRanges(),r<e?(t.addRange(a),t.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),t.addRange(a))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}yi=null,vn(vi),vi=null},createInstance:function(e,t,n,r,i){return(e=ui(e,t,n,r))[D]=i,e[j]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return fi(e,t,n,r),Mi(t,n)},prepareUpdate:function(e,t,n,r,i){return di(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return(e=li(e,t))[D]=r,e},now:Ur,mutation:{commitMount:function(e,t,n){Mi(t,n)&&e.focus()},commitUpdate:function(e,t,n,r,i){e[j]=i,pi(e,t,n,r,i)},resetTextContent:function(e){Qr(e,"")},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,o){return e[D]=o,e[j]=n,hi(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return e[D]=n,mi(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:kr,cancelDeferredCallback:Pr}),Si=Ti;function Ui(e,t,n,r,i){_i(n)||ze("200");var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var e=Ti.getPublicRootInstance(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new wi(e,!1,t)}(n,r),"function"==typeof i){var s=i;i=function(){var e=Ti.getPublicRootInstance(o._internalRoot);s.call(e)}}Ti.unbatchedUpdates(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return Ti.getPublicRootInstance(o._internalRoot)}function ki(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return _i(t)||ze("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Qe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ie=Si.batchedUpdates,Re=Si.interactiveUpdates,Le=Si.flushInteractiveUpdates;var Pi={createPortal:ki,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(t)return Ti.findHostInstance(t);"function"==typeof e.render?ze("188"):ze("213",Object.keys(e))},hydrate:function(e,t,n){return Ui(null,e,t,!0,n)},render:function(e,t,n){return Ui(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&ze("38"),Ui(e,t,n,!1,r)},unmountComponentAtNode:function(e){return _i(e)||ze("40"),!!e._reactRootContainer&&(Ti.unbatchedUpdates(function(){Ui(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return ki.apply(void 0,arguments)},unstable_batchedUpdates:Ti.batchedUpdates,unstable_deferredUpdates:Ti.deferredUpdates,flushSync:Ti.flushSync,unstable_flushControlled:Ti.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:L,EventPluginRegistry:b,EventPropagators:Z,ReactControlledComponent:Oe,ReactDOMComponentTree:B,ReactDOMEventListener:_n},unstable_createRoot:function(e,t){return new wi(e,!0,null!=t&&!0===t.hydrate)}};Ti.injectIntoDevTools({findFiberByHostInstance:F,bundleType:0,version:"16.3.0",rendererPackageName:"react-dom"});var Ei=Object.freeze({default:Pi}),Ci=Ei&&Pi||Ei;e.exports=Ci.default?Ci.default:Ci},ylqs:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},yt8O:function(e,t,n){"use strict";var r=n("nGyu"),i=n("1TsA"),o=n("hPIQ"),a=n("aCFj");e.exports=n("Afnz")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},z2o2:function(e,t,n){var r=n("0/R4"),i=n("Z6vF").onFreeze;n("Xtr8")("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},zFFn:function(e,t,n){n("hhXQ"),e.exports=n("g3g5").Object.values},zLkG:function(e,t,n){t.f=n("UWiX")},zRwo:function(e,t,n){var r=n("6FMO");e.exports=function(e,t){return new(r(e))(t)}},zhAb:function(e,t,n){var a=n("aagx"),s=n("aCFj"),c=n("w2a5")(!1),u=n("YTvA")("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=u&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~c(o,n)||o.push(n));return o}},zn7N:function(e,t,n){var i=n("Y7ZC"),o=n("WEpk"),a=n("KUxP");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}}}]);